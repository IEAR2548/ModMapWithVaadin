{
  "version": 3,
  "sources": ["../../@vaadin/field-highlighter/theme/lumo/vaadin-field-outline-styles.js", "../../@vaadin/field-highlighter/theme/lumo/vaadin-user-tags-styles.js", "../../@vaadin/field-highlighter/src/vaadin-field-highlighter-styles.js", "../../@vaadin/field-highlighter/src/vaadin-user-tag.js", "../../@vaadin/field-highlighter/src/vaadin-user-tags-overlay.js", "../../@vaadin/field-highlighter/src/vaadin-user-tags.js", "../../@vaadin/field-highlighter/src/vaadin-field-outline.js", "../../@vaadin/field-highlighter/src/fields/outline.js", "../../@vaadin/field-highlighter/src/fields/vaadin-component-observer.js", "../../@vaadin/field-highlighter/src/fields/vaadin-field-observer.js", "../../@vaadin/field-highlighter/src/fields/vaadin-checkbox-group-observer.js", "../../@vaadin/field-highlighter/src/fields/vaadin-date-picker-observer.js", "../../@vaadin/field-highlighter/src/fields/vaadin-date-time-picker-observer.js", "../../@vaadin/field-highlighter/src/fields/vaadin-list-box-observer.js", "../../@vaadin/field-highlighter/src/fields/vaadin-radio-group-observer.js", "../../@vaadin/field-highlighter/src/fields/vaadin-select-observer.js", "../../@vaadin/field-highlighter/src/vaadin-field-highlighter.js"],
  "sourcesContent": ["/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\r\nimport '@vaadin/vaadin-lumo-styles/style.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles(\r\n  'vaadin-field-outline',\r\n  css`\r\n    :host {\r\n      transition: opacity 0.3s;\r\n      -webkit-mask-image: none !important;\r\n      mask-image: none !important;\r\n    }\r\n\r\n    :host::before {\r\n      content: '';\r\n      position: absolute;\r\n      inset: 0;\r\n      box-shadow: 0 0 0 2px var(--_active-user-color);\r\n      border-radius: var(--lumo-border-radius-s);\r\n      transition: box-shadow 0.3s;\r\n    }\r\n\r\n    :host([context$='checkbox'])::before {\r\n      box-shadow:\r\n        0 0 0 2px var(--lumo-base-color),\r\n        0 0 0 4px var(--_active-user-color);\r\n    }\r\n\r\n    :host([context$='radio-button'])::before {\r\n      border-radius: 50%;\r\n      box-shadow:\r\n        0 0 0 3px var(--lumo-base-color),\r\n        0 0 0 5px var(--_active-user-color);\r\n    }\r\n\r\n    :host([context$='item'])::before {\r\n      box-shadow: inset 0 0 0 2px var(--_active-user-color);\r\n    }\r\n  `,\r\n  { moduleId: 'lumo-field-outline' },\r\n);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport '@vaadin/vaadin-lumo-styles/color.js';\r\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\r\nimport '@vaadin/vaadin-lumo-styles/style.js';\r\nimport '@vaadin/vaadin-lumo-styles/typography.js';\r\nimport { overlay } from '@vaadin/vaadin-lumo-styles/mixins/overlay.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles(\r\n  'vaadin-user-tags-overlay',\r\n  [\r\n    overlay,\r\n    css`\r\n      [part='overlay'] {\r\n        will-change: opacity, transform;\r\n      }\r\n\r\n      :host([opening]) [part='overlay'] {\r\n        animation: 0.1s lumo-user-tags-enter ease-out both;\r\n      }\r\n\r\n      @keyframes lumo-user-tags-enter {\r\n        0% {\r\n          opacity: 0;\r\n        }\r\n      }\r\n\r\n      :host([closing]) [part='overlay'] {\r\n        animation: 0.1s lumo-user-tags-exit both;\r\n      }\r\n\r\n      @keyframes lumo-user-tags-exit {\r\n        100% {\r\n          opacity: 0;\r\n        }\r\n      }\r\n    `,\r\n  ],\r\n  {\r\n    moduleId: 'lumo-user-tags-overlay',\r\n  },\r\n);\r\n\r\nregisterStyles(\r\n  'vaadin-user-tag',\r\n  css`\r\n    :host {\r\n      font-family: var(--lumo-font-family);\r\n      font-size: var(--lumo-font-size-xxs);\r\n      border-radius: var(--lumo-border-radius-s);\r\n      box-shadow: var(--lumo-box-shadow-xs);\r\n      --vaadin-user-tag-offset: var(--lumo-space-xs);\r\n    }\r\n\r\n    [part='name'] {\r\n      color: var(--lumo-primary-contrast-color);\r\n      padding: 0.3em calc(0.3em + var(--lumo-border-radius-s) / 4);\r\n      line-height: 1;\r\n      font-weight: 500;\r\n      min-width: calc(var(--lumo-line-height-xs) * 1em + 0.45em);\r\n    }\r\n  `,\r\n  { moduleId: 'lumo-user-tag' },\r\n);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { css } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nexport const fieldOutlineStyles = css`\r\n  :host {\r\n    display: block;\r\n    box-sizing: border-box;\r\n    position: absolute;\r\n    inset: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    pointer-events: none;\r\n    user-select: none;\r\n    opacity: 0;\r\n    --_active-user-color: transparent;\r\n  }\r\n\r\n  :host([has-active-user]) {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const userTagStyles = css`\r\n  :host {\r\n    display: block;\r\n    box-sizing: border-box;\r\n    margin: 0 0 var(--vaadin-user-tag-offset);\r\n    opacity: 0;\r\n    height: 1.3rem;\r\n    transition: opacity 0.2s ease-in-out;\r\n    background-color: var(--vaadin-user-tag-color);\r\n    color: #fff;\r\n    cursor: default;\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n    --vaadin-user-tag-offset: 4px;\r\n  }\r\n\r\n  :host(.show) {\r\n    opacity: 1;\r\n  }\r\n\r\n  :host(:last-of-type) {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  [part='name'] {\r\n    overflow: hidden;\r\n    white-space: nowrap;\r\n    text-overflow: ellipsis;\r\n    box-sizing: border-box;\r\n    padding: 2px 4px;\r\n    height: 1.3rem;\r\n    font-size: 13px;\r\n  }\r\n`;\r\n\r\nexport const userTagsOverlayStyles = css`\r\n  :host {\r\n    background: transparent;\r\n    box-shadow: none;\r\n  }\r\n\r\n  :scope [part='overlay'] {\r\n    box-shadow: none;\r\n    background: transparent;\r\n    position: relative;\r\n    left: -4px;\r\n    padding: 4px;\r\n    outline: none;\r\n    overflow: visible;\r\n  }\r\n\r\n  ::slotted([part='tags']) {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: flex-start;\r\n  }\r\n\r\n  :host([dir='rtl']) [part='overlay'] {\r\n    left: auto;\r\n    right: -4px;\r\n  }\r\n\r\n  :scope [part='content'] {\r\n    padding: 0;\r\n  }\r\n\r\n  :host([opening]),\r\n  :host([closing]) {\r\n    animation: 0.14s user-tags-overlay-dummy-animation;\r\n  }\r\n\r\n  @keyframes user-tags-overlay-dummy-animation {\r\n    0% {\r\n      opacity: 1;\r\n    }\r\n\r\n    100% {\r\n      opacity: 1;\r\n    }\r\n  }\r\n`;\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, LitElement } from 'lit';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { PolylitMixin } from '@vaadin/component-base/src/polylit-mixin.js';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { userTagStyles } from './vaadin-field-highlighter-styles.js';\r\n\r\n/**\r\n * An element used internally by `<vaadin-field-highlighter>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes DirMixin\r\n * @mixes ThemableMixin\r\n * @private\r\n */\r\nexport class UserTag extends ThemableMixin(DirMixin(PolylitMixin(LitElement))) {\r\n  static get is() {\r\n    return 'vaadin-user-tag';\r\n  }\r\n\r\n  static get styles() {\r\n    return userTagStyles;\r\n  }\r\n\r\n  /** @protected */\r\n  render() {\r\n    return html`<div part=\"name\">${this.name}</div>`;\r\n  }\r\n\r\n  static get properties() {\r\n    return {\r\n      /**\r\n       * Name of the user.\r\n       */\r\n      name: {\r\n        type: String,\r\n      },\r\n\r\n      /**\r\n       * Id of the user.\r\n       */\r\n      uid: {\r\n        type: String,\r\n      },\r\n\r\n      /**\r\n       * Color index of the user.\r\n       */\r\n      colorIndex: {\r\n        type: Number,\r\n        observer: '_colorIndexChanged',\r\n      },\r\n    };\r\n  }\r\n\r\n  /** @protected */\r\n  ready() {\r\n    super.ready();\r\n\r\n    // Capture mousedown to prevent click on the underlying label,\r\n    // which would result in undesirable focusing field components.\r\n    // TODO: consider handling touchstart event in a similar way\r\n    this.addEventListener('mousedown', this._onClick.bind(this), true);\r\n  }\r\n\r\n  /** @private */\r\n  _colorIndexChanged(index) {\r\n    if (index != null) {\r\n      this.style.setProperty('--vaadin-user-tag-color', `var(--vaadin-user-color-${index})`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {Event} e\r\n   * @private\r\n   */\r\n  _onClick(e) {\r\n    e.preventDefault();\r\n    this.dispatchEvent(\r\n      new CustomEvent('user-tag-click', {\r\n        bubbles: true,\r\n        composed: true,\r\n        detail: {\r\n          name: this.name,\r\n        },\r\n      }),\r\n    );\r\n  }\r\n}\r\n\r\ndefineCustomElement(UserTag);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, LitElement } from 'lit';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { PolylitMixin } from '@vaadin/component-base/src/polylit-mixin.js';\r\nimport { OverlayMixin } from '@vaadin/overlay/src/vaadin-overlay-mixin.js';\r\nimport { PositionMixin } from '@vaadin/overlay/src/vaadin-overlay-position-mixin.js';\r\nimport { overlayStyles } from '@vaadin/overlay/src/vaadin-overlay-styles.js';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { userTagsOverlayStyles } from './vaadin-field-highlighter-styles.js';\r\n\r\n/**\r\n * An element used internally by `<vaadin-field-highlighter>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes PositionMixin\r\n * @mixes OverlayMixin\r\n * @mixes DirMixin\r\n * @mixes ThemableMixin\r\n * @private\r\n */\r\nclass UserTagsOverlay extends PositionMixin(OverlayMixin(DirMixin(ThemableMixin(PolylitMixin(LitElement))))) {\r\n  static get is() {\r\n    return 'vaadin-user-tags-overlay';\r\n  }\r\n\r\n  static get styles() {\r\n    return [overlayStyles, userTagsOverlayStyles];\r\n  }\r\n\r\n  /** @protected */\r\n  render() {\r\n    return html`\r\n      <div id=\"backdrop\" part=\"backdrop\" ?hidden=\"${!this.withBackdrop}\"></div>\r\n      <div part=\"overlay\" id=\"overlay\">\r\n        <div part=\"content\" id=\"content\">\r\n          <slot></slot>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndefineCustomElement(UserTagsOverlay);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport './vaadin-user-tag.js';\r\nimport './vaadin-user-tags-overlay.js';\r\nimport { css, html, LitElement } from 'lit';\r\nimport { timeOut } from '@vaadin/component-base/src/async.js';\r\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { PolylitMixin } from '@vaadin/component-base/src/polylit-mixin.js';\r\n\r\nconst listenOnce = (elem, type) => {\r\n  return new Promise((resolve) => {\r\n    const listener = () => {\r\n      elem.removeEventListener(type, listener);\r\n      resolve();\r\n    };\r\n    elem.addEventListener(type, listener);\r\n  });\r\n};\r\n\r\n/**\r\n * An element used internally by `<vaadin-field-highlighter>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @private\r\n */\r\nexport class UserTags extends PolylitMixin(LitElement) {\r\n  static get is() {\r\n    return 'vaadin-user-tags';\r\n  }\r\n\r\n  static get styles() {\r\n    return css`\r\n      :host {\r\n        position: absolute;\r\n      }\r\n    `;\r\n  }\r\n\r\n  /** @protected */\r\n  render() {\r\n    return html`\r\n      <vaadin-user-tags-overlay\r\n        id=\"overlay\"\r\n        modeless\r\n        .opened=\"${this.opened}\"\r\n        no-vertical-overlap\r\n        @vaadin-overlay-open=\"${this._onOverlayOpen}\"\r\n      ></vaadin-user-tags-overlay>\r\n    `;\r\n  }\r\n\r\n  static get properties() {\r\n    return {\r\n      /**\r\n       * True when the field has focus. In this case, the overlay\r\n       * with a list of the user tags needs to be always visible.\r\n       */\r\n      hasFocus: {\r\n        type: Boolean,\r\n        value: false,\r\n        observer: '_hasFocusChanged',\r\n      },\r\n\r\n      /**\r\n       * True when the overlay is opened.\r\n       */\r\n      opened: {\r\n        type: Boolean,\r\n        value: false,\r\n        sync: true,\r\n      },\r\n\r\n      /**\r\n       * True when the overlay is flashing: quickly shown and then hidden\r\n       * once a different user starts to interact with the field.\r\n       */\r\n      flashing: {\r\n        type: Boolean,\r\n        value: false,\r\n      },\r\n\r\n      /**\r\n       * A target element that the overlay is positioned to.\r\n       */\r\n      target: {\r\n        type: Object,\r\n        observer: '__targetChanged',\r\n      },\r\n\r\n      /**\r\n       * A list of users who focused the field.\r\n       */\r\n      users: {\r\n        type: Array,\r\n        value: () => [],\r\n      },\r\n\r\n      duration: {\r\n        type: Number,\r\n        value: 200,\r\n      },\r\n\r\n      delay: {\r\n        type: Number,\r\n        value: 2000,\r\n      },\r\n\r\n      /** @private */\r\n      __flashQueue: {\r\n        type: Array,\r\n        value: () => [],\r\n      },\r\n\r\n      /** @private */\r\n      __isTargetVisible: {\r\n        type: Boolean,\r\n        value: false,\r\n      },\r\n    };\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.__targetVisibilityObserver = new IntersectionObserver(\r\n      ([entry]) => {\r\n        this.__onTargetVisibilityChange(entry.isIntersecting);\r\n      },\r\n      { threshold: 1 },\r\n    );\r\n  }\r\n\r\n  /** @protected */\r\n  get wrapper() {\r\n    return this.$.overlay.querySelector('[part=\"tags\"]');\r\n  }\r\n\r\n  /** @protected */\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    if (this.target) {\r\n      this.__targetVisibilityObserver.observe(this.target);\r\n    }\r\n  }\r\n\r\n  /** @protected */\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    this.opened = false;\r\n    if (this.target) {\r\n      this.__targetVisibilityObserver.unobserve(this.target);\r\n    }\r\n  }\r\n\r\n  /** @protected */\r\n  ready() {\r\n    super.ready();\r\n\r\n    this.$.overlay.renderer = (root) => {\r\n      if (!root.firstChild) {\r\n        const tags = document.createElement('div');\r\n        tags.setAttribute('part', 'tags');\r\n        root.appendChild(tags);\r\n      }\r\n    };\r\n\r\n    this.$.overlay.requestContentUpdate();\r\n  }\r\n\r\n  /** @private */\r\n  __onTargetVisibilityChange(isVisible) {\r\n    this.__isTargetVisible = isVisible;\r\n\r\n    // Open the overlay and run the flashing animation for the user tags\r\n    // that have been enqueued (if any) during a `.setUsers()` call\r\n    // because the field was not visible at that point.\r\n    if (isVisible && this.__flashQueue.length > 0 && !this.flashing) {\r\n      this.flashTags(this.__flashQueue.shift());\r\n      return;\r\n    }\r\n\r\n    // Open the overlay when the field is visible and focused.\r\n    // - opens the overlay in the case it was not opened during a `.show()` call because the field was not visible at that point.\r\n    // - re-opens the overlay in the case it was closed because the focused field became not visible for a while (see the below check).\r\n    if (isVisible && this.hasFocus) {\r\n      this.opened = true;\r\n      return;\r\n    }\r\n\r\n    // Close the overlay when the field is not visible.\r\n    // The focused field will be re-opened once it becomes visible again (see the above check).\r\n    if (!isVisible && this.opened) {\r\n      this.opened = false;\r\n    }\r\n  }\r\n\r\n  /** @private */\r\n  __targetChanged(newTarget, oldTarget) {\r\n    this.$.overlay.positionTarget = newTarget;\r\n\r\n    if (oldTarget) {\r\n      this.__targetVisibilityObserver.unobserve(oldTarget);\r\n    }\r\n\r\n    if (newTarget) {\r\n      this.__targetVisibilityObserver.observe(newTarget);\r\n    }\r\n  }\r\n\r\n  /** @private */\r\n  _hasFocusChanged(hasFocus) {\r\n    if (hasFocus && this.flashing) {\r\n      this.stopFlash();\r\n    }\r\n  }\r\n\r\n  createUserTag(user) {\r\n    const tag = document.createElement('vaadin-user-tag');\r\n    tag.name = user.name;\r\n    tag.uid = user.id;\r\n    tag.colorIndex = user.colorIndex;\r\n    return tag;\r\n  }\r\n\r\n  getTagForUser(user) {\r\n    return Array.from(this.wrapper.children).find((tag) => tag.uid === user.id);\r\n  }\r\n\r\n  getChangedTags(addedUsers, removedUsers) {\r\n    const removed = removedUsers.map((user) => this.getTagForUser(user));\r\n    const added = addedUsers.map((user) => this.getTagForUser(user) || this.createUserTag(user));\r\n    return { added, removed };\r\n  }\r\n\r\n  applyTagsStart({ added, removed }) {\r\n    const wrapper = this.wrapper;\r\n    removed.forEach((tag) => {\r\n      if (tag) {\r\n        tag.classList.add('removing');\r\n        tag.classList.remove('show');\r\n      }\r\n    });\r\n    added.forEach((tag) => wrapper.insertBefore(tag, wrapper.firstChild));\r\n  }\r\n\r\n  applyTagsEnd({ added, removed }) {\r\n    const wrapper = this.wrapper;\r\n    removed.forEach((tag) => {\r\n      if (tag && tag.parentNode === wrapper) {\r\n        wrapper.removeChild(tag);\r\n      }\r\n    });\r\n    added.forEach((tag) => tag && tag.classList.add('show'));\r\n  }\r\n\r\n  setUsers(users) {\r\n    // Apply pending change if needed\r\n    this.requestContentUpdate();\r\n\r\n    let addedUsers = [];\r\n    let removedUsers = [];\r\n\r\n    const hasNewUsers = Array.isArray(users);\r\n    const hasOldUsers = Array.isArray(this.users);\r\n\r\n    if (hasOldUsers) {\r\n      const newUserIds = (users || []).map((user) => user.id);\r\n      removedUsers = this.users.filter((item) => !newUserIds.includes(item.id));\r\n    }\r\n\r\n    if (hasNewUsers) {\r\n      const oldUserIds = (this.users || []).map((user) => user.id);\r\n      addedUsers = users.filter((item) => !oldUserIds.includes(item.id)).reverse();\r\n    }\r\n\r\n    if (addedUsers.length === 0 && removedUsers.length === 0) {\r\n      return;\r\n    }\r\n\r\n    const changedTags = this.getChangedTags(addedUsers, removedUsers);\r\n\r\n    // Check if flash queue contains pending tags for removed users\r\n    if (this.__flashQueue.length > 0) {\r\n      removedUsers.forEach((user, i) => {\r\n        if (changedTags.removed[i] === null) {\r\n          return;\r\n        }\r\n\r\n        this.__flashQueue.forEach((tags) => {\r\n          if (tags.some((tag) => tag.uid === user.id)) {\r\n            this.__flashQueue = this.__flashQueue.filter((_, index) => index !== i);\r\n          }\r\n        });\r\n      });\r\n    }\r\n\r\n    if (this.opened && this.hasFocus) {\r\n      this.updateTags(users, changedTags);\r\n    } else if (addedUsers.length > 0 && document.visibilityState !== 'hidden') {\r\n      // Avoid adding to queue if window is not visible.\r\n\r\n      const addedTags = changedTags.added;\r\n      const removedTags = changedTags.removed;\r\n\r\n      // Only sync the removed user tags.\r\n      // The added tags are handled by the `flashTags` method.\r\n      this.updateTagsSync(users, {\r\n        added: [],\r\n        removed: removedTags,\r\n      });\r\n\r\n      if (this.flashing || !this.__isTargetVisible) {\r\n        // Schedule next flash later\r\n        this.__flashQueue = [...this.__flashQueue, addedTags];\r\n      } else {\r\n        this.flashTags(addedTags);\r\n      }\r\n    } else {\r\n      this.updateTagsSync(users, changedTags);\r\n    }\r\n  }\r\n\r\n  /** @private */\r\n  _onOverlayOpen() {\r\n    // Animate all tags except removing ones\r\n    Array.from(this.wrapper.children).forEach((tag) => {\r\n      if (!tag.classList.contains('removing')) {\r\n        tag.classList.add('show');\r\n      }\r\n    });\r\n  }\r\n\r\n  flashTags(added) {\r\n    this.flashing = true;\r\n    const wrapper = this.wrapper;\r\n\r\n    // Hide existing tags\r\n    const hidden = Array.from(wrapper.children);\r\n    hidden.forEach((tag) => {\r\n      tag.style.display = 'none';\r\n    });\r\n\r\n    // Render new tags\r\n    added.forEach((tag) => {\r\n      wrapper.insertBefore(tag, wrapper.firstChild);\r\n    });\r\n\r\n    this.flashPromise = new Promise((resolve) => {\r\n      listenOnce(this.$.overlay, 'vaadin-overlay-open').then(() => {\r\n        this._debounceFlashStart = Debouncer.debounce(\r\n          this._debounceFlashStart,\r\n          timeOut.after(this.duration + this.delay),\r\n          () => {\r\n            // Animate disappearing\r\n            if (!this.hasFocus) {\r\n              added.forEach((tag) => tag.classList.remove('show'));\r\n            }\r\n            this._debounceFlashEnd = Debouncer.debounce(this._debounceFlashEnd, timeOut.after(this.duration), () => {\r\n              // Show all tags\r\n              const finishFlash = () => {\r\n                hidden.forEach((tag) => {\r\n                  tag.style.display = 'block';\r\n                });\r\n                this.flashing = false;\r\n                resolve();\r\n              };\r\n\r\n              if (this.hasFocus) {\r\n                finishFlash();\r\n              } else {\r\n                // Wait for overlay closing animation to complete\r\n                listenOnce(this.$.overlay, 'animationend').then(() => {\r\n                  finishFlash();\r\n                });\r\n\r\n                this.opened = false;\r\n              }\r\n            });\r\n          },\r\n        );\r\n      });\r\n    }).then(() => {\r\n      if (this.__flashQueue.length > 0) {\r\n        const tags = this.__flashQueue[0];\r\n        this.__flashQueue = [...this.__flashQueue].slice(1);\r\n        this.flashTags(tags);\r\n      }\r\n    });\r\n\r\n    this.opened = true;\r\n  }\r\n\r\n  stopFlash() {\r\n    if (this._debounceFlashStart) {\r\n      this._debounceFlashStart.flush();\r\n    }\r\n    if (this._debounceFlashEnd) {\r\n      this._debounceFlashEnd.flush();\r\n    }\r\n    this.$.overlay._flushAnimation('closing');\r\n  }\r\n\r\n  updateTags(users, changed) {\r\n    this.applyTagsStart(changed);\r\n\r\n    this._debounceRender = Debouncer.debounce(this._debounceRender, timeOut.after(this.duration), () => {\r\n      this.users = users;\r\n\r\n      this.applyTagsEnd(changed);\r\n\r\n      if (users.length === 0 && this.opened) {\r\n        this.opened = false;\r\n      }\r\n    });\r\n  }\r\n\r\n  updateTagsSync(users, changed) {\r\n    this.applyTagsStart(changed);\r\n    this.users = users;\r\n    this.applyTagsEnd(changed);\r\n  }\r\n\r\n  show() {\r\n    this.hasFocus = true;\r\n    if (this.__isTargetVisible) {\r\n      this.opened = true;\r\n    }\r\n  }\r\n\r\n  hide() {\r\n    this.hasFocus = false;\r\n    this.opened = false;\r\n  }\r\n\r\n  requestContentUpdate() {\r\n    /* c8 ignore next */\r\n    if (this._debounceRender && this._debounceRender.isActive()) {\r\n      this._debounceRender.flush();\r\n    }\r\n  }\r\n}\r\n\r\ndefineCustomElement(UserTags);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, LitElement } from 'lit';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { PolylitMixin } from '@vaadin/component-base/src/polylit-mixin.js';\r\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { fieldOutlineStyles } from './vaadin-field-highlighter-styles.js';\r\n\r\nregisterStyles('vaadin-field-outline', fieldOutlineStyles, { moduleId: 'vaadin-field-outline-styles' });\r\n\r\n/**\r\n * An element used internally by `<vaadin-field-highlighter>`. Not intended to be used separately.\r\n *\r\n * @extends HTMLElement\r\n * @mixes DirMixin\r\n * @mixes ThemableMixin\r\n * @private\r\n */\r\nexport class FieldOutline extends ThemableMixin(DirMixin(PolylitMixin(LitElement))) {\r\n  static get is() {\r\n    return 'vaadin-field-outline';\r\n  }\r\n\r\n  static get properties() {\r\n    return {\r\n      /**\r\n       * A user who last interacted with the field.\r\n       */\r\n      user: {\r\n        type: Object,\r\n        value: null,\r\n        observer: '_userChanged',\r\n        sync: true,\r\n      },\r\n    };\r\n  }\r\n\r\n  /** @protected */\r\n  render() {\r\n    return html``;\r\n  }\r\n\r\n  /** @protected */\r\n  ready() {\r\n    super.ready();\r\n\r\n    this.setAttribute('part', 'outline');\r\n\r\n    this._field = this.getRootNode().host;\r\n  }\r\n\r\n  /** @private */\r\n  _userChanged(user) {\r\n    // Set state attribute for styling\r\n    this.toggleAttribute('has-active-user', Boolean(user));\r\n\r\n    // Set custom property for styling\r\n    const value = user ? `var(--vaadin-user-color-${user.colorIndex})` : 'transparent';\r\n\r\n    const prop = '--_active-user-color';\r\n    this.style.setProperty(prop, value);\r\n\r\n    if (this._field) {\r\n      this._field.style.setProperty(prop, value);\r\n    }\r\n  }\r\n}\r\n\r\ndefineCustomElement(FieldOutline);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\n\r\nconst getOutlineTarget = (element, tagName) => {\r\n  switch (tagName) {\r\n    /* c8 ignore next */\r\n    case 'vaadin-big-decimal-field':\r\n    case 'vaadin-combo-box':\r\n    case 'vaadin-date-picker':\r\n    case 'vaadin-email-field':\r\n    case 'vaadin-integer-field':\r\n    case 'vaadin-number-field':\r\n    case 'vaadin-password-field':\r\n    case 'vaadin-select':\r\n    case 'vaadin-text-area':\r\n    case 'vaadin-text-field':\r\n    case 'vaadin-time-picker':\r\n      return element.shadowRoot.querySelector('[part=\"input-field\"]');\r\n    /* c8 ignore next */\r\n    case 'vaadin-checkbox':\r\n      return element.shadowRoot.querySelector('[part=\"checkbox\"]');\r\n    /* c8 ignore next */\r\n    case 'vaadin-radio-button':\r\n      return element.shadowRoot.querySelector('[part=\"radio\"]');\r\n    /* c8 ignore next */\r\n    default:\r\n      return element;\r\n  }\r\n};\r\n\r\nconst fields = new WeakMap();\r\n\r\nexport const initOutline = (field) => {\r\n  if (!fields.has(field)) {\r\n    // Get target to attach instance\r\n    const tagName = field.tagName.toLowerCase();\r\n    const target = getOutlineTarget(field, tagName);\r\n\r\n    // Some components set this, but not all\r\n    target.style.position = 'relative';\r\n\r\n    if (tagName.endsWith('text-area')) {\r\n      target.style.overflow = 'visible';\r\n    }\r\n\r\n    const style = document.createElement('style');\r\n    style.textContent = `\r\n      :host([focused]) [part=\"outline\"] {\r\n        opacity: calc(1 - var(--lumo-input-field-pointer-focus-visible, 0));\r\n      }\r\n\r\n      :host([active]) [part=\"outline\"],\r\n      :host([focus-ring]) [part=\"outline\"] {\r\n        display: none;\r\n      }\r\n    `;\r\n    field.shadowRoot.appendChild(style);\r\n\r\n    const outline = document.createElement('vaadin-field-outline');\r\n    (target === field ? field.shadowRoot : target).appendChild(outline);\r\n\r\n    // Mimic :host-context to apply styles\r\n    outline.setAttribute('context', tagName);\r\n\r\n    fields.set(field, { root: field, target, outline });\r\n  }\r\n\r\n  return fields.get(field);\r\n};\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { timeOut } from '@vaadin/component-base/src/async.js';\r\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\r\nimport { initOutline } from './outline.js';\r\n\r\nexport class ComponentObserver {\r\n  constructor(component) {\r\n    this.component = component;\r\n    this.initTags(component);\r\n  }\r\n\r\n  getFields() {\r\n    return [this.component];\r\n  }\r\n\r\n  getFieldIndex(field) {\r\n    return this.getFields().indexOf(field);\r\n  }\r\n\r\n  getFocusTarget(_event) {\r\n    return this.component;\r\n  }\r\n\r\n  initTags(component) {\r\n    const tags = document.createElement('vaadin-user-tags');\r\n    component.shadowRoot.appendChild(tags);\r\n    tags.target = component;\r\n    this._tags = tags;\r\n\r\n    component.addEventListener('mouseenter', (event) => {\r\n      // Ignore mouseleave on overlay opening\r\n      if (event.relatedTarget === this._tags.$.overlay) {\r\n        return;\r\n      }\r\n      this._mouse = true;\r\n      this._mouseDebouncer = Debouncer.debounce(this._mouseDebouncer, timeOut.after(200), () => {\r\n        if (this._mouse) {\r\n          this._tags.show();\r\n        }\r\n      });\r\n    });\r\n\r\n    component.addEventListener('mouseleave', (event) => {\r\n      // Ignore mouseleave on overlay opening\r\n      if (event.relatedTarget === this._tags.$.overlay) {\r\n        return;\r\n      }\r\n      this._mouse = false;\r\n      if (!this._hasFocus) {\r\n        this._tags.hide();\r\n      }\r\n    });\r\n\r\n    component.addEventListener('vaadin-highlight-show', (_event) => {\r\n      this._hasFocus = true;\r\n\r\n      if (this._debouncer && this._debouncer.isActive()) {\r\n        this._debouncer.cancel();\r\n      } else {\r\n        this._tags.show();\r\n      }\r\n    });\r\n\r\n    component.addEventListener('vaadin-highlight-hide', (_event) => {\r\n      this._hasFocus = false;\r\n\r\n      if (!this._mouse) {\r\n        this._debouncer = Debouncer.debounce(this._debouncer, timeOut.after(1), () => {\r\n          this._tags.hide();\r\n        });\r\n      }\r\n    });\r\n\r\n    this._tags.$.overlay.addEventListener('mouseleave', (event) => {\r\n      // Ignore mouseleave when moving back to field\r\n      if (event.relatedTarget === component) {\r\n        return;\r\n      }\r\n      this._mouse = false;\r\n      if (!component.hasAttribute('focused')) {\r\n        this._tags.hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  setOutlines(users) {\r\n    const fields = this.getFields();\r\n    fields.forEach((field, idx) => {\r\n      const { outline } = initOutline(field);\r\n      const index = fields.length === 1 ? 0 : users.map((user) => user.fieldIndex).indexOf(idx);\r\n      outline.user = users[index];\r\n    });\r\n  }\r\n\r\n  showOutline(field) {\r\n    this.fire('show', field);\r\n  }\r\n\r\n  hideOutline(field) {\r\n    this.fire('hide', field);\r\n  }\r\n\r\n  fire(action, field) {\r\n    this.component.dispatchEvent(\r\n      new CustomEvent(`vaadin-highlight-${action}`, {\r\n        bubbles: true,\r\n        composed: true,\r\n        detail: { fieldIndex: this.getFieldIndex(field) },\r\n      }),\r\n    );\r\n  }\r\n\r\n  redraw(users) {\r\n    this._tags.setUsers(users);\r\n    this.setOutlines(users);\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { ComponentObserver } from './vaadin-component-observer.js';\r\n\r\nexport class FieldObserver extends ComponentObserver {\r\n  constructor(field) {\r\n    super(field);\r\n\r\n    this.addListeners(field);\r\n  }\r\n\r\n  addListeners(field) {\r\n    field.addEventListener('focusin', (event) => this.onFocusIn(event));\r\n    field.addEventListener('focusout', (event) => this.onFocusOut(event));\r\n  }\r\n\r\n  onFocusIn(event) {\r\n    const target = this.getFocusTarget(event);\r\n    this.showOutline(target);\r\n  }\r\n\r\n  onFocusOut(event) {\r\n    const target = this.getFocusTarget(event);\r\n    this.hideOutline(target);\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { FieldObserver } from './vaadin-field-observer.js';\r\n\r\nexport class CheckboxGroupObserver extends FieldObserver {\r\n  getFields() {\r\n    return this.component.__checkboxes;\r\n  }\r\n\r\n  getFocusTarget(event) {\r\n    const fields = this.getFields();\r\n    return Array.from(event.composedPath()).find((node) => fields.includes(node));\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { ComponentObserver } from './vaadin-component-observer.js';\r\n\r\nexport class DatePickerObserver extends ComponentObserver {\r\n  constructor(datePicker) {\r\n    super(datePicker);\r\n\r\n    this.datePicker = datePicker;\r\n    this.fullscreenFocus = false;\r\n    this.blurWhileOpened = false;\r\n\r\n    this.addListeners(datePicker);\r\n  }\r\n\r\n  addListeners(datePicker) {\r\n    this.overlay = datePicker.$.overlay;\r\n\r\n    // Fullscreen date picker calls blur() to avoid focusing of the input:\r\n    // 1. first time when focus event is fired (before opening the overlay),\r\n    // 2. second time after the overlay is open, see \"_onOverlayOpened\".\r\n    // Here we set the flag to ignore related focusout events and then to\r\n    // mark date picker as being edited by user (to show field highlight).\r\n    // We have to use capture phase in order to catch this event early.\r\n    datePicker.addEventListener('blur', (event) => this.onBlur(event), true);\r\n\r\n    datePicker.addEventListener('opened-changed', (event) => this.onOpenedChanged(event));\r\n\r\n    this.overlay.addEventListener('focusout', (event) => this.onOverlayFocusOut(event));\r\n\r\n    datePicker.addEventListener('focusin', (event) => this.onFocusIn(event));\r\n\r\n    datePicker.addEventListener('focusout', (event) => this.onFocusOut(event));\r\n  }\r\n\r\n  isEventInOverlay(node) {\r\n    return this.datePicker._overlayContent && this.datePicker._overlayContent.contains(node);\r\n  }\r\n\r\n  onBlur(event) {\r\n    const datePicker = this.datePicker;\r\n    if (datePicker._fullscreen && !this.isEventInOverlay(event.relatedTarget)) {\r\n      this.fullscreenFocus = true;\r\n    }\r\n  }\r\n\r\n  onFocusIn(event) {\r\n    if (this.isEventInOverlay(event.relatedTarget)) {\r\n      // Focus returns from the overlay, do nothing.\r\n      return;\r\n    }\r\n\r\n    if (this.blurWhileOpened) {\r\n      this.blurWhileOpened = false;\r\n      // Focus returns from outside the browser tab, ignore.\r\n      return;\r\n    }\r\n\r\n    this.showOutline(this.datePicker);\r\n  }\r\n\r\n  onFocusOut(event) {\r\n    if (this.fullscreenFocus || this.isEventInOverlay(event.relatedTarget)) {\r\n      // Do nothing, overlay is opening.\r\n    } else if (!this.datePicker.opened) {\r\n      // Field blur when closed.\r\n      this.hideOutline(this.datePicker);\r\n    } else {\r\n      // Focus moves away while still opened, e.g. outside the browser.\r\n      // Mark the date picker as blurred and wait for opened-changed.\r\n      this.blurWhileOpened = true;\r\n    }\r\n  }\r\n\r\n  onOverlayFocusOut(event) {\r\n    if (!this.datePicker.contains(event.relatedTarget)) {\r\n      // Mark as blurred to wait for opened-changed.\r\n      this.blurWhileOpened = true;\r\n    }\r\n  }\r\n\r\n  onOpenedChanged(event) {\r\n    if (event.detail.value === true && this.fullscreenFocus) {\r\n      this.fullscreenFocus = false;\r\n      this.showOutline(this.datePicker);\r\n    }\r\n\r\n    // Closing after previously moving focus away.\r\n    if (event.detail.value === false && this.blurWhileOpened) {\r\n      this.blurWhileOpened = false;\r\n      this.hideOutline(this.datePicker);\r\n    }\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { ComponentObserver } from './vaadin-component-observer.js';\r\nimport { DatePickerObserver } from './vaadin-date-picker-observer.js';\r\nimport { FieldObserver } from './vaadin-field-observer.js';\r\n\r\nclass DateObserver extends DatePickerObserver {\r\n  constructor(datePicker, host) {\r\n    super(datePicker);\r\n\r\n    // Fire events on the host\r\n    this.component = host;\r\n  }\r\n\r\n  getFieldIndex() {\r\n    return 0;\r\n  }\r\n}\r\n\r\nclass TimeObserver extends FieldObserver {\r\n  constructor(timePicker, host) {\r\n    super(timePicker);\r\n\r\n    // Fire events on the host\r\n    this.component = host;\r\n    this.timePicker = timePicker;\r\n  }\r\n\r\n  getFocusTarget(_event) {\r\n    return this.timePicker;\r\n  }\r\n\r\n  getFieldIndex() {\r\n    return 1;\r\n  }\r\n}\r\n\r\nexport class DateTimePickerObserver extends ComponentObserver {\r\n  constructor(picker) {\r\n    super(picker);\r\n\r\n    const [datePicker, timePicker] = this.getFields();\r\n\r\n    this.dateObserver = new DateObserver(datePicker, picker);\r\n    this.timeObserver = new TimeObserver(timePicker, picker);\r\n  }\r\n\r\n  getFields() {\r\n    return [this.component.querySelector('[slot=date-picker]'), this.component.querySelector('[slot=time-picker]')];\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { FieldObserver } from './vaadin-field-observer.js';\r\n\r\nexport class ListBoxObserver extends FieldObserver {\r\n  getFields() {\r\n    return this.component.items || [];\r\n  }\r\n\r\n  getFocusTarget(event) {\r\n    const fields = this.getFields();\r\n    return Array.from(event.composedPath()).find((node) => fields.includes(node));\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { FieldObserver } from './vaadin-field-observer.js';\r\n\r\nexport class RadioGroupObserver extends FieldObserver {\r\n  getFields() {\r\n    return this.component.__radioButtons;\r\n  }\r\n\r\n  getFocusTarget(event) {\r\n    const fields = this.getFields();\r\n    return Array.from(event.composedPath()).find((node) => fields.includes(node));\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { FieldObserver } from './vaadin-field-observer.js';\r\n\r\nexport class SelectObserver extends FieldObserver {\r\n  constructor(select) {\r\n    super(select);\r\n\r\n    this.blurWhileOpened = false;\r\n    this.overlay = select._overlayElement;\r\n  }\r\n\r\n  addListeners(select) {\r\n    super.addListeners(select);\r\n\r\n    select.addEventListener('opened-changed', (event) => {\r\n      // When in phone mode, focus is lost when closing.\r\n      if (select._phone && event.detail.value === false) {\r\n        this.hideOutline(select);\r\n      }\r\n    });\r\n  }\r\n\r\n  onFocusIn(event) {\r\n    if (this.overlay.contains(event.relatedTarget)) {\r\n      // Focus returns on item select, do nothing.\r\n      return;\r\n    }\r\n\r\n    if (!this.component._phone && this.overlay.hasAttribute('closing')) {\r\n      // Focus returns on outside click, do nothing.\r\n      return;\r\n    }\r\n\r\n    super.onFocusIn(event);\r\n  }\r\n\r\n  onFocusOut(event) {\r\n    if (this.overlay.contains(event.relatedTarget)) {\r\n      // Do nothing, overlay is opening.\r\n      return;\r\n    }\r\n    super.onFocusOut(event);\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport './vaadin-field-outline.js';\r\nimport './vaadin-user-tags.js';\r\nimport { announce } from '@vaadin/a11y-base/src/announce.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { CheckboxGroupObserver } from './fields/vaadin-checkbox-group-observer.js';\r\nimport { DatePickerObserver } from './fields/vaadin-date-picker-observer.js';\r\nimport { DateTimePickerObserver } from './fields/vaadin-date-time-picker-observer.js';\r\nimport { FieldObserver } from './fields/vaadin-field-observer.js';\r\nimport { ListBoxObserver } from './fields/vaadin-list-box-observer.js';\r\nimport { RadioGroupObserver } from './fields/vaadin-radio-group-observer.js';\r\nimport { SelectObserver } from './fields/vaadin-select-observer.js';\r\n\r\nconst initFieldObserver = (field) => {\r\n  let result;\r\n  switch (field.tagName.toLowerCase()) {\r\n    /* c8 ignore next */\r\n    case 'vaadin-date-picker':\r\n      result = new DatePickerObserver(field);\r\n      break;\r\n    /* c8 ignore next */\r\n    case 'vaadin-date-time-picker':\r\n      result = new DateTimePickerObserver(field);\r\n      break;\r\n    /* c8 ignore next */\r\n    case 'vaadin-select':\r\n      result = new SelectObserver(field);\r\n      break;\r\n    /* c8 ignore next 2 */\r\n    case 'vaadin-checkbox-group':\r\n      result = new CheckboxGroupObserver(field);\r\n      break;\r\n    case 'vaadin-radio-group':\r\n      result = new RadioGroupObserver(field);\r\n      break;\r\n    case 'vaadin-list-box':\r\n      result = new ListBoxObserver(field);\r\n      break;\r\n    default:\r\n      result = new FieldObserver(field);\r\n  }\r\n  return result;\r\n};\r\n\r\n/**\r\n * A field controller for implementing real-time collaboration features: displaying\r\n * a colored outline when a field is focused by another user of the application,\r\n * and showing an overlay with a list of users who interact with the field.\r\n *\r\n * See https://vaadin.com/collaboration for Collaboration Engine documentation.\r\n */\r\nexport class FieldHighlighterController {\r\n  constructor(host) {\r\n    this.host = host;\r\n\r\n    /**\r\n     * An object representing a user currently editing the field.\r\n     * The user object has the following structure:\r\n     *\r\n     * ```js\r\n     * {\r\n     *   id: number,\r\n     *   name: string;\r\n     *   colorIndex: number;\r\n     *   fieldIndex: number;\r\n     * }\r\n     * ```\r\n     *\r\n     * @type {FieldHighlighterUser | null}\r\n     */\r\n    this.user = null;\r\n\r\n    /**\r\n     * A list of users who have focused the field.\r\n     * @type {FieldHighlighterUsers}\r\n     */\r\n    this.users = [];\r\n  }\r\n\r\n  get user() {\r\n    return this._user;\r\n  }\r\n\r\n  set user(user) {\r\n    this._user = user;\r\n\r\n    if (user) {\r\n      const msg = `${user.name} started editing`;\r\n      const { label } = this.host;\r\n      announce(label ? `${msg} ${label}` : msg);\r\n    }\r\n  }\r\n\r\n  hostConnected() {\r\n    this.redraw();\r\n  }\r\n\r\n  addUser(user) {\r\n    if (user) {\r\n      this.users.push(user);\r\n      this.redraw();\r\n\r\n      // Make user active\r\n      this.user = user;\r\n    }\r\n  }\r\n\r\n  setUsers(users) {\r\n    if (Array.isArray(users)) {\r\n      this.users = users;\r\n      this.redraw();\r\n\r\n      // Make user active\r\n      this.user = users[users.length - 1] || null;\r\n    }\r\n  }\r\n\r\n  removeUser(user) {\r\n    if (user && user.id !== undefined) {\r\n      let index;\r\n      for (let i = 0; i < this.users.length; i++) {\r\n        if (this.users[i].id === user.id) {\r\n          index = i;\r\n          break;\r\n        }\r\n      }\r\n      if (index !== undefined) {\r\n        this.users.splice(index, 1);\r\n        this.redraw();\r\n\r\n        // Change or remove active user\r\n        if (this.users.length > 0) {\r\n          this.user = this.users[this.users.length - 1];\r\n        } else {\r\n          this.user = null;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  redraw() {\r\n    this.observer.redraw([...this.users].reverse());\r\n  }\r\n}\r\n\r\n/**\r\n * A web component for implementing real-time collaboration features\r\n * by configuring a reactive controller for a field instance.\r\n *\r\n * See https://vaadin.com/collaboration for Collaboration Engine documentation.\r\n *\r\n * @customElement\r\n */\r\nexport class FieldHighlighter extends HTMLElement {\r\n  static get is() {\r\n    return 'vaadin-field-highlighter';\r\n  }\r\n\r\n  static init(field) {\r\n    if (!field._highlighterController) {\r\n      // Create instance\r\n      const instance = new FieldHighlighterController(field);\r\n\r\n      // Set attribute for styling\r\n      field.setAttribute('has-highlighter', '');\r\n\r\n      // Create observer\r\n      instance.observer = initFieldObserver(field);\r\n\r\n      // Attach controller\r\n      field.addController(instance);\r\n\r\n      field._highlighterController = instance;\r\n    }\r\n\r\n    return field._highlighterController;\r\n  }\r\n\r\n  static addUser(field, user) {\r\n    this.init(field).addUser(user);\r\n  }\r\n\r\n  static removeUser(field, user) {\r\n    this.init(field).removeUser(user);\r\n  }\r\n\r\n  static setUsers(field, users) {\r\n    this.init(field).setUsers(users);\r\n  }\r\n}\r\n\r\ndefineCustomElement(FieldHighlighter);\r\n"],
  "mappings": "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",
  "names": ["fields", "fields", "fields", "fields"]
}
