{
  "version": 3,
  "sources": ["../../@vaadin/menu-bar/theme/lumo/vaadin-menu-bar-button-styles.js", "../../@vaadin/menu-bar/src/vaadin-menu-bar-button.js", "../../@vaadin/menu-bar/theme/lumo/vaadin-menu-bar-item-styles.js", "../../@vaadin/menu-bar/theme/lumo/vaadin-menu-bar-list-box-styles.js", "../../@vaadin/menu-bar/theme/lumo/vaadin-menu-bar-overlay-styles.js", "../../@vaadin/menu-bar/theme/lumo/vaadin-menu-bar-styles.js", "../../@vaadin/menu-bar/src/vaadin-menu-bar-item.js", "../../@vaadin/menu-bar/src/vaadin-menu-bar-list-box.js", "../../@vaadin/menu-bar/src/vaadin-menu-bar-overlay.js", "../../@vaadin/menu-bar/src/vaadin-menu-bar-submenu-mixin.js", "../../@vaadin/menu-bar/src/vaadin-menu-bar-submenu.js", "../../@vaadin/menu-bar/src/vaadin-menu-bar-mixin.js", "../../@vaadin/menu-bar/src/vaadin-menu-bar.js"],
  "sourcesContent": ["import { button } from '@vaadin/button/theme/lumo/vaadin-button-styles.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nconst menuBarButton = css`\r\n  :host {\r\n    margin: calc(var(--lumo-space-xs) / 2);\r\n    margin-left: 0;\r\n    border-radius: 0;\r\n  }\r\n\r\n  [part='label'] {\r\n    width: 100%;\r\n  }\r\n\r\n  /* NOTE(web-padawan): avoid using shorthand padding property for IE11 */\r\n  [part='label'] ::slotted(vaadin-menu-bar-item) {\r\n    justify-content: center;\r\n    background-color: transparent;\r\n    height: var(--lumo-button-size);\r\n    margin: 0 calc((var(--lumo-size-m) / 3 + var(--lumo-border-radius-m) / 2) * -1);\r\n    padding-left: calc(var(--lumo-size-m) / 3 + var(--lumo-border-radius-m) / 2);\r\n    padding-right: calc(var(--lumo-size-m) / 3 + var(--lumo-border-radius-m) / 2);\r\n  }\r\n\r\n  :host([theme~='small']) [part='label'] ::slotted(vaadin-menu-bar-item) {\r\n    min-height: var(--lumo-size-s);\r\n    margin: 0 calc((var(--lumo-size-s) / 3 + var(--lumo-border-radius-m) / 2) * -1);\r\n    padding-left: calc(var(--lumo-size-s) / 3 + var(--lumo-border-radius-m) / 2);\r\n    padding-right: calc(var(--lumo-size-s) / 3 + var(--lumo-border-radius-m) / 2);\r\n  }\r\n\r\n  :host([theme~='tertiary']) [part='label'] ::slotted(vaadin-menu-bar-item) {\r\n    margin: 0 calc((var(--lumo-button-size) / 6) * -1);\r\n    padding-left: calc(var(--lumo-button-size) / 6);\r\n    padding-right: calc(var(--lumo-button-size) / 6);\r\n  }\r\n\r\n  :host([theme~='tertiary-inline']) {\r\n    margin-top: calc(var(--lumo-space-xs) / 2);\r\n    margin-bottom: calc(var(--lumo-space-xs) / 2);\r\n    margin-right: calc(var(--lumo-space-xs) / 2);\r\n  }\r\n\r\n  :host([theme~='tertiary-inline']) [part='label'] ::slotted(vaadin-menu-bar-item) {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  :host([first-visible]) {\r\n    border-radius: var(--lumo-border-radius-m) 0 0 var(--lumo-border-radius-m);\r\n\r\n    /* Needed to retain the focus-ring with border-radius */\r\n    margin-left: calc(var(--lumo-space-xs) / 2);\r\n  }\r\n\r\n  :host([last-visible]),\r\n  :host([slot='overflow']) {\r\n    border-radius: 0 var(--lumo-border-radius-m) var(--lumo-border-radius-m) 0;\r\n  }\r\n\r\n  :host([theme~='tertiary']),\r\n  :host([theme~='tertiary-inline']) {\r\n    border-radius: var(--lumo-border-radius-m);\r\n  }\r\n\r\n  :host([slot='overflow']) {\r\n    min-width: var(--lumo-button-size);\r\n    padding-left: calc(var(--lumo-button-size) / 4);\r\n    padding-right: calc(var(--lumo-button-size) / 4);\r\n  }\r\n\r\n  :host([slot='overflow']) ::slotted(*) {\r\n    font-size: var(--lumo-font-size-xl);\r\n  }\r\n\r\n  :host([slot='overflow']) [part='prefix'],\r\n  :host([slot='overflow']) [part='suffix'] {\r\n    margin-left: 0;\r\n    margin-right: 0;\r\n  }\r\n\r\n  :host([theme~='dropdown-indicators']:not([slot='overflow']):not([theme~='icon'])[aria-haspopup]) [part='suffix'] {\r\n    margin-inline-start: 0;\r\n    width: 1em;\r\n    height: 1em;\r\n    line-height: 1;\r\n    font-size: var(--lumo-icon-size-s);\r\n    position: relative;\r\n    inset-inline-start: 0.15em;\r\n  }\r\n\r\n  /* prettier-ignore */\r\n  :host([theme~='dropdown-indicators']:not([slot='overflow']):not([theme~='icon'])[aria-haspopup]) [part='suffix']::after {\r\n    font-family: lumo-icons;\r\n    content: var(--lumo-icons-dropdown);\r\n  }\r\n\r\n  /* prettier-ignore */\r\n  :host([theme~='dropdown-indicators']:not([slot='overflow']):not([theme~='icon'])[theme~='tertiary'][aria-haspopup]) [part='suffix'] {\r\n    inset-inline-start: 0.05em;\r\n  }\r\n\r\n  /* prettier-ignore */\r\n  :host([theme~='dropdown-indicators']:not([slot='overflow']):not([theme~='icon'])[theme~='tertiary-inline'][aria-haspopup]) [part='suffix'] {\r\n    inset-inline-start: 0;\r\n  }\r\n\r\n  /* RTL styles */\r\n  :host([dir='rtl']) {\r\n    margin-left: calc(var(--lumo-space-xs) / 2);\r\n    margin-right: 0;\r\n    border-radius: 0;\r\n  }\r\n\r\n  :host([dir='rtl'][first-visible]) {\r\n    border-radius: 0 var(--lumo-border-radius-m) var(--lumo-border-radius-m) 0;\r\n    margin-right: calc(var(--lumo-space-xs) / 2);\r\n  }\r\n\r\n  :host([dir='rtl'][last-visible]),\r\n  :host([dir='rtl'][slot='overflow']) {\r\n    border-radius: var(--lumo-border-radius-m) 0 0 var(--lumo-border-radius-m);\r\n  }\r\n`;\r\n\r\nregisterStyles('vaadin-menu-bar-button', [button, menuBarButton], {\r\n  moduleId: 'lumo-menu-bar-button',\r\n});\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { Button } from '@vaadin/button/src/vaadin-button.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles(\r\n  'vaadin-menu-bar-button',\r\n  css`\r\n    :host {\r\n      flex-shrink: 0;\r\n    }\r\n\r\n    :host([slot='overflow']) {\r\n      margin-inline-end: 0;\r\n    }\r\n  `,\r\n  { moduleId: 'vaadin-menu-bar-button-styles' },\r\n);\r\n\r\n/**\r\n * An element used internally by `<vaadin-menu-bar>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends Button\r\n * @private\r\n */\r\nclass MenuBarButton extends Button {\r\n  static get is() {\r\n    return 'vaadin-menu-bar-button';\r\n  }\r\n\r\n  /**\r\n   * Override method inherited from `ButtonMixin`. Sets a flag based on whether the key is an active key. Unlike a mouse click, Enter and Space should also focus the first item. This flag is used in menu bar to identify the action that triggered the click.\r\n   *\r\n   * @param {KeyboardEvent} event\r\n   * @protected\r\n   * @override\r\n   */\r\n  _onKeyDown(event) {\r\n    this.__triggeredWithActiveKeys = this._activeKeys.includes(event.key);\r\n    super._onKeyDown(event);\r\n    this.__triggeredWithActiveKeys = null;\r\n  }\r\n\r\n  /**\r\n   * Override method inherited from `ButtonMixin` to allow keyboard navigation with\r\n   * arrow keys in the menu bar when the button is focusable in the disabled state.\r\n   *\r\n   * @override\r\n   */\r\n  __shouldSuppressInteractionEvent(event) {\r\n    if (event.type === 'keydown' && ['ArrowLeft', 'ArrowRight'].includes(event.key)) {\r\n      return false;\r\n    }\r\n\r\n    return super.__shouldSuppressInteractionEvent(event);\r\n  }\r\n}\r\n\r\ndefineCustomElement(MenuBarButton);\r\n", "import '@vaadin/vaadin-lumo-styles/sizing.js';\r\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\r\nimport { contextMenuItem } from '@vaadin/context-menu/theme/lumo/vaadin-context-menu-item-styles.js';\r\nimport { item } from '@vaadin/item/theme/lumo/vaadin-item-styles.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nconst menuBarItem = css`\r\n  [part='content'] {\r\n    display: flex;\r\n    /* tweak to inherit centering from menu bar button */\r\n    align-items: inherit;\r\n    justify-content: inherit;\r\n  }\r\n\r\n  [part='content'] ::slotted(vaadin-icon) {\r\n    display: inline-block;\r\n    width: var(--lumo-icon-size-m);\r\n    height: var(--lumo-icon-size-m);\r\n  }\r\n\r\n  [part='content'] ::slotted(vaadin-icon[icon^='vaadin:']) {\r\n    padding: var(--lumo-space-xs);\r\n    box-sizing: border-box !important;\r\n  }\r\n`;\r\n\r\nregisterStyles('vaadin-menu-bar-item', [item, contextMenuItem, menuBarItem], { moduleId: 'lumo-menu-bar-item' });\r\n", "import { contextMenuListBox } from '@vaadin/context-menu/theme/lumo/vaadin-context-menu-list-box-styles.js';\r\nimport { listBox } from '@vaadin/list-box/theme/lumo/vaadin-list-box-styles.js';\r\nimport { registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles('vaadin-menu-bar-list-box', [listBox, contextMenuListBox], { moduleId: 'lumo-menu-bar-list-box' });\r\n", "import { contextMenuOverlay } from '@vaadin/context-menu/theme/lumo/vaadin-context-menu-overlay-styles.js';\r\nimport { menuOverlay } from '@vaadin/vaadin-lumo-styles/mixins/menu-overlay.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nconst menuBarOverlay = css`\r\n  :host(:first-of-type) {\r\n    padding-top: var(--lumo-space-xs);\r\n  }\r\n`;\r\n\r\nregisterStyles('vaadin-menu-bar-overlay', [menuOverlay, contextMenuOverlay, menuBarOverlay], {\r\n  moduleId: 'lumo-menu-bar-overlay',\r\n});\r\n", "import '@vaadin/vaadin-lumo-styles/style.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles(\r\n  'vaadin-menu-bar',\r\n  css`\r\n    :host([has-single-button]) ::slotted(vaadin-menu-bar-button) {\r\n      border-radius: var(--lumo-border-radius-m);\r\n    }\r\n\r\n    :host([theme~='end-aligned']) ::slotted(vaadin-menu-bar-button[first-visible]),\r\n    :host([theme~='end-aligned'][has-single-button]) ::slotted(vaadin-menu-bar-button) {\r\n      margin-inline-start: auto;\r\n    }\r\n  `,\r\n  { moduleId: 'lumo-menu-bar' },\r\n);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { ItemMixin } from '@vaadin/item/src/vaadin-item-mixin.js';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\n/**\r\n * An element used internally by `<vaadin-menu-bar>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes DirMixin\r\n * @mixes ItemMixin\r\n * @mixes ThemableMixin\r\n * @protected\r\n */\r\nclass MenuBarItem extends ItemMixin(ThemableMixin(DirMixin(PolymerElement))) {\r\n  static get is() {\r\n    return 'vaadin-menu-bar-item';\r\n  }\r\n\r\n  static get template() {\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: inline-block;\r\n        }\r\n\r\n        :host([hidden]) {\r\n          display: none !important;\r\n        }\r\n      </style>\r\n      <span part=\"checkmark\" aria-hidden=\"true\"></span>\r\n      <div part=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  /** @protected */\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n\r\n    // Set role in `connectedCallback()` instead of `ready()`\r\n    // because the role is removed when teleporting to button.\r\n    this.setAttribute('role', 'menuitem');\r\n  }\r\n}\r\n\r\ndefineCustomElement(MenuBarItem);\r\n\r\nexport { MenuBarItem };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { ListMixin } from '@vaadin/a11y-base/src/list-mixin.js';\r\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\n/**\r\n * An element used internally by `<vaadin-menu-bar>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes ControllerMixin\r\n * @mixes DirMixin\r\n * @mixes ListMixin\r\n * @mixes ThemableMixin\r\n * @protected\r\n */\r\nclass MenuBarListBox extends ListMixin(ThemableMixin(DirMixin(ControllerMixin(PolymerElement)))) {\r\n  static get is() {\r\n    return 'vaadin-menu-bar-list-box';\r\n  }\r\n\r\n  static get template() {\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: flex;\r\n        }\r\n\r\n        :host([hidden]) {\r\n          display: none !important;\r\n        }\r\n\r\n        [part='items'] {\r\n          height: 100%;\r\n          width: 100%;\r\n          overflow-y: auto;\r\n          -webkit-overflow-scrolling: touch;\r\n        }\r\n      </style>\r\n      <div part=\"items\">\r\n        <slot></slot>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  static get properties() {\r\n    return {\r\n      // We don't need to define this property since super default is vertical,\r\n      // but we don't want it to be modified, or be shown in the API docs.\r\n      /** @private */\r\n      orientation: {\r\n        readOnly: true,\r\n      },\r\n    };\r\n  }\r\n\r\n  /**\r\n   * @return {!HTMLElement}\r\n   * @protected\r\n   * @override\r\n   */\r\n  get _scrollerElement() {\r\n    return this.shadowRoot.querySelector('[part=\"items\"]');\r\n  }\r\n\r\n  /** @protected */\r\n  ready() {\r\n    super.ready();\r\n\r\n    this.setAttribute('role', 'menu');\r\n  }\r\n}\r\n\r\ndefineCustomElement(MenuBarListBox);\r\n\r\nexport { MenuBarListBox };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { MenuOverlayMixin } from '@vaadin/context-menu/src/vaadin-menu-overlay-mixin.js';\r\nimport { styles } from '@vaadin/context-menu/src/vaadin-menu-overlay-styles.js';\r\nimport { OverlayMixin } from '@vaadin/overlay/src/vaadin-overlay-mixin.js';\r\nimport { overlayStyles } from '@vaadin/overlay/src/vaadin-overlay-styles.js';\r\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles('vaadin-menu-bar-overlay', [overlayStyles, styles], {\r\n  moduleId: 'vaadin-menu-bar-overlay-styles',\r\n});\r\n\r\n/**\r\n * An element used internally by `<vaadin-menu-bar>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes DirMixin\r\n * @mixes MenuOverlayMixin\r\n * @mixes OverlayMixin\r\n * @mixes ThemableMixin\r\n * @protected\r\n */\r\nexport class MenuBarOverlay extends MenuOverlayMixin(OverlayMixin(DirMixin(ThemableMixin(PolymerElement)))) {\r\n  static get is() {\r\n    return 'vaadin-menu-bar-overlay';\r\n  }\r\n\r\n  static get template() {\r\n    return html`\r\n      <div id=\"backdrop\" part=\"backdrop\" hidden$=\"[[!withBackdrop]]\"></div>\r\n      <div part=\"overlay\" id=\"overlay\" tabindex=\"0\">\r\n        <div part=\"content\" id=\"content\">\r\n          <slot></slot>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndefineCustomElement(MenuBarOverlay);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { OverlayClassMixin } from '@vaadin/component-base/src/overlay-class-mixin.js';\r\nimport { ContextMenuMixin } from '@vaadin/context-menu/src/vaadin-context-menu-mixin.js';\r\n\r\n/**\r\n * @polymerMixin\r\n * @mixes ContextMenuMixin\r\n * @mixes OverlayClassMixin\r\n */\r\nexport const SubMenuMixin = (superClass) =>\r\n  class SubMenuMixinClass extends ContextMenuMixin(OverlayClassMixin(superClass)) {\r\n    constructor() {\r\n      super();\r\n\r\n      this.openOn = 'opensubmenu';\r\n    }\r\n\r\n    /**\r\n     * Tag name prefix used by overlay, list-box and items.\r\n     * @protected\r\n     * @return {string}\r\n     */\r\n    get _tagNamePrefix() {\r\n      return 'vaadin-menu-bar';\r\n    }\r\n\r\n    /**\r\n     * Overriding the observer to not add global \"contextmenu\" listener.\r\n     */\r\n    _openedChanged(opened) {\r\n      this._overlayElement.opened = opened;\r\n    }\r\n\r\n    /**\r\n     * Overriding the public method to reset expanded button state.\r\n     */\r\n    close() {\r\n      super.close();\r\n\r\n      // Only handle 1st level submenu\r\n      if (this.hasAttribute('is-root')) {\r\n        this.getRootNode().host._close();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override method from `ContextMenuMixin` to prevent closing\r\n     * sub-menu on the same click event that was used to open it.\r\n     *\r\n     * @param {Event} event\r\n     * @return {boolean}\r\n     * @protected\r\n     * @override\r\n     */\r\n    _shouldCloseOnOutsideClick(event) {\r\n      if (this.hasAttribute('is-root') && event.composedPath().includes(this.listenOn)) {\r\n        return false;\r\n      }\r\n\r\n      return super._shouldCloseOnOutsideClick(event);\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport './vaadin-menu-bar-item.js';\r\nimport './vaadin-menu-bar-list-box.js';\r\nimport './vaadin-menu-bar-overlay.js';\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { ThemePropertyMixin } from '@vaadin/vaadin-themable-mixin/vaadin-theme-property-mixin.js';\r\nimport { SubMenuMixin } from './vaadin-menu-bar-submenu-mixin.js';\r\n\r\n/**\r\n * An element used internally by `<vaadin-menu-bar>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes ControllerMixin\r\n * @mixes SubMenuMixin\r\n * @mixes ThemePropertyMixin\r\n * @protected\r\n */\r\nclass MenuBarSubmenu extends SubMenuMixin(ControllerMixin(ThemePropertyMixin(PolymerElement))) {\r\n  static get is() {\r\n    return 'vaadin-menu-bar-submenu';\r\n  }\r\n\r\n  static get template() {\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: block;\r\n        }\r\n\r\n        :host([hidden]) {\r\n          display: none !important;\r\n        }\r\n      </style>\r\n\r\n      <slot id=\"slot\"></slot>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * @param {DocumentFragment} dom\r\n   * @return {ShadowRoot}\r\n   * @protected\r\n   * @override\r\n   */\r\n  _attachDom(dom) {\r\n    const root = this.attachShadow({ mode: 'open' });\r\n    root.appendChild(dom);\r\n    root.appendChild(this._overlayElement);\r\n    return root;\r\n  }\r\n}\r\n\r\ndefineCustomElement(MenuBarSubmenu);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { DisabledMixin } from '@vaadin/a11y-base/src/disabled-mixin.js';\r\nimport { FocusMixin } from '@vaadin/a11y-base/src/focus-mixin.js';\r\nimport { isElementFocused, isElementHidden, isKeyboardActive } from '@vaadin/a11y-base/src/focus-utils.js';\r\nimport { KeyboardDirectionMixin } from '@vaadin/a11y-base/src/keyboard-direction-mixin.js';\r\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\r\nimport { ResizeMixin } from '@vaadin/component-base/src/resize-mixin.js';\r\nimport { SlotController } from '@vaadin/component-base/src/slot-controller.js';\r\n\r\n/**\r\n * @polymerMixin\r\n * @mixes DisabledMixin\r\n * @mixes ControllerMixin\r\n * @mixes FocusMixin\r\n * @mixes KeyboardDirectionMixin\r\n * @mixes ResizeMixin\r\n */\r\nexport const MenuBarMixin = (superClass) =>\r\n  class MenuBarMixinClass extends KeyboardDirectionMixin(\r\n    ResizeMixin(FocusMixin(DisabledMixin(ControllerMixin(superClass)))),\r\n  ) {\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * @typedef MenuBarItem\r\n         * @type {object}\r\n         * @property {string} text - Text to be set as the menu button component's textContent.\r\n         * @property {string} tooltip - Text to be set as the menu button's tooltip.\r\n         * Requires a `<vaadin-tooltip slot=\"tooltip\">` element to be added inside the `<vaadin-menu-bar>`.\r\n         * @property {union: string | object} component - The component to represent the button content.\r\n         * Either a tagName or an element instance. Defaults to \"vaadin-menu-bar-item\".\r\n         * @property {boolean} disabled - If true, the button is disabled and cannot be activated.\r\n         * @property {union: string | string[]} theme - Theme(s) to be set as the theme attribute of the button, overriding any theme set on the menu bar.\r\n         * @property {SubMenuItem[]} children - Array of submenu items.\r\n         */\r\n\r\n        /**\r\n         * @typedef SubMenuItem\r\n         * @type {object}\r\n         * @property {string} text - Text to be set as the menu item component's textContent.\r\n         * @property {union: string | object} component - The component to represent the item.\r\n         * Either a tagName or an element instance. Defaults to \"vaadin-menu-bar-item\".\r\n         * @property {boolean} disabled - If true, the item is disabled and cannot be selected.\r\n         * @property {boolean} checked - If true, the item shows a checkmark next to it.\r\n         * @property {SubMenuItem[]} children - Array of child submenu items.\r\n         */\r\n\r\n        /**\r\n         * Defines a hierarchical structure, where root level items represent menu bar buttons,\r\n         * and `children` property configures a submenu with items to be opened below\r\n         * the button on click, Enter, Space, Up and Down arrow keys.\r\n         *\r\n         * #### Example\r\n         *\r\n         * ```js\r\n         * menubar.items = [\r\n         *   {\r\n         *     text: 'File',\r\n         *     className: 'file',\r\n         *     children: [\r\n         *       {text: 'Open', className: 'file open'}\r\n         *       {text: 'Auto Save', checked: true},\r\n         *     ]\r\n         *   },\r\n         *   {component: 'hr'},\r\n         *   {\r\n         *     text: 'Edit',\r\n         *     children: [\r\n         *       {text: 'Undo', disabled: true},\r\n         *       {text: 'Redo'}\r\n         *     ]\r\n         *   },\r\n         *   {text: 'Help'}\r\n         * ];\r\n         * ```\r\n         *\r\n         * #### Disabled buttons\r\n         *\r\n         * When disabled, menu bar buttons (root-level items) are rendered\r\n         * as \"dimmed\" and prevent all user interactions (mouse and keyboard).\r\n         *\r\n         * Since disabled buttons are not focusable and cannot react to hover\r\n         * events by default, it can cause accessibility issues by making them\r\n         * entirely invisible to assistive technologies, and prevents the use\r\n         * of Tooltips to explain why the action is not available. This can be\r\n         * addressed by enabling the feature flag `accessibleDisabledButtons`,\r\n         * which makes disabled buttons focusable and hoverable, while still\r\n         * preventing them from being triggered:\r\n         *\r\n         * ```\r\n         * // Set before any menu bar is attached to the DOM.\r\n         * window.Vaadin.featureFlags.accessibleDisabledButtons = true;\r\n         * ```\r\n         *\r\n         * ```\r\n         * // Set before any menu bar is attached to the DOM.\r\n         * window.Vaadin.featureFlags.accessibleDisabledButtons = true;\r\n         * ```\r\n         *\r\n         * @type {!Array<!MenuBarItem>}\r\n         */\r\n        items: {\r\n          type: Array,\r\n          value: () => [],\r\n        },\r\n\r\n        /**\r\n         * The object used to localize this component.\r\n         * To change the default localization, replace the entire\r\n         * `i18n` object with a custom one.\r\n         *\r\n         * To update individual properties, extend the existing i18n object like so:\r\n         * ```\r\n         * menuBar.i18n = {\r\n         *   ...menuBar.i18n,\r\n         *   moreOptions: 'More options'\r\n         * }\r\n         * ```\r\n         *\r\n         * The object has the following JSON structure and default values:\r\n         * ```\r\n         * {\r\n         *   moreOptions: 'More options'\r\n         * }\r\n         * ```\r\n         *\r\n         * @type {!MenuBarI18n}\r\n         * @default {English/US}\r\n         */\r\n        i18n: {\r\n          type: Object,\r\n          value: () => {\r\n            return {\r\n              moreOptions: 'More options',\r\n            };\r\n          },\r\n        },\r\n\r\n        /**\r\n         * A space-delimited list of CSS class names\r\n         * to set on each sub-menu overlay element.\r\n         *\r\n         * @attr {string} overlay-class\r\n         */\r\n        overlayClass: {\r\n          type: String,\r\n        },\r\n\r\n        /**\r\n         * If true, the submenu will open on hover (mouseover) instead of click.\r\n         * @attr {boolean} open-on-hover\r\n         */\r\n        openOnHover: {\r\n          type: Boolean,\r\n        },\r\n\r\n        /**\r\n         * If true, the buttons will be collapsed into the overflow menu\r\n         * starting from the \"start\" end of the bar instead of the \"end\".\r\n         * @attr {boolean} reverse-collapse\r\n         */\r\n        reverseCollapse: {\r\n          type: Boolean,\r\n        },\r\n\r\n        /**\r\n         * If true, the top-level menu items is traversable by tab\r\n         * instead of arrow keys (i.e. disabling roving tabindex)\r\n         * @attr {boolean} tab-navigation\r\n         */\r\n        tabNavigation: {\r\n          type: Boolean,\r\n        },\r\n\r\n        /**\r\n         * @type {boolean}\r\n         * @protected\r\n         */\r\n        _hasOverflow: {\r\n          type: Boolean,\r\n          value: false,\r\n          sync: true,\r\n        },\r\n\r\n        /** @protected */\r\n        _overflow: {\r\n          type: Object,\r\n        },\r\n\r\n        /** @protected */\r\n        _container: {\r\n          type: Object,\r\n        },\r\n      };\r\n    }\r\n\r\n    static get observers() {\r\n      return [\r\n        '_themeChanged(_theme, _overflow, _container)',\r\n        '__hasOverflowChanged(_hasOverflow, _overflow)',\r\n        '__i18nChanged(i18n, _overflow)',\r\n        '_menuItemsChanged(items, _overflow, _container)',\r\n        '_reverseCollapseChanged(reverseCollapse, _overflow, _container)',\r\n        '_tabNavigationChanged(tabNavigation, _overflow, _container)',\r\n      ];\r\n    }\r\n\r\n    constructor() {\r\n      super();\r\n      this.__boundOnContextMenuKeydown = this.__onContextMenuKeydown.bind(this);\r\n      this.__boundOnTooltipMouseLeave = this.__onTooltipOverlayMouseLeave.bind(this);\r\n    }\r\n\r\n    /**\r\n     * Override getter from `KeyboardDirectionMixin`\r\n     * to use expanded button for arrow navigation\r\n     * when the sub-menu is opened and has focus.\r\n     *\r\n     * @return {Element | null}\r\n     * @protected\r\n     * @override\r\n     */\r\n    get focused() {\r\n      return (this._getItems() || []).find(isElementFocused) || this._expandedButton;\r\n    }\r\n\r\n    /**\r\n     * Override getter from `KeyboardDirectionMixin`.\r\n     *\r\n     * @return {boolean}\r\n     * @protected\r\n     * @override\r\n     */\r\n    get _vertical() {\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * Override getter from `ResizeMixin` to observe parent.\r\n     *\r\n     * @protected\r\n     * @override\r\n     */\r\n    get _observeParent() {\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * @return {!Array<!HTMLElement>}\r\n     * @protected\r\n     */\r\n    get _buttons() {\r\n      return Array.from(this.querySelectorAll('vaadin-menu-bar-button'));\r\n    }\r\n\r\n    /** @private */\r\n    get _subMenu() {\r\n      return this.shadowRoot.querySelector('vaadin-menu-bar-submenu');\r\n    }\r\n\r\n    /** @protected */\r\n    ready() {\r\n      super.ready();\r\n\r\n      this.setAttribute('role', 'menubar');\r\n\r\n      this._overflowController = new SlotController(this, 'overflow', 'vaadin-menu-bar-button', {\r\n        initializer: (btn) => {\r\n          btn.setAttribute('hidden', '');\r\n\r\n          const dots = document.createElement('div');\r\n          dots.setAttribute('aria-hidden', 'true');\r\n          dots.innerHTML = '&centerdot;'.repeat(3);\r\n          btn.appendChild(dots);\r\n\r\n          this._overflow = btn;\r\n          this._initButtonAttrs(btn);\r\n        },\r\n      });\r\n      this.addController(this._overflowController);\r\n\r\n      this.addEventListener('mousedown', () => this._hideTooltip(true));\r\n      this.addEventListener('mouseleave', () => this._hideTooltip());\r\n\r\n      this._subMenu.addEventListener('item-selected', this.__onItemSelected.bind(this));\r\n      this._subMenu.addEventListener('close-all-menus', this.__onEscapeClose.bind(this));\r\n\r\n      const overlay = this._subMenu._overlayElement;\r\n      overlay.addEventListener('keydown', this.__boundOnContextMenuKeydown);\r\n\r\n      const container = this.shadowRoot.querySelector('[part=\"container\"]');\r\n      container.addEventListener('click', this.__onButtonClick.bind(this));\r\n      container.addEventListener('mouseover', (e) => this._onMouseOver(e));\r\n\r\n      // Delay setting container to avoid rendering buttons immediately,\r\n      // which would also trigger detecting overflow and force re-layout\r\n      // See https://github.com/vaadin/web-components/issues/7271\r\n      queueMicrotask(() => {\r\n        this._container = container;\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `KeyboardDirectionMixin`\r\n     * to use the list of menu-bar buttons as items.\r\n     *\r\n     * @return {Element[]}\r\n     * @protected\r\n     * @override\r\n     */\r\n    _getItems() {\r\n      return this._buttons;\r\n    }\r\n\r\n    /** @protected */\r\n    disconnectedCallback() {\r\n      super.disconnectedCallback();\r\n      this._hideTooltip(true);\r\n    }\r\n\r\n    /**\r\n     * Implement callback from `ResizeMixin` to update buttons\r\n     * and detect whether to show or hide the overflow button.\r\n     *\r\n     * @protected\r\n     * @override\r\n     */\r\n    _onResize() {\r\n      this.__detectOverflow();\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `DisabledMixin`\r\n     * to update the `disabled` property for the buttons\r\n     * whenever the property changes on the menu bar.\r\n     *\r\n     * @param {boolean} newValue the new disabled value\r\n     * @param {boolean} oldValue the previous disabled value\r\n     * @override\r\n     * @protected\r\n     */\r\n    _disabledChanged(newValue, oldValue) {\r\n      super._disabledChanged(newValue, oldValue);\r\n      if (oldValue !== newValue) {\r\n        this.__updateButtonsDisabled(newValue);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * A callback for the `_theme` property observer.\r\n     * It propagates the host theme to the buttons and the sub menu.\r\n     *\r\n     * @param {string | null} theme\r\n     * @private\r\n     */\r\n    _themeChanged(theme, overflow, container) {\r\n      if (overflow && container) {\r\n        this._buttons.forEach((btn) => this._setButtonTheme(btn, theme));\r\n        this.__detectOverflow();\r\n      }\r\n\r\n      if (theme) {\r\n        this._subMenu.setAttribute('theme', theme);\r\n      } else {\r\n        this._subMenu.removeAttribute('theme');\r\n      }\r\n    }\r\n\r\n    /**\r\n     * A callback for the 'reverseCollapse' property observer.\r\n     *\r\n     * @param {boolean | null} _reverseCollapse\r\n     * @private\r\n     */\r\n    _reverseCollapseChanged(_reverseCollapse, overflow, container) {\r\n      if (overflow && container) {\r\n        this.__detectOverflow();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _tabNavigationChanged(tabNavigation, overflow, container) {\r\n      if (overflow && container) {\r\n        const target = this.querySelector('[tabindex=\"0\"]');\r\n        this._buttons.forEach((btn) => {\r\n          if (target) {\r\n            this._setTabindex(btn, btn === target);\r\n          } else {\r\n            this._setTabindex(btn, false);\r\n          }\r\n          btn.setAttribute('role', tabNavigation ? 'button' : 'menuitem');\r\n        });\r\n      }\r\n      this.setAttribute('role', tabNavigation ? 'group' : 'menubar');\r\n    }\r\n\r\n    /** @private */\r\n    __hasOverflowChanged(hasOverflow, overflow) {\r\n      if (overflow) {\r\n        overflow.toggleAttribute('hidden', !hasOverflow);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _menuItemsChanged(items, overflow, container) {\r\n      if (!overflow || !container) {\r\n        return;\r\n      }\r\n\r\n      if (items !== this._oldItems) {\r\n        this._oldItems = items;\r\n        this.__renderButtons(items);\r\n      }\r\n\r\n      const subMenu = this._subMenu;\r\n      if (subMenu && subMenu.opened) {\r\n        subMenu.close();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __i18nChanged(i18n, overflow) {\r\n      if (overflow && i18n && i18n.moreOptions !== undefined) {\r\n        if (i18n.moreOptions) {\r\n          overflow.setAttribute('aria-label', i18n.moreOptions);\r\n        } else {\r\n          overflow.removeAttribute('aria-label');\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __getOverflowCount(overflow) {\r\n      // We can't use optional chaining due to webpack 4\r\n      return (overflow.item && overflow.item.children && overflow.item.children.length) || 0;\r\n    }\r\n\r\n    /** @private */\r\n    __restoreButtons(buttons) {\r\n      buttons.forEach((button) => {\r\n        button.disabled = (button.item && button.item.disabled) || this.disabled;\r\n        button.style.visibility = '';\r\n        button.style.position = '';\r\n\r\n        // Teleport item component back from \"overflow\" sub-menu\r\n        const item = button.item && button.item.component;\r\n        if (item instanceof HTMLElement && item.getAttribute('role') === 'menuitem') {\r\n          this.__restoreItem(button, item);\r\n        }\r\n      });\r\n      this.__updateOverflow([]);\r\n    }\r\n\r\n    /** @private */\r\n    __restoreItem(button, item) {\r\n      button.appendChild(item);\r\n      item.removeAttribute('role');\r\n      item.removeAttribute('aria-expanded');\r\n      item.removeAttribute('aria-haspopup');\r\n      item.removeAttribute('tabindex');\r\n    }\r\n\r\n    /** @private */\r\n    __updateButtonsDisabled(disabled) {\r\n      this._buttons.forEach((btn) => {\r\n        // Disable the button if the entire menu-bar is disabled or the item alone is disabled\r\n        btn.disabled = disabled || (btn.item && btn.item.disabled);\r\n      });\r\n    }\r\n\r\n    /** @private */\r\n    __updateOverflow(items) {\r\n      this._overflow.item = { children: items };\r\n      this._hasOverflow = items.length > 0;\r\n    }\r\n\r\n    /** @private */\r\n    __setOverflowItems(buttons, overflow) {\r\n      const container = this._container;\r\n\r\n      if (container.offsetWidth < container.scrollWidth) {\r\n        this._hasOverflow = true;\r\n\r\n        const isRTL = this.__isRTL;\r\n        const containerLeft = container.offsetLeft;\r\n\r\n        const remaining = [...buttons];\r\n        while (remaining.length) {\r\n          const lastButton = remaining[remaining.length - 1];\r\n          const btnLeft = lastButton.offsetLeft - containerLeft;\r\n\r\n          // If this button isn't overflowing, then the rest aren't either\r\n          if (\r\n            (!isRTL && btnLeft + lastButton.offsetWidth < container.offsetWidth - overflow.offsetWidth) ||\r\n            (isRTL && btnLeft >= overflow.offsetWidth)\r\n          ) {\r\n            break;\r\n          }\r\n\r\n          const btn = this.reverseCollapse ? remaining.shift() : remaining.pop();\r\n\r\n          // Save width for buttons with component\r\n          btn.style.width = getComputedStyle(btn).width;\r\n          btn.disabled = true;\r\n          btn.style.visibility = 'hidden';\r\n          btn.style.position = 'absolute';\r\n        }\r\n\r\n        const items = buttons.filter((b) => !remaining.includes(b)).map((b) => b.item);\r\n        this.__updateOverflow(items);\r\n\r\n        // Ensure there is at least one button with tabindex set to 0\r\n        // so that menu-bar is not skipped when navigating with Tab\r\n        if (remaining.length && !remaining.some((btn) => btn.getAttribute('tabindex') === '0')) {\r\n          this._setTabindex(remaining[remaining.length - 1], true);\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __detectOverflow() {\r\n      if (!this._container) {\r\n        return;\r\n      }\r\n\r\n      const overflow = this._overflow;\r\n      const buttons = this._buttons.filter((btn) => btn !== overflow);\r\n      const oldOverflowCount = this.__getOverflowCount(overflow);\r\n\r\n      // Reset all buttons in the menu bar and the overflow button\r\n      this.__restoreButtons(buttons);\r\n\r\n      // Hide any overflowing buttons and put them in the 'overflow' button\r\n      this.__setOverflowItems(buttons, overflow);\r\n\r\n      const newOverflowCount = this.__getOverflowCount(overflow);\r\n      if (oldOverflowCount !== newOverflowCount && this._subMenu.opened) {\r\n        this._subMenu.close();\r\n      }\r\n\r\n      const isSingleButton = newOverflowCount === buttons.length || (newOverflowCount === 0 && buttons.length === 1);\r\n      this.toggleAttribute('has-single-button', isSingleButton);\r\n\r\n      // Apply first/last visible attributes to the visible buttons\r\n      buttons\r\n        .filter((btn) => btn.style.visibility !== 'hidden')\r\n        .forEach((btn, index, visibleButtons) => {\r\n          btn.toggleAttribute('first-visible', index === 0);\r\n          btn.toggleAttribute('last-visible', !this._hasOverflow && index === visibleButtons.length - 1);\r\n        });\r\n    }\r\n\r\n    /** @protected */\r\n    _removeButtons() {\r\n      this._buttons.forEach((button) => {\r\n        if (button !== this._overflow) {\r\n          this.removeChild(button);\r\n        }\r\n      });\r\n    }\r\n\r\n    /** @protected */\r\n    _initButton(item) {\r\n      const button = document.createElement('vaadin-menu-bar-button');\r\n\r\n      const itemCopy = { ...item };\r\n      button.item = itemCopy;\r\n\r\n      if (item.component) {\r\n        const component = this.__getComponent(itemCopy);\r\n        itemCopy.component = component;\r\n        // Save item for overflow menu\r\n        component.item = itemCopy;\r\n        button.appendChild(component);\r\n      } else if (item.text) {\r\n        button.textContent = item.text;\r\n      }\r\n\r\n      if (item.className) {\r\n        button.className = item.className;\r\n      }\r\n\r\n      button.disabled = item.disabled;\r\n\r\n      return button;\r\n    }\r\n\r\n    /** @protected */\r\n    _initButtonAttrs(button) {\r\n      button.setAttribute('role', this.tabNavigation ? 'button' : 'menuitem');\r\n\r\n      if (button === this._overflow || (button.item && button.item.children)) {\r\n        button.setAttribute('aria-haspopup', 'true');\r\n        button.setAttribute('aria-expanded', 'false');\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _setButtonTheme(btn, hostTheme) {\r\n      let theme = hostTheme;\r\n\r\n      // Item theme takes precedence over host theme even if it's empty, as long as it's not undefined or null\r\n      const itemTheme = btn.item && btn.item.theme;\r\n      if (itemTheme != null) {\r\n        theme = Array.isArray(itemTheme) ? itemTheme.join(' ') : itemTheme;\r\n      }\r\n\r\n      if (theme) {\r\n        btn.setAttribute('theme', theme);\r\n      } else {\r\n        btn.removeAttribute('theme');\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __getComponent(item) {\r\n      const itemComponent = item.component;\r\n      let component;\r\n\r\n      const isElement = itemComponent instanceof HTMLElement;\r\n      // Use existing item component, if any\r\n      if (isElement && itemComponent.localName === 'vaadin-menu-bar-item') {\r\n        component = itemComponent;\r\n      } else {\r\n        component = document.createElement('vaadin-menu-bar-item');\r\n        component.appendChild(isElement ? itemComponent : document.createElement(itemComponent));\r\n      }\r\n      if (item.text) {\r\n        const node = component.firstChild || component;\r\n        node.textContent = item.text;\r\n      }\r\n      return component;\r\n    }\r\n\r\n    /** @private */\r\n    __renderButtons(items = []) {\r\n      this._removeButtons();\r\n\r\n      /* Empty array, do nothing */\r\n      if (items.length === 0) {\r\n        return;\r\n      }\r\n\r\n      items.forEach((item) => {\r\n        const button = this._initButton(item);\r\n        this.insertBefore(button, this._overflow);\r\n        this._initButtonAttrs(button);\r\n        this._setButtonTheme(button, this._theme);\r\n      });\r\n\r\n      this.__detectOverflow();\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} button\r\n     * @protected\r\n     */\r\n    _showTooltip(button, isHover) {\r\n      // Check if there is a slotted vaadin-tooltip element.\r\n      const tooltip = this._tooltipController.node;\r\n      if (tooltip && tooltip.isConnected) {\r\n        // If the tooltip element doesn't have a generator assigned, use a default one\r\n        // that reads the `tooltip` property of an item.\r\n        if (tooltip.generator === undefined) {\r\n          tooltip.generator = ({ item }) => item && item.tooltip;\r\n        }\r\n\r\n        if (!tooltip._mouseLeaveListenerAdded) {\r\n          tooltip._overlayElement.addEventListener('mouseleave', this.__boundOnTooltipMouseLeave);\r\n          tooltip._mouseLeaveListenerAdded = true;\r\n        }\r\n\r\n        if (!this._subMenu.opened) {\r\n          this._tooltipController.setTarget(button);\r\n          this._tooltipController.setContext({ item: button.item });\r\n\r\n          // Trigger opening using the corresponding delay.\r\n          tooltip._stateController.open({\r\n            hover: isHover,\r\n            focus: !isHover,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _hideTooltip(immediate) {\r\n      const tooltip = this._tooltipController && this._tooltipController.node;\r\n      if (tooltip) {\r\n        tooltip._stateController.close(immediate);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __onTooltipOverlayMouseLeave(event) {\r\n      if (event.relatedTarget !== this._tooltipController.target) {\r\n        this._hideTooltip();\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _setExpanded(button, expanded) {\r\n      button.toggleAttribute('expanded', expanded);\r\n      button.toggleAttribute('active', expanded);\r\n      button.setAttribute('aria-expanded', expanded ? 'true' : 'false');\r\n    }\r\n\r\n    /** @protected */\r\n    _setTabindex(button, focused) {\r\n      if (this.tabNavigation && this._isItemFocusable(button)) {\r\n        button.setAttribute('tabindex', '0');\r\n      } else {\r\n        button.setAttribute('tabindex', focused ? '0' : '-1');\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `KeyboardDirectionMixin`\r\n     * to close the submenu for the previously focused button\r\n     * and open another one for the newly focused button.\r\n     *\r\n     * @param {Element} item\r\n     * @param {boolean} navigating\r\n     * @protected\r\n     * @override\r\n     */\r\n    _focusItem(item, navigating) {\r\n      const wasExpanded = navigating && this.focused === this._expandedButton;\r\n      if (wasExpanded) {\r\n        this._close();\r\n      }\r\n\r\n      super._focusItem(item, navigating);\r\n\r\n      this._buttons.forEach((btn) => {\r\n        this._setTabindex(btn, btn === item);\r\n      });\r\n\r\n      if (wasExpanded && item.item && item.item.children) {\r\n        this.__openSubMenu(item, true, { keepFocus: true });\r\n      } else if (item === this._overflow) {\r\n        this._hideTooltip();\r\n      } else {\r\n        this._showTooltip(item);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _getButtonFromEvent(e) {\r\n      return Array.from(e.composedPath()).find((el) => el.localName === 'vaadin-menu-bar-button');\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `FocusMixin`\r\n     *\r\n     * @param {boolean} focused\r\n     * @override\r\n     * @protected\r\n     */\r\n    _setFocused(focused) {\r\n      if (focused) {\r\n        let target = this.querySelector('[tabindex=\"0\"]');\r\n        if (this.tabNavigation) {\r\n          // Switch submenu on menu button Tab / Shift Tab\r\n          target = this.querySelector('[focused]');\r\n          this.__switchSubMenu(target);\r\n        }\r\n        if (target) {\r\n          this._buttons.forEach((btn) => {\r\n            this._setTabindex(btn, btn === target);\r\n            if (btn === target && btn !== this._overflow && isKeyboardActive()) {\r\n              this._showTooltip(btn);\r\n            }\r\n          });\r\n        }\r\n      } else {\r\n        this._hideTooltip();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {!KeyboardEvent} event\r\n     * @private\r\n     */\r\n    _onArrowDown(event) {\r\n      // Prevent page scroll.\r\n      event.preventDefault();\r\n\r\n      const button = this._getButtonFromEvent(event);\r\n      if (button === this._expandedButton) {\r\n        // Menu opened previously, focus first item\r\n        this._focusFirstItem();\r\n      } else {\r\n        this.__openSubMenu(button, true);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {!KeyboardEvent} event\r\n     * @private\r\n     */\r\n    _onArrowUp(event) {\r\n      // Prevent page scroll.\r\n      event.preventDefault();\r\n\r\n      const button = this._getButtonFromEvent(event);\r\n      if (button === this._expandedButton) {\r\n        // Menu opened previously, focus last item\r\n        this._focusLastItem();\r\n      } else {\r\n        this.__openSubMenu(button, true, { focusLast: true });\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `KeyboardMixin`:\r\n     * - to close the sub-menu for expanded button,\r\n     * - to close a tooltip for collapsed button.\r\n     *\r\n     * @param {!KeyboardEvent} event\r\n     * @protected\r\n     * @override\r\n     */\r\n    _onEscape(event) {\r\n      if (event.composedPath().includes(this._expandedButton)) {\r\n        this._close(true);\r\n      }\r\n\r\n      this._hideTooltip(true);\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `KeyboardMixin`.\r\n     *\r\n     * @param {!KeyboardEvent} event\r\n     * @protected\r\n     * @override\r\n     */\r\n    _onKeyDown(event) {\r\n      switch (event.key) {\r\n        case 'ArrowDown':\r\n          this._onArrowDown(event);\r\n          break;\r\n        case 'ArrowUp':\r\n          this._onArrowUp(event);\r\n          break;\r\n        default:\r\n          super._onKeyDown(event);\r\n          break;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {!MouseEvent} e\r\n     * @protected\r\n     */\r\n    _onMouseOver(e) {\r\n      const button = this._getButtonFromEvent(e);\r\n      if (!button) {\r\n        // Hide tooltip on mouseover to disabled button\r\n        this._hideTooltip();\r\n      } else if (button !== this._expandedButton) {\r\n        const isOpened = this._subMenu.opened;\r\n        if (button.item.children && (this.openOnHover || isOpened)) {\r\n          this.__openSubMenu(button, false);\r\n        } else if (isOpened) {\r\n          this._close();\r\n        }\r\n\r\n        if (button === this._overflow || (this.openOnHover && button.item.children)) {\r\n          this._hideTooltip();\r\n        } else {\r\n          this._showTooltip(button, true);\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __onContextMenuKeydown(e) {\r\n      const item = Array.from(e.composedPath()).find((el) => el._item);\r\n      if (item) {\r\n        const list = item.parentNode;\r\n        if (e.keyCode === 38 && item === list.items[0]) {\r\n          this._close(true);\r\n        }\r\n        // ArrowLeft, or ArrowRight on non-parent submenu item\r\n        if (e.keyCode === 37 || (e.keyCode === 39 && !item._item.children)) {\r\n          // Prevent ArrowLeft from being handled in context-menu\r\n          e.stopImmediatePropagation();\r\n          this._onKeyDown(e);\r\n        } else if (e.keyCode === 9 && this.tabNavigation) {\r\n          // Switch opened submenu on submenu item Tab / Shift Tab\r\n          const items = this._getItems() || [];\r\n          const currentIdx = items.indexOf(this.focused);\r\n          const increment = e.shiftKey ? -1 : 1;\r\n          let idx = currentIdx + increment;\r\n          idx = this._getAvailableIndex(items, idx, increment, (item) => !isElementHidden(item));\r\n          this.__switchSubMenu(items[idx]);\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __switchSubMenu(target) {\r\n      const wasExpanded = this._expandedButton != null && this._expandedButton !== target;\r\n      if (wasExpanded) {\r\n        this._close();\r\n        if (target.item && target.item.children) {\r\n          this.__openSubMenu(target, true, { keepFocus: true });\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __fireItemSelected(value) {\r\n      this.dispatchEvent(new CustomEvent('item-selected', { detail: { value } }));\r\n    }\r\n\r\n    /** @private */\r\n    __onButtonClick(e) {\r\n      const button = this._getButtonFromEvent(e);\r\n      if (button) {\r\n        this.__openSubMenu(button, button.__triggeredWithActiveKeys);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __openSubMenu(button, keydown, options = {}) {\r\n      if (button.disabled) {\r\n        return;\r\n      }\r\n\r\n      const subMenu = this._subMenu;\r\n      const item = button.item;\r\n\r\n      if (subMenu.opened) {\r\n        this._close();\r\n        if (subMenu.listenOn === button) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      const items = item && item.children;\r\n      if (!items || items.length === 0) {\r\n        this.__fireItemSelected(item);\r\n        return;\r\n      }\r\n\r\n      subMenu.items = items;\r\n      subMenu.listenOn = button;\r\n      const overlay = subMenu._overlayElement;\r\n      overlay.noVerticalOverlap = true;\r\n\r\n      this._expandedButton = button;\r\n\r\n      requestAnimationFrame(() => {\r\n        // After changing items, buttons are recreated so the old button is\r\n        // no longer in the DOM. Reset position target to null to prevent\r\n        // overlay from closing due to target width / height equal to 0.\r\n        if (overlay.positionTarget && !overlay.positionTarget.isConnected) {\r\n          overlay.positionTarget = null;\r\n        }\r\n\r\n        button.dispatchEvent(\r\n          new CustomEvent('opensubmenu', {\r\n            detail: {\r\n              children: items,\r\n            },\r\n          }),\r\n        );\r\n        this._hideTooltip(true);\r\n\r\n        this._setExpanded(button, true);\r\n\r\n        overlay.positionTarget = button;\r\n      });\r\n\r\n      this.style.pointerEvents = 'auto';\r\n\r\n      overlay.addEventListener(\r\n        'vaadin-overlay-open',\r\n        () => {\r\n          if (options.focusLast) {\r\n            this._focusLastItem();\r\n          }\r\n\r\n          if (options.keepFocus) {\r\n            this._focusItem(this._expandedButton, false);\r\n          }\r\n\r\n          // Do not focus item when open not from keyboard\r\n          if (!keydown) {\r\n            overlay.$.overlay.focus();\r\n          }\r\n        },\r\n        { once: true },\r\n      );\r\n    }\r\n\r\n    /** @private */\r\n    _focusFirstItem() {\r\n      const list = this._subMenu._overlayElement.firstElementChild;\r\n      list.focus();\r\n    }\r\n\r\n    /** @private */\r\n    _focusLastItem() {\r\n      const list = this._subMenu._overlayElement.firstElementChild;\r\n      const item = list.items[list.items.length - 1];\r\n      if (item) {\r\n        item.focus();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __onItemSelected(e) {\r\n      e.stopPropagation();\r\n      this.__fireItemSelected(e.detail.value);\r\n    }\r\n\r\n    /** @private */\r\n    __onEscapeClose() {\r\n      this.__deactivateButton(true);\r\n    }\r\n\r\n    /** @private */\r\n    __deactivateButton(restoreFocus) {\r\n      const button = this._expandedButton;\r\n      if (button && button.hasAttribute('expanded')) {\r\n        this._setExpanded(button, false);\r\n        if (restoreFocus) {\r\n          this._focusItem(button, false);\r\n        }\r\n        this._expandedButton = null;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {boolean} restoreFocus\r\n     * @protected\r\n     */\r\n    _close(restoreFocus = false) {\r\n      this.style.pointerEvents = '';\r\n      this.__deactivateButton(restoreFocus);\r\n      if (this._subMenu.opened) {\r\n        this._subMenu.close();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Closes the current submenu.\r\n     */\r\n    close() {\r\n      this._close();\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `KeyboardDirectionMixin` to allow\r\n     * focusing disabled buttons that are configured so.\r\n     *\r\n     * @param {Element} button\r\n     * @protected\r\n     * @override\r\n     */\r\n    _isItemFocusable(button) {\r\n      if (button.disabled && button.__shouldAllowFocusWhenDisabled) {\r\n        return button.__shouldAllowFocusWhenDisabled();\r\n      }\r\n\r\n      return super._isItemFocusable(button);\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport './vaadin-menu-bar-submenu.js';\r\nimport './vaadin-menu-bar-button.js';\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\r\nimport { TooltipController } from '@vaadin/component-base/src/tooltip-controller.js';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { MenuBarMixin } from './vaadin-menu-bar-mixin.js';\r\n\r\n/**\r\n * `<vaadin-menu-bar>` is a Web Component providing a set of horizontally stacked buttons offering\r\n * the user quick access to a consistent set of commands. Each button can toggle a submenu with\r\n * support for additional levels of nested menus.\r\n *\r\n * To create the menu bar, first add the component to the page:\r\n *\r\n * ```\r\n * <vaadin-menu-bar></vaadin-menu-bar>\r\n * ```\r\n *\r\n * And then use [`items`](#/elements/vaadin-menu-bar#property-items) property to initialize the structure:\r\n *\r\n * ```\r\n * document.querySelector('vaadin-menu-bar').items = [{text: 'File'}, {text: 'Edit'}];\r\n * ```\r\n *\r\n * ### Styling\r\n *\r\n * The following shadow DOM parts are exposed for styling:\r\n *\r\n * Part name         | Description\r\n * ------------------|----------------\r\n * `container`       | The container wrapping menu bar buttons.\r\n *\r\n * The following state attributes are available for styling:\r\n *\r\n * Attribute           | Description\r\n * --------------------|----------------------------------\r\n * `disabled`          | Set when the menu bar is disabled\r\n * `has-single-button` | Set when there is only one button visible\r\n *\r\n * See [Styling Components](https://vaadin.com/docs/latest/styling/styling-components) documentation.\r\n *\r\n * ### Internal components\r\n *\r\n * In addition to `<vaadin-menu-bar>` itself, the following internal\r\n * components are themable:\r\n *\r\n * - `<vaadin-menu-bar-button>` - has the same API as [`<vaadin-button>`](#/elements/vaadin-button).\r\n * - `<vaadin-menu-bar-item>` - has the same API as [`<vaadin-item>`](#/elements/vaadin-item).\r\n * - `<vaadin-menu-bar-list-box>` - has the same API as [`<vaadin-list-box>`](#/elements/vaadin-list-box).\r\n * - `<vaadin-menu-bar-overlay>` - has the same API as [`<vaadin-overlay>`](#/elements/vaadin-overlay).\r\n *\r\n * The `<vaadin-menu-bar-item>` sub-menu elements have the following additional state attributes\r\n * on top of the built-in `<vaadin-item>` state attributes:\r\n *\r\n * Attribute  | Description\r\n * ---------- |-------------\r\n * `expanded` | Expanded parent item.\r\n *\r\n * Note: the `theme` attribute value set on `<vaadin-menu-bar>` is\r\n * propagated to the internal components listed above.\r\n *\r\n * @fires {CustomEvent<boolean>} item-selected - Fired when a submenu item or menu bar button without children is clicked.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes ElementMixin\r\n * @mixes MenuBarMixin\r\n * @mixes ThemableMixin\r\n */\r\nclass MenuBar extends MenuBarMixin(ElementMixin(ThemableMixin(PolymerElement))) {\r\n  static get template() {\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: block;\r\n        }\r\n\r\n        :host([hidden]) {\r\n          display: none !important;\r\n        }\r\n\r\n        [part='container'] {\r\n          position: relative;\r\n          display: flex;\r\n          width: 100%;\r\n          flex-wrap: nowrap;\r\n          overflow: hidden;\r\n        }\r\n      </style>\r\n\r\n      <div part=\"container\">\r\n        <slot></slot>\r\n        <slot name=\"overflow\"></slot>\r\n      </div>\r\n      <vaadin-menu-bar-submenu is-root overlay-class=\"[[overlayClass]]\"></vaadin-menu-bar-submenu>\r\n\r\n      <slot name=\"tooltip\"></slot>\r\n    `;\r\n  }\r\n\r\n  static get is() {\r\n    return 'vaadin-menu-bar';\r\n  }\r\n\r\n  /** @protected */\r\n  ready() {\r\n    super.ready();\r\n\r\n    this._tooltipController = new TooltipController(this);\r\n    this._tooltipController.setManual(true);\r\n    this.addController(this._tooltipController);\r\n  }\r\n\r\n  /**\r\n   * Fired when either a submenu item or menu bar button without nested children is clicked.\r\n   *\r\n   * @event item-selected\r\n   * @param {Object} detail\r\n   * @param {Object} detail.value the selected menu bar item\r\n   */\r\n}\r\n\r\ndefineCustomElement(MenuBar);\r\n\r\nexport { MenuBar };\r\n"],
  "mappings": "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",
  "names": ["button", "item"]
}
