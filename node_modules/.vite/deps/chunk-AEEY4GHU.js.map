{
  "version": 3,
  "sources": ["../../@vaadin/details/node_modules/@vaadin/component-base/src/async.js", "../../@vaadin/details/node_modules/@vaadin/component-base/src/gestures.js", "../../@vaadin/details/node_modules/@vaadin/a11y-base/src/disabled-mixin.js", "../../@vaadin/details/node_modules/@vaadin/a11y-base/src/keyboard-mixin.js", "../../@vaadin/details/node_modules/@vaadin/a11y-base/src/active-mixin.js", "../../@vaadin/details/node_modules/@vaadin/a11y-base/src/focus-utils.js", "../../@vaadin/details/node_modules/@vaadin/a11y-base/src/focus-mixin.js", "../../@vaadin/details/node_modules/@vaadin/a11y-base/src/tabindex-mixin.js", "../../@vaadin/details/node_modules/@vaadin/button/src/vaadin-button-mixin.js", "../../@vaadin/details/node_modules/@vaadin/component-base/src/define.js", "../../@vaadin/details/node_modules/@vaadin/component-base/src/dir-mixin.js", "../../@vaadin/details/src/vaadin-details-summary.js", "../../@vaadin/details/node_modules/@vaadin/component-base/src/controller-mixin.js", "../../@vaadin/details/node_modules/@vaadin/component-base/src/element-mixin.js", "../../@vaadin/details/node_modules/@vaadin/component-base/src/debounce.js", "../../@vaadin/details/node_modules/@vaadin/a11y-base/src/delegate-focus-mixin.js", "../../@vaadin/details/node_modules/@vaadin/component-base/src/delegate-state-mixin.js", "../../@vaadin/details/node_modules/@vaadin/component-base/src/tooltip-controller.js", "../../@vaadin/details/src/vaadin-details-base-mixin.js", "../../@vaadin/details/src/vaadin-details.js"],
  "sourcesContent": ["/**\r\n * @license\r\n * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.\r\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\n * Code distributed by Google as part of the polymer project is also\r\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n */\r\n\r\n/**\r\n * @fileoverview\r\n *\r\n * This module provides a number of strategies for enqueuing asynchronous\r\n * tasks. Each sub-module provides a standard `run(fn)` interface that returns a\r\n * handle, and a `cancel(handle)` interface for canceling async tasks before\r\n * they run.\r\n *\r\n * @summary Module that provides a number of strategies for enqueuing\r\n * asynchronous tasks.\r\n */\r\n\r\nlet microtaskCurrHandle = 0;\r\nlet microtaskLastHandle = 0;\r\nconst microtaskCallbacks = [];\r\nlet microtaskScheduled = false;\r\n\r\nfunction microtaskFlush() {\r\n  microtaskScheduled = false;\r\n  const len = microtaskCallbacks.length;\r\n  for (let i = 0; i < len; i++) {\r\n    const cb = microtaskCallbacks[i];\r\n    if (cb) {\r\n      try {\r\n        cb();\r\n      } catch (e) {\r\n        setTimeout(() => {\r\n          throw e;\r\n        });\r\n      }\r\n    }\r\n  }\r\n  microtaskCallbacks.splice(0, len);\r\n  microtaskLastHandle += len;\r\n}\r\n\r\n/**\r\n * Async interface wrapper around `setTimeout`.\r\n *\r\n * @namespace\r\n * @summary Async interface wrapper around `setTimeout`.\r\n */\r\nconst timeOut = {\r\n  /**\r\n   * Returns a sub-module with the async interface providing the provided\r\n   * delay.\r\n   *\r\n   * @memberof timeOut\r\n   * @param {number=} delay Time to wait before calling callbacks in ms\r\n   * @return {!AsyncInterface} An async timeout interface\r\n   */\r\n  after(delay) {\r\n    return {\r\n      run(fn) {\r\n        return window.setTimeout(fn, delay);\r\n      },\r\n      cancel(handle) {\r\n        window.clearTimeout(handle);\r\n      },\r\n    };\r\n  },\r\n  /**\r\n   * Enqueues a function called in the next task.\r\n   *\r\n   * @memberof timeOut\r\n   * @param {!Function} fn Callback to run\r\n   * @param {number=} delay Delay in milliseconds\r\n   * @return {number} Handle used for canceling task\r\n   */\r\n  run(fn, delay) {\r\n    return window.setTimeout(fn, delay);\r\n  },\r\n  /**\r\n   * Cancels a previously enqueued `timeOut` callback.\r\n   *\r\n   * @memberof timeOut\r\n   * @param {number} handle Handle returned from `run` of callback to cancel\r\n   * @return {void}\r\n   */\r\n  cancel(handle) {\r\n    window.clearTimeout(handle);\r\n  },\r\n};\r\nexport { timeOut };\r\n\r\n/**\r\n * Async interface wrapper around `requestAnimationFrame`.\r\n *\r\n * @namespace\r\n * @summary Async interface wrapper around `requestAnimationFrame`.\r\n */\r\nconst animationFrame = {\r\n  /**\r\n   * Enqueues a function called at `requestAnimationFrame` timing.\r\n   *\r\n   * @memberof animationFrame\r\n   * @param {function(number):void} fn Callback to run\r\n   * @return {number} Handle used for canceling task\r\n   */\r\n  run(fn) {\r\n    return window.requestAnimationFrame(fn);\r\n  },\r\n  /**\r\n   * Cancels a previously enqueued `animationFrame` callback.\r\n   *\r\n   * @memberof animationFrame\r\n   * @param {number} handle Handle returned from `run` of callback to cancel\r\n   * @return {void}\r\n   */\r\n  cancel(handle) {\r\n    window.cancelAnimationFrame(handle);\r\n  },\r\n};\r\nexport { animationFrame };\r\n\r\n/**\r\n * Async interface wrapper around `requestIdleCallback`.  Falls back to\r\n * `setTimeout` on browsers that do not support `requestIdleCallback`.\r\n *\r\n * @namespace\r\n * @summary Async interface wrapper around `requestIdleCallback`.\r\n */\r\nconst idlePeriod = {\r\n  /**\r\n   * Enqueues a function called at `requestIdleCallback` timing.\r\n   *\r\n   * @memberof idlePeriod\r\n   * @param {function(!IdleDeadline):void} fn Callback to run\r\n   * @return {number} Handle used for canceling task\r\n   */\r\n  run(fn) {\r\n    return window.requestIdleCallback ? window.requestIdleCallback(fn) : window.setTimeout(fn, 16);\r\n  },\r\n  /**\r\n   * Cancels a previously enqueued `idlePeriod` callback.\r\n   *\r\n   * @memberof idlePeriod\r\n   * @param {number} handle Handle returned from `run` of callback to cancel\r\n   * @return {void}\r\n   */\r\n  cancel(handle) {\r\n    if (window.cancelIdleCallback) {\r\n      window.cancelIdleCallback(handle);\r\n    } else {\r\n      window.clearTimeout(handle);\r\n    }\r\n  },\r\n};\r\nexport { idlePeriod };\r\n\r\n/**\r\n * Async interface for enqueuing callbacks that run at microtask timing.\r\n *\r\n * @namespace\r\n * @summary Async interface for enqueuing callbacks that run at microtask\r\n *   timing.\r\n */\r\nconst microTask = {\r\n  /**\r\n   * Enqueues a function called at microtask timing.\r\n   *\r\n   * @memberof microTask\r\n   * @param {!Function=} callback Callback to run\r\n   * @return {number} Handle used for canceling task\r\n   */\r\n  run(callback) {\r\n    if (!microtaskScheduled) {\r\n      microtaskScheduled = true;\r\n      queueMicrotask(() => microtaskFlush());\r\n    }\r\n    microtaskCallbacks.push(callback);\r\n    const result = microtaskCurrHandle;\r\n    microtaskCurrHandle += 1;\r\n    return result;\r\n  },\r\n\r\n  /**\r\n   * Cancels a previously enqueued `microTask` callback.\r\n   *\r\n   * @memberof microTask\r\n   * @param {number} handle Handle returned from `run` of callback to cancel\r\n   * @return {void}\r\n   */\r\n  cancel(handle) {\r\n    const idx = handle - microtaskLastHandle;\r\n    if (idx >= 0) {\r\n      if (!microtaskCallbacks[idx]) {\r\n        throw new Error(`invalid async handle: ${handle}`);\r\n      }\r\n      microtaskCallbacks[idx] = null;\r\n    }\r\n  },\r\n};\r\nexport { microTask };\r\n", "/**\r\n@license\r\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\r\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\nCode distributed by Google as part of the polymer project is also\r\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n*/\r\n\r\n/* eslint-disable @typescript-eslint/no-use-before-define */\r\n\r\n/**\r\n * @fileoverview\r\n *\r\n * Module for adding listeners to a node for the following normalized\r\n * cross-platform \"gesture\" events:\r\n * - `down` - mouse or touch went down\r\n * - `up` - mouse or touch went up\r\n * - `tap` - mouse click or finger tap\r\n * - `track` - mouse drag or touch move\r\n *\r\n * @summary Module for adding cross-platform gesture event listeners.\r\n */\r\n\r\nimport { microTask } from './async.js';\r\n\r\nconst passiveTouchGestures = false;\r\nconst wrap = (node) => node;\r\n\r\n// Detect native touch action support\r\nconst HAS_NATIVE_TA = typeof document.head.style.touchAction === 'string';\r\nconst GESTURE_KEY = '__polymerGestures';\r\nconst HANDLED_OBJ = '__polymerGesturesHandled';\r\nconst TOUCH_ACTION = '__polymerGesturesTouchAction';\r\n// Radius for tap and track\r\nconst TAP_DISTANCE = 25;\r\nconst TRACK_DISTANCE = 5;\r\n// Number of last N track positions to keep\r\nconst TRACK_LENGTH = 2;\r\n\r\nconst MOUSE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'click'];\r\n// An array of bitmask values for mapping MouseEvent.which to MouseEvent.buttons\r\nconst MOUSE_WHICH_TO_BUTTONS = [0, 1, 4, 2];\r\nconst MOUSE_HAS_BUTTONS = (function () {\r\n  try {\r\n    return new MouseEvent('test', { buttons: 1 }).buttons === 1;\r\n  } catch (_) {\r\n    return false;\r\n  }\r\n})();\r\n\r\n/**\r\n * @param {string} name Possible mouse event name\r\n * @return {boolean} true if mouse event, false if not\r\n */\r\nfunction isMouseEvent(name) {\r\n  return MOUSE_EVENTS.indexOf(name) > -1;\r\n}\r\n\r\n/* eslint no-empty: [\"error\", { \"allowEmptyCatch\": true }] */\r\n// check for passive event listeners\r\nlet supportsPassive = false;\r\n(function () {\r\n  try {\r\n    const opts = Object.defineProperty({}, 'passive', {\r\n      // eslint-disable-next-line getter-return\r\n      get() {\r\n        supportsPassive = true;\r\n      },\r\n    });\r\n    window.addEventListener('test', null, opts);\r\n    window.removeEventListener('test', null, opts);\r\n  } catch (_) {}\r\n})();\r\n\r\n/**\r\n * Generate settings for event listeners, dependant on `passiveTouchGestures`\r\n *\r\n * @param {string} eventName Event name to determine if `{passive}` option is\r\n *   needed\r\n * @return {{passive: boolean} | undefined} Options to use for addEventListener\r\n *   and removeEventListener\r\n */\r\nfunction PASSIVE_TOUCH(eventName) {\r\n  if (isMouseEvent(eventName) || eventName === 'touchend') {\r\n    return;\r\n  }\r\n  if (HAS_NATIVE_TA && supportsPassive && passiveTouchGestures) {\r\n    return { passive: true };\r\n  }\r\n}\r\n\r\n// Check for touch-only devices\r\nconst IS_TOUCH_ONLY = navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/u);\r\n\r\n// Defined at https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#enabling-and-disabling-form-controls:-the-disabled-attribute\r\n/** @type {!Object<boolean>} */\r\nconst canBeDisabled = {\r\n  button: true,\r\n  command: true,\r\n  fieldset: true,\r\n  input: true,\r\n  keygen: true,\r\n  optgroup: true,\r\n  option: true,\r\n  select: true,\r\n  textarea: true,\r\n};\r\n\r\n/**\r\n * @param {MouseEvent} ev event to test for left mouse button down\r\n * @return {boolean} has left mouse button down\r\n */\r\nfunction hasLeftMouseButton(ev) {\r\n  const type = ev.type;\r\n  // Exit early if the event is not a mouse event\r\n  if (!isMouseEvent(type)) {\r\n    return false;\r\n  }\r\n  // Ev.button is not reliable for mousemove (0 is overloaded as both left button and no buttons)\r\n  // instead we use ev.buttons (bitmask of buttons) or fall back to ev.which (deprecated, 0 for no buttons, 1 for left button)\r\n  if (type === 'mousemove') {\r\n    // Allow undefined for testing events\r\n    let buttons = ev.buttons === undefined ? 1 : ev.buttons;\r\n    if (ev instanceof window.MouseEvent && !MOUSE_HAS_BUTTONS) {\r\n      buttons = MOUSE_WHICH_TO_BUTTONS[ev.which] || 0;\r\n    }\r\n    // Buttons is a bitmask, check that the left button bit is set (1)\r\n    return Boolean(buttons & 1);\r\n  }\r\n  // Allow undefined for testing events\r\n  const button = ev.button === undefined ? 0 : ev.button;\r\n  // Ev.button is 0 in mousedown/mouseup/click for left button activation\r\n  return button === 0;\r\n}\r\n\r\nfunction isSyntheticClick(ev) {\r\n  if (ev.type === 'click') {\r\n    // Ev.detail is 0 for HTMLElement.click in most browsers\r\n    if (ev.detail === 0) {\r\n      return true;\r\n    }\r\n    // In the worst case, check that the x/y position of the click is within\r\n    // the bounding box of the target of the event\r\n    // Thanks IE 10 >:(\r\n    const t = _findOriginalTarget(ev);\r\n    // Make sure the target of the event is an element so we can use getBoundingClientRect,\r\n    // if not, just assume it is a synthetic click\r\n    if (!t.nodeType || /** @type {Element} */ (t).nodeType !== Node.ELEMENT_NODE) {\r\n      return true;\r\n    }\r\n    const bcr = /** @type {Element} */ (t).getBoundingClientRect();\r\n    // Use page x/y to account for scrolling\r\n    const x = ev.pageX,\r\n      y = ev.pageY;\r\n    // Ev is a synthetic click if the position is outside the bounding box of the target\r\n    return !(x >= bcr.left && x <= bcr.right && y >= bcr.top && y <= bcr.bottom);\r\n  }\r\n  return false;\r\n}\r\n\r\nconst POINTERSTATE = {\r\n  mouse: {\r\n    target: null,\r\n    mouseIgnoreJob: null,\r\n  },\r\n  touch: {\r\n    x: 0,\r\n    y: 0,\r\n    id: -1,\r\n    scrollDecided: false,\r\n  },\r\n};\r\n\r\nfunction firstTouchAction(ev) {\r\n  let ta = 'auto';\r\n  const path = getComposedPath(ev);\r\n  for (let i = 0, n; i < path.length; i++) {\r\n    n = path[i];\r\n    if (n[TOUCH_ACTION]) {\r\n      ta = n[TOUCH_ACTION];\r\n      break;\r\n    }\r\n  }\r\n  return ta;\r\n}\r\n\r\nfunction trackDocument(stateObj, movefn, upfn) {\r\n  stateObj.movefn = movefn;\r\n  stateObj.upfn = upfn;\r\n  document.addEventListener('mousemove', movefn);\r\n  document.addEventListener('mouseup', upfn);\r\n}\r\n\r\nfunction untrackDocument(stateObj) {\r\n  document.removeEventListener('mousemove', stateObj.movefn);\r\n  document.removeEventListener('mouseup', stateObj.upfn);\r\n  stateObj.movefn = null;\r\n  stateObj.upfn = null;\r\n}\r\n\r\n/**\r\n * Returns the composedPath for the given event.\r\n * @param {Event} event to process\r\n * @return {!Array<!EventTarget>} Path of the event\r\n */\r\nconst getComposedPath =\r\n  window.ShadyDOM && window.ShadyDOM.noPatch\r\n    ? window.ShadyDOM.composedPath\r\n    : (event) => (event.composedPath && event.composedPath()) || [];\r\n\r\n/** @type {!Object<string, !GestureRecognizer>} */\r\nexport const gestures = {};\r\n\r\n/** @type {!Array<!GestureRecognizer>} */\r\nexport const recognizers = [];\r\n\r\n/**\r\n * Finds the element rendered on the screen at the provided coordinates.\r\n *\r\n * Similar to `document.elementFromPoint`, but pierces through\r\n * shadow roots.\r\n *\r\n * @param {number} x Horizontal pixel coordinate\r\n * @param {number} y Vertical pixel coordinate\r\n * @return {Element} Returns the deepest shadowRoot inclusive element\r\n * found at the screen position given.\r\n */\r\nexport function deepTargetFind(x, y) {\r\n  let node = document.elementFromPoint(x, y);\r\n  let next = node;\r\n  // This code path is only taken when native ShadowDOM is used\r\n  // if there is a shadowroot, it may have a node at x/y\r\n  // if there is not a shadowroot, exit the loop\r\n  while (next && next.shadowRoot && !window.ShadyDOM) {\r\n    // If there is a node at x/y in the shadowroot, look deeper\r\n    const oldNext = next;\r\n    next = next.shadowRoot.elementFromPoint(x, y);\r\n    // On Safari, elementFromPoint may return the shadowRoot host\r\n    if (oldNext === next) {\r\n      break;\r\n    }\r\n    if (next) {\r\n      node = next;\r\n    }\r\n  }\r\n  return node;\r\n}\r\n\r\n/**\r\n * A cheaper check than ev.composedPath()[0];\r\n *\r\n * @private\r\n * @param {Event|Touch} ev Event.\r\n * @return {EventTarget} Returns the event target.\r\n */\r\nfunction _findOriginalTarget(ev) {\r\n  const path = getComposedPath(/** @type {?Event} */ (ev));\r\n  // It shouldn't be, but sometimes path is empty (window on Safari).\r\n  return path.length > 0 ? path[0] : ev.target;\r\n}\r\n\r\n/**\r\n * @private\r\n * @param {Event} ev Event.\r\n * @return {void}\r\n */\r\nfunction _handleNative(ev) {\r\n  const type = ev.type;\r\n  const node = ev.currentTarget;\r\n  const gobj = node[GESTURE_KEY];\r\n  if (!gobj) {\r\n    return;\r\n  }\r\n  const gs = gobj[type];\r\n  if (!gs) {\r\n    return;\r\n  }\r\n  if (!ev[HANDLED_OBJ]) {\r\n    ev[HANDLED_OBJ] = {};\r\n    if (type.startsWith('touch')) {\r\n      const t = ev.changedTouches[0];\r\n      if (type === 'touchstart') {\r\n        // Only handle the first finger\r\n        if (ev.touches.length === 1) {\r\n          POINTERSTATE.touch.id = t.identifier;\r\n        }\r\n      }\r\n      if (POINTERSTATE.touch.id !== t.identifier) {\r\n        return;\r\n      }\r\n      if (!HAS_NATIVE_TA) {\r\n        if (type === 'touchstart' || type === 'touchmove') {\r\n          _handleTouchAction(ev);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  const handled = ev[HANDLED_OBJ];\r\n  // Used to ignore synthetic mouse events\r\n  if (handled.skip) {\r\n    return;\r\n  }\r\n  // Reset recognizer state\r\n  for (let i = 0, r; i < recognizers.length; i++) {\r\n    r = recognizers[i];\r\n    if (gs[r.name] && !handled[r.name]) {\r\n      if (r.flow && r.flow.start.indexOf(ev.type) > -1 && r.reset) {\r\n        r.reset();\r\n      }\r\n    }\r\n  }\r\n  // Enforce gesture recognizer order\r\n  for (let i = 0, r; i < recognizers.length; i++) {\r\n    r = recognizers[i];\r\n    if (gs[r.name] && !handled[r.name]) {\r\n      handled[r.name] = true;\r\n      r[type](ev);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @private\r\n * @param {TouchEvent} ev Event.\r\n * @return {void}\r\n */\r\nfunction _handleTouchAction(ev) {\r\n  const t = ev.changedTouches[0];\r\n  const type = ev.type;\r\n  if (type === 'touchstart') {\r\n    POINTERSTATE.touch.x = t.clientX;\r\n    POINTERSTATE.touch.y = t.clientY;\r\n    POINTERSTATE.touch.scrollDecided = false;\r\n  } else if (type === 'touchmove') {\r\n    if (POINTERSTATE.touch.scrollDecided) {\r\n      return;\r\n    }\r\n    POINTERSTATE.touch.scrollDecided = true;\r\n    const ta = firstTouchAction(ev);\r\n    let shouldPrevent = false;\r\n    const dx = Math.abs(POINTERSTATE.touch.x - t.clientX);\r\n    const dy = Math.abs(POINTERSTATE.touch.y - t.clientY);\r\n    if (!ev.cancelable) {\r\n      // Scrolling is happening\r\n    } else if (ta === 'none') {\r\n      shouldPrevent = true;\r\n    } else if (ta === 'pan-x') {\r\n      shouldPrevent = dy > dx;\r\n    } else if (ta === 'pan-y') {\r\n      shouldPrevent = dx > dy;\r\n    }\r\n    if (shouldPrevent) {\r\n      ev.preventDefault();\r\n    } else {\r\n      prevent('track');\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Adds an event listener to a node for the given gesture type.\r\n *\r\n * @param {!EventTarget} node Node to add listener on\r\n * @param {string} evType Gesture type: `down`, `up`, `track`, or `tap`\r\n * @param {!function(!Event):void} handler Event listener function to call\r\n * @return {boolean} Returns true if a gesture event listener was added.\r\n */\r\nexport function addListener(node, evType, handler) {\r\n  if (gestures[evType]) {\r\n    _add(node, evType, handler);\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * Removes an event listener from a node for the given gesture type.\r\n *\r\n * @param {!EventTarget} node Node to remove listener from\r\n * @param {string} evType Gesture type: `down`, `up`, `track`, or `tap`\r\n * @param {!function(!Event):void} handler Event listener function previously passed to\r\n *  `addListener`.\r\n * @return {boolean} Returns true if a gesture event listener was removed.\r\n */\r\nexport function removeListener(node, evType, handler) {\r\n  if (gestures[evType]) {\r\n    _remove(node, evType, handler);\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * Automate the event listeners for the native events\r\n *\r\n * @private\r\n * @param {!EventTarget} node Node on which to add the event.\r\n * @param {string} evType Event type to add.\r\n * @param {function(!Event)} handler Event handler function.\r\n * @return {void}\r\n */\r\nfunction _add(node, evType, handler) {\r\n  const recognizer = gestures[evType];\r\n  const deps = recognizer.deps;\r\n  const name = recognizer.name;\r\n  let gobj = node[GESTURE_KEY];\r\n  if (!gobj) {\r\n    node[GESTURE_KEY] = gobj = {};\r\n  }\r\n  for (let i = 0, dep, gd; i < deps.length; i++) {\r\n    dep = deps[i];\r\n    // Don't add mouse handlers on iOS because they cause gray selection overlays\r\n    if (IS_TOUCH_ONLY && isMouseEvent(dep) && dep !== 'click') {\r\n      continue;\r\n    }\r\n    gd = gobj[dep];\r\n    if (!gd) {\r\n      gobj[dep] = gd = { _count: 0 };\r\n    }\r\n    if (gd._count === 0) {\r\n      node.addEventListener(dep, _handleNative, PASSIVE_TOUCH(dep));\r\n    }\r\n    gd[name] = (gd[name] || 0) + 1;\r\n    gd._count = (gd._count || 0) + 1;\r\n  }\r\n  node.addEventListener(evType, handler);\r\n  if (recognizer.touchAction) {\r\n    setTouchAction(node, recognizer.touchAction);\r\n  }\r\n}\r\n\r\n/**\r\n * Automate event listener removal for native events\r\n *\r\n * @private\r\n * @param {!EventTarget} node Node on which to remove the event.\r\n * @param {string} evType Event type to remove.\r\n * @param {function(!Event): void} handler Event handler function.\r\n * @return {void}\r\n */\r\nfunction _remove(node, evType, handler) {\r\n  const recognizer = gestures[evType];\r\n  const deps = recognizer.deps;\r\n  const name = recognizer.name;\r\n  const gobj = node[GESTURE_KEY];\r\n  if (gobj) {\r\n    for (let i = 0, dep, gd; i < deps.length; i++) {\r\n      dep = deps[i];\r\n      gd = gobj[dep];\r\n      if (gd && gd[name]) {\r\n        gd[name] = (gd[name] || 1) - 1;\r\n        gd._count = (gd._count || 1) - 1;\r\n        if (gd._count === 0) {\r\n          node.removeEventListener(dep, _handleNative, PASSIVE_TOUCH(dep));\r\n        }\r\n      }\r\n    }\r\n  }\r\n  node.removeEventListener(evType, handler);\r\n}\r\n\r\n/**\r\n * Registers a new gesture event recognizer for adding new custom\r\n * gesture event types.\r\n *\r\n * @param {!GestureRecognizer} recog Gesture recognizer descriptor\r\n * @return {void}\r\n */\r\nexport function register(recog) {\r\n  recognizers.push(recog);\r\n  recog.emits.forEach((emit) => {\r\n    gestures[emit] = recog;\r\n  });\r\n}\r\n\r\n/**\r\n * @private\r\n * @param {string} evName Event name.\r\n * @return {Object} Returns the gesture for the given event name.\r\n */\r\nfunction _findRecognizerByEvent(evName) {\r\n  for (let i = 0, r; i < recognizers.length; i++) {\r\n    r = recognizers[i];\r\n    for (let j = 0, n; j < r.emits.length; j++) {\r\n      n = r.emits[j];\r\n      if (n === evName) {\r\n        return r;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n/**\r\n * Sets scrolling direction on node.\r\n *\r\n * This value is checked on first move, thus it should be called prior to\r\n * adding event listeners.\r\n *\r\n * @param {!EventTarget} node Node to set touch action setting on\r\n * @param {string} value Touch action value\r\n * @return {void}\r\n */\r\nexport function setTouchAction(node, value) {\r\n  if (HAS_NATIVE_TA && node instanceof HTMLElement) {\r\n    // NOTE: add touchAction async so that events can be added in\r\n    // custom element constructors. Otherwise we run afoul of custom\r\n    // elements restriction against settings attributes (style) in the\r\n    // constructor.\r\n    microTask.run(() => {\r\n      node.style.touchAction = value;\r\n    });\r\n  }\r\n  node[TOUCH_ACTION] = value;\r\n}\r\n\r\n/**\r\n * Dispatches an event on the `target` element of `type` with the given\r\n * `detail`.\r\n * @private\r\n * @param {!EventTarget} target The element on which to fire an event.\r\n * @param {string} type The type of event to fire.\r\n * @param {!Object=} detail The detail object to populate on the event.\r\n * @return {void}\r\n */\r\nfunction _fire(target, type, detail) {\r\n  const ev = new Event(type, { bubbles: true, cancelable: true, composed: true });\r\n  ev.detail = detail;\r\n  wrap(/** @type {!Node} */ (target)).dispatchEvent(ev);\r\n  // Forward `preventDefault` in a clean way\r\n  if (ev.defaultPrevented) {\r\n    const preventer = detail.preventer || detail.sourceEvent;\r\n    if (preventer && preventer.preventDefault) {\r\n      preventer.preventDefault();\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Prevents the dispatch and default action of the given event name.\r\n *\r\n * @param {string} evName Event name.\r\n * @return {void}\r\n */\r\nexport function prevent(evName) {\r\n  const recognizer = _findRecognizerByEvent(evName);\r\n  if (recognizer.info) {\r\n    recognizer.info.prevent = true;\r\n  }\r\n}\r\n\r\nregister({\r\n  name: 'downup',\r\n  deps: ['mousedown', 'touchstart', 'touchend'],\r\n  flow: {\r\n    start: ['mousedown', 'touchstart'],\r\n    end: ['mouseup', 'touchend'],\r\n  },\r\n  emits: ['down', 'up'],\r\n\r\n  info: {\r\n    movefn: null,\r\n    upfn: null,\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @return {void}\r\n   */\r\n  reset() {\r\n    untrackDocument(this.info);\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {MouseEvent} e\r\n   * @return {void}\r\n   */\r\n  mousedown(e) {\r\n    if (!hasLeftMouseButton(e)) {\r\n      return;\r\n    }\r\n    const t = _findOriginalTarget(e);\r\n    const self = this;\r\n    const movefn = (e) => {\r\n      if (!hasLeftMouseButton(e)) {\r\n        downupFire('up', t, e);\r\n        untrackDocument(self.info);\r\n      }\r\n    };\r\n    const upfn = (e) => {\r\n      if (hasLeftMouseButton(e)) {\r\n        downupFire('up', t, e);\r\n      }\r\n      untrackDocument(self.info);\r\n    };\r\n    trackDocument(this.info, movefn, upfn);\r\n    downupFire('down', t, e);\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {TouchEvent} e\r\n   * @return {void}\r\n   */\r\n  touchstart(e) {\r\n    downupFire('down', _findOriginalTarget(e), e.changedTouches[0], e);\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {TouchEvent} e\r\n   * @return {void}\r\n   */\r\n  touchend(e) {\r\n    downupFire('up', _findOriginalTarget(e), e.changedTouches[0], e);\r\n  },\r\n});\r\n\r\n/**\r\n * @param {string} type\r\n * @param {EventTarget} target\r\n * @param {Event|Touch} event\r\n * @param {Event=} preventer\r\n * @return {void}\r\n */\r\nfunction downupFire(type, target, event, preventer) {\r\n  if (!target) {\r\n    return;\r\n  }\r\n  _fire(target, type, {\r\n    x: event.clientX,\r\n    y: event.clientY,\r\n    sourceEvent: event,\r\n    preventer,\r\n    prevent(e) {\r\n      return prevent(e);\r\n    },\r\n  });\r\n}\r\n\r\nregister({\r\n  name: 'track',\r\n  touchAction: 'none',\r\n  deps: ['mousedown', 'touchstart', 'touchmove', 'touchend'],\r\n  flow: {\r\n    start: ['mousedown', 'touchstart'],\r\n    end: ['mouseup', 'touchend'],\r\n  },\r\n  emits: ['track'],\r\n\r\n  info: {\r\n    x: 0,\r\n    y: 0,\r\n    state: 'start',\r\n    started: false,\r\n    moves: [],\r\n    /** @this {GestureInfo} */\r\n    addMove(move) {\r\n      if (this.moves.length > TRACK_LENGTH) {\r\n        this.moves.shift();\r\n      }\r\n      this.moves.push(move);\r\n    },\r\n    movefn: null,\r\n    upfn: null,\r\n    prevent: false,\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @return {void}\r\n   */\r\n  reset() {\r\n    this.info.state = 'start';\r\n    this.info.started = false;\r\n    this.info.moves = [];\r\n    this.info.x = 0;\r\n    this.info.y = 0;\r\n    this.info.prevent = false;\r\n    untrackDocument(this.info);\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {MouseEvent} e\r\n   * @return {void}\r\n   */\r\n  mousedown(e) {\r\n    if (!hasLeftMouseButton(e)) {\r\n      return;\r\n    }\r\n    const t = _findOriginalTarget(e);\r\n    const self = this;\r\n    const movefn = (e) => {\r\n      const x = e.clientX,\r\n        y = e.clientY;\r\n      if (trackHasMovedEnough(self.info, x, y)) {\r\n        // First move is 'start', subsequent moves are 'move', mouseup is 'end'\r\n        self.info.state = self.info.started ? (e.type === 'mouseup' ? 'end' : 'track') : 'start';\r\n        if (self.info.state === 'start') {\r\n          // If and only if tracking, always prevent tap\r\n          prevent('tap');\r\n        }\r\n        self.info.addMove({ x, y });\r\n        if (!hasLeftMouseButton(e)) {\r\n          // Always fire \"end\"\r\n          self.info.state = 'end';\r\n          untrackDocument(self.info);\r\n        }\r\n        if (t) {\r\n          trackFire(self.info, t, e);\r\n        }\r\n        self.info.started = true;\r\n      }\r\n    };\r\n    const upfn = (e) => {\r\n      if (self.info.started) {\r\n        movefn(e);\r\n      }\r\n\r\n      // Remove the temporary listeners\r\n      untrackDocument(self.info);\r\n    };\r\n    // Add temporary document listeners as mouse retargets\r\n    trackDocument(this.info, movefn, upfn);\r\n    this.info.x = e.clientX;\r\n    this.info.y = e.clientY;\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {TouchEvent} e\r\n   * @return {void}\r\n   */\r\n  touchstart(e) {\r\n    const ct = e.changedTouches[0];\r\n    this.info.x = ct.clientX;\r\n    this.info.y = ct.clientY;\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {TouchEvent} e\r\n   * @return {void}\r\n   */\r\n  touchmove(e) {\r\n    const t = _findOriginalTarget(e);\r\n    const ct = e.changedTouches[0];\r\n    const x = ct.clientX,\r\n      y = ct.clientY;\r\n    if (trackHasMovedEnough(this.info, x, y)) {\r\n      if (this.info.state === 'start') {\r\n        // If and only if tracking, always prevent tap\r\n        prevent('tap');\r\n      }\r\n      this.info.addMove({ x, y });\r\n      trackFire(this.info, t, ct);\r\n      this.info.state = 'track';\r\n      this.info.started = true;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {TouchEvent} e\r\n   * @return {void}\r\n   */\r\n  touchend(e) {\r\n    const t = _findOriginalTarget(e);\r\n    const ct = e.changedTouches[0];\r\n    // Only trackend if track was started and not aborted\r\n    if (this.info.started) {\r\n      // Reset started state on up\r\n      this.info.state = 'end';\r\n      this.info.addMove({ x: ct.clientX, y: ct.clientY });\r\n      trackFire(this.info, t, ct);\r\n    }\r\n  },\r\n});\r\n\r\n/**\r\n * @param {!GestureInfo} info\r\n * @param {number} x\r\n * @param {number} y\r\n * @return {boolean}\r\n */\r\nfunction trackHasMovedEnough(info, x, y) {\r\n  if (info.prevent) {\r\n    return false;\r\n  }\r\n  if (info.started) {\r\n    return true;\r\n  }\r\n  const dx = Math.abs(info.x - x);\r\n  const dy = Math.abs(info.y - y);\r\n  return dx >= TRACK_DISTANCE || dy >= TRACK_DISTANCE;\r\n}\r\n\r\n/**\r\n * @param {!GestureInfo} info\r\n * @param {?EventTarget} target\r\n * @param {Touch} touch\r\n * @return {void}\r\n */\r\nfunction trackFire(info, target, touch) {\r\n  if (!target) {\r\n    return;\r\n  }\r\n  const secondlast = info.moves[info.moves.length - 2];\r\n  const lastmove = info.moves[info.moves.length - 1];\r\n  const dx = lastmove.x - info.x;\r\n  const dy = lastmove.y - info.y;\r\n  let ddx,\r\n    ddy = 0;\r\n  if (secondlast) {\r\n    ddx = lastmove.x - secondlast.x;\r\n    ddy = lastmove.y - secondlast.y;\r\n  }\r\n  _fire(target, 'track', {\r\n    state: info.state,\r\n    x: touch.clientX,\r\n    y: touch.clientY,\r\n    dx,\r\n    dy,\r\n    ddx,\r\n    ddy,\r\n    sourceEvent: touch,\r\n    hover() {\r\n      return deepTargetFind(touch.clientX, touch.clientY);\r\n    },\r\n  });\r\n}\r\n\r\nregister({\r\n  name: 'tap',\r\n  deps: ['mousedown', 'click', 'touchstart', 'touchend'],\r\n  flow: {\r\n    start: ['mousedown', 'touchstart'],\r\n    end: ['click', 'touchend'],\r\n  },\r\n  emits: ['tap'],\r\n  info: {\r\n    x: NaN,\r\n    y: NaN,\r\n    prevent: false,\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @return {void}\r\n   */\r\n  reset() {\r\n    this.info.x = NaN;\r\n    this.info.y = NaN;\r\n    this.info.prevent = false;\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {MouseEvent} e\r\n   * @return {void}\r\n   */\r\n  mousedown(e) {\r\n    if (hasLeftMouseButton(e)) {\r\n      this.info.x = e.clientX;\r\n      this.info.y = e.clientY;\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {MouseEvent} e\r\n   * @return {void}\r\n   */\r\n  click(e) {\r\n    if (hasLeftMouseButton(e)) {\r\n      trackForward(this.info, e);\r\n    }\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {TouchEvent} e\r\n   * @return {void}\r\n   */\r\n  touchstart(e) {\r\n    const touch = e.changedTouches[0];\r\n    this.info.x = touch.clientX;\r\n    this.info.y = touch.clientY;\r\n  },\r\n\r\n  /**\r\n   * @this {GestureRecognizer}\r\n   * @param {TouchEvent} e\r\n   * @return {void}\r\n   */\r\n  touchend(e) {\r\n    trackForward(this.info, e.changedTouches[0], e);\r\n  },\r\n});\r\n\r\n/**\r\n * @param {!GestureInfo} info\r\n * @param {Event | Touch} e\r\n * @param {Event=} preventer\r\n * @return {void}\r\n */\r\nfunction trackForward(info, e, preventer) {\r\n  const dx = Math.abs(e.clientX - info.x);\r\n  const dy = Math.abs(e.clientY - info.y);\r\n  // Find original target from `preventer` for TouchEvents, or `e` for MouseEvents\r\n  const t = _findOriginalTarget(preventer || e);\r\n  if (!t || (canBeDisabled[/** @type {!HTMLElement} */ (t).localName] && t.hasAttribute('disabled'))) {\r\n    return;\r\n  }\r\n  // Dx,dy can be NaN if `click` has been simulated and there was no `down` for `start`\r\n  if (isNaN(dx) || isNaN(dy) || (dx <= TAP_DISTANCE && dy <= TAP_DISTANCE) || isSyntheticClick(e)) {\r\n    // Prevent taps from being generated if an event has canceled them\r\n    if (!info.prevent) {\r\n      _fire(t, 'tap', {\r\n        x: e.clientX,\r\n        y: e.clientY,\r\n        sourceEvent: e,\r\n        preventer,\r\n      });\r\n    }\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\r\n\r\n/**\r\n * A mixin to provide disabled property for field components.\r\n *\r\n * @polymerMixin\r\n */\r\nexport const DisabledMixin = dedupingMixin(\r\n  (superclass) =>\r\n    class DisabledMixinClass extends superclass {\r\n      static get properties() {\r\n        return {\r\n          /**\r\n           * If true, the user cannot interact with this element.\r\n           */\r\n          disabled: {\r\n            type: Boolean,\r\n            value: false,\r\n            observer: '_disabledChanged',\r\n            reflectToAttribute: true,\r\n            sync: true,\r\n          },\r\n        };\r\n      }\r\n\r\n      /**\r\n       * @param {boolean} disabled\r\n       * @protected\r\n       */\r\n      _disabledChanged(disabled) {\r\n        this._setAriaDisabled(disabled);\r\n      }\r\n\r\n      /**\r\n       * @param {boolean} disabled\r\n       * @protected\r\n       */\r\n      _setAriaDisabled(disabled) {\r\n        if (disabled) {\r\n          this.setAttribute('aria-disabled', 'true');\r\n        } else {\r\n          this.removeAttribute('aria-disabled');\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Overrides the default element `click` method in order to prevent\r\n       * firing the `click` event when the element is disabled.\r\n       * @protected\r\n       * @override\r\n       */\r\n      click() {\r\n        if (!this.disabled) {\r\n          super.click();\r\n        }\r\n      }\r\n    },\r\n);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\r\n\r\n/**\r\n * A mixin that manages keyboard handling.\r\n * The mixin subscribes to the keyboard events while an actual implementation\r\n * for the event handlers is left to the client (a component or another mixin).\r\n *\r\n * @polymerMixin\r\n */\r\nexport const KeyboardMixin = dedupingMixin(\r\n  (superclass) =>\r\n    class KeyboardMixinClass extends superclass {\r\n      /** @protected */\r\n      ready() {\r\n        super.ready();\r\n\r\n        this.addEventListener('keydown', (event) => {\r\n          this._onKeyDown(event);\r\n        });\r\n\r\n        this.addEventListener('keyup', (event) => {\r\n          this._onKeyUp(event);\r\n        });\r\n      }\r\n\r\n      /**\r\n       * A handler for the `keydown` event. By default, it calls\r\n       * separate methods for handling \"Enter\" and \"Escape\" keys.\r\n       * Override the method to implement your own behavior.\r\n       *\r\n       * @param {KeyboardEvent} event\r\n       * @protected\r\n       */\r\n      _onKeyDown(event) {\r\n        switch (event.key) {\r\n          case 'Enter':\r\n            this._onEnter(event);\r\n            break;\r\n          case 'Escape':\r\n            this._onEscape(event);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n\r\n      /**\r\n       * A handler for the `keyup` event. By default, it does nothing.\r\n       * Override the method to implement your own behavior.\r\n       *\r\n       * @param {KeyboardEvent} _event\r\n       * @protected\r\n       */\r\n      _onKeyUp(_event) {\r\n        // To be implemented.\r\n      }\r\n\r\n      /**\r\n       * A handler for the \"Enter\" key. By default, it does nothing.\r\n       * Override the method to implement your own behavior.\r\n       *\r\n       * @param {KeyboardEvent} _event\r\n       * @protected\r\n       */\r\n      _onEnter(_event) {\r\n        // To be implemented.\r\n      }\r\n\r\n      /**\r\n       * A handler for the \"Escape\" key. By default, it does nothing.\r\n       * Override the method to implement your own behavior.\r\n       *\r\n       * @param {KeyboardEvent} _event\r\n       * @protected\r\n       */\r\n      _onEscape(_event) {\r\n        // To be implemented.\r\n      }\r\n    },\r\n);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\r\nimport { DisabledMixin } from './disabled-mixin.js';\r\nimport { KeyboardMixin } from './keyboard-mixin.js';\r\n\r\n/**\r\n * A mixin to toggle the `active` attribute.\r\n *\r\n * The attribute is set whenever the user activates the element by a pointer\r\n * or presses an activation key on the element from the keyboard.\r\n *\r\n * The attribute is removed as soon as the element is deactivated\r\n * by the pointer or by releasing the activation key.\r\n *\r\n * @polymerMixin\r\n * @mixes DisabledMixin\r\n * @mixes KeyboardMixin\r\n */\r\nexport const ActiveMixin = (superclass) =>\r\n  class ActiveMixinClass extends DisabledMixin(KeyboardMixin(superclass)) {\r\n    /**\r\n     * An array of activation keys.\r\n     *\r\n     * See possible values here:\r\n     * https://developer.mozilla.org/ru/docs/Web/API/KeyboardEvent/key/Key_Values\r\n     *\r\n     * @protected\r\n     * @return {!Array<!string>}\r\n     */\r\n    get _activeKeys() {\r\n      return [' '];\r\n    }\r\n\r\n    /** @protected */\r\n    ready() {\r\n      super.ready();\r\n\r\n      addListener(this, 'down', (event) => {\r\n        if (this._shouldSetActive(event)) {\r\n          this._setActive(true);\r\n        }\r\n      });\r\n\r\n      addListener(this, 'up', () => {\r\n        this._setActive(false);\r\n      });\r\n    }\r\n\r\n    /** @protected */\r\n    disconnectedCallback() {\r\n      super.disconnectedCallback();\r\n\r\n      // When the element is disconnecting from the DOM at the moment being active,\r\n      // the `active` attribute needs to be manually removed from the element.\r\n      // Otherwise, it will preserve on the element until the element is activated once again.\r\n      // The case reproduces for `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\r\n      this._setActive(false);\r\n    }\r\n\r\n    /**\r\n     * @param {KeyboardEvent | MouseEvent} _event\r\n     * @protected\r\n     */\r\n    _shouldSetActive(_event) {\r\n      return !this.disabled;\r\n    }\r\n\r\n    /**\r\n     * Sets the `active` attribute on the element if an activation key is pressed.\r\n     *\r\n     * @param {KeyboardEvent} event\r\n     * @protected\r\n     * @override\r\n     */\r\n    _onKeyDown(event) {\r\n      super._onKeyDown(event);\r\n\r\n      if (this._shouldSetActive(event) && this._activeKeys.includes(event.key)) {\r\n        this._setActive(true);\r\n\r\n        // Element can become hidden before the `keyup` event, e.g. on button click.\r\n        // Use document listener to ensure `active` attribute is removed correctly.\r\n        document.addEventListener(\r\n          'keyup',\r\n          (e) => {\r\n            if (this._activeKeys.includes(e.key)) {\r\n              this._setActive(false);\r\n            }\r\n          },\r\n          { once: true },\r\n        );\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Toggles the `active` attribute on the element.\r\n     *\r\n     * @param {boolean} active\r\n     * @protected\r\n     */\r\n    _setActive(active) {\r\n      this.toggleAttribute('active', active);\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\n\r\n// We consider the keyboard to be active if the window has received a keydown\r\n// event since the last mousedown event.\r\nlet keyboardActive = false;\r\n\r\n// Listen for top-level keydown and mousedown events.\r\n// Use capture phase so we detect events even if they're handled.\r\nwindow.addEventListener(\r\n  'keydown',\r\n  () => {\r\n    keyboardActive = true;\r\n  },\r\n  { capture: true },\r\n);\r\n\r\nwindow.addEventListener(\r\n  'mousedown',\r\n  () => {\r\n    keyboardActive = false;\r\n  },\r\n  { capture: true },\r\n);\r\n\r\n/**\r\n * Returns the actually focused element by traversing shadow\r\n * trees recursively to ensure it's the leaf element.\r\n *\r\n * @return {Element}\r\n */\r\nexport function getDeepActiveElement() {\r\n  let host = document.activeElement || document.body;\r\n  while (host.shadowRoot && host.shadowRoot.activeElement) {\r\n    host = host.shadowRoot.activeElement;\r\n  }\r\n  return host;\r\n}\r\n\r\n/**\r\n * Returns true if the window has received a keydown\r\n * event since the last mousedown event.\r\n *\r\n * @return {boolean}\r\n */\r\nexport function isKeyboardActive() {\r\n  return keyboardActive;\r\n}\r\n\r\n/**\r\n * Returns true if the element is hidden directly with `display: none` or `visibility: hidden`,\r\n * false otherwise.\r\n *\r\n * The method doesn't traverse the element's ancestors, it only checks for the CSS properties\r\n * set directly to or inherited by the element.\r\n *\r\n * @param {HTMLElement} element\r\n * @return {boolean}\r\n */\r\nfunction isElementHiddenDirectly(element) {\r\n  // Check inline style first to save a re-flow.\r\n  const style = element.style;\r\n  if (style.visibility === 'hidden' || style.display === 'none') {\r\n    return true;\r\n  }\r\n\r\n  const computedStyle = window.getComputedStyle(element);\r\n  if (computedStyle.visibility === 'hidden' || computedStyle.display === 'none') {\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * Returns if element `a` has lower tab order compared to element `b`\r\n * (both elements are assumed to be focusable and tabbable).\r\n * Elements with tabindex = 0 have lower tab order compared to elements\r\n * with tabindex > 0.\r\n * If both have same tabindex, it returns false.\r\n *\r\n * @param {HTMLElement} a\r\n * @param {HTMLElement} b\r\n * @return {boolean}\r\n */\r\nfunction hasLowerTabOrder(a, b) {\r\n  // Normalize tabIndexes\r\n  // e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`\r\n  const ati = Math.max(a.tabIndex, 0);\r\n  const bti = Math.max(b.tabIndex, 0);\r\n  return ati === 0 || bti === 0 ? bti > ati : ati > bti;\r\n}\r\n\r\n/**\r\n * Merge sort iterator, merges the two arrays into one, sorted by tabindex.\r\n *\r\n * @param {HTMLElement[]} left\r\n * @param {HTMLElement[]} right\r\n * @return {HTMLElement[]}\r\n */\r\nfunction mergeSortByTabIndex(left, right) {\r\n  const result = [];\r\n  while (left.length > 0 && right.length > 0) {\r\n    if (hasLowerTabOrder(left[0], right[0])) {\r\n      result.push(right.shift());\r\n    } else {\r\n      result.push(left.shift());\r\n    }\r\n  }\r\n\r\n  return result.concat(left, right);\r\n}\r\n\r\n/**\r\n * Sorts an array of elements by tabindex. Returns a new array.\r\n *\r\n * @param {HTMLElement[]} elements\r\n * @return {HTMLElement[]}\r\n */\r\nfunction sortElementsByTabIndex(elements) {\r\n  // Implement a merge sort as Array.prototype.sort does a non-stable sort\r\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\r\n  const len = elements.length;\r\n  if (len < 2) {\r\n    return elements;\r\n  }\r\n  const pivot = Math.ceil(len / 2);\r\n  const left = sortElementsByTabIndex(elements.slice(0, pivot));\r\n  const right = sortElementsByTabIndex(elements.slice(pivot));\r\n\r\n  return mergeSortByTabIndex(left, right);\r\n}\r\n\r\n/**\r\n * Returns true if the element is hidden, false otherwise.\r\n *\r\n * An element is treated as hidden when any of the following conditions are met:\r\n * - the element itself or one of its ancestors has `display: none`.\r\n * - the element has or inherits `visibility: hidden`.\r\n *\r\n * @param {HTMLElement} element\r\n * @return {boolean}\r\n */\r\nexport function isElementHidden(element) {\r\n  if (element.checkVisibility) {\r\n    return !element.checkVisibility({ visibilityProperty: true });\r\n  }\r\n\r\n  // TODO: checkVisibility is supported only from Safari 17.4, so we still need to\r\n  // keep the custom implementation as a fallback for older versions until Vaadin 25:\r\n\r\n  // `offsetParent` is `null` when the element itself\r\n  // or one of its ancestors is hidden with `display: none`.\r\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetParent\r\n  // However `offsetParent` is also null when the element is using fixed\r\n  // positioning, so additionally check if the element takes up layout space.\r\n  if (element.offsetParent === null && element.clientWidth === 0 && element.clientHeight === 0) {\r\n    return true;\r\n  }\r\n\r\n  return isElementHiddenDirectly(element);\r\n}\r\n\r\n/**\r\n * Returns true if the element is focusable, otherwise false.\r\n *\r\n * The list of focusable elements is taken from http://stackoverflow.com/a/1600194/4228703.\r\n * However, there isn't a definite list, it's up to the browser.\r\n * The only standard we have is DOM Level 2 HTML https://www.w3.org/TR/DOM-Level-2-HTML/html.html,\r\n * according to which the only elements that have a `focus()` method are:\r\n * - HTMLInputElement\r\n * - HTMLSelectElement\r\n * - HTMLTextAreaElement\r\n * - HTMLAnchorElement\r\n *\r\n * This notably omits HTMLButtonElement and HTMLAreaElement.\r\n * Referring to these tests with tabbables in different browsers\r\n * http://allyjs.io/data-tables/focusable.html\r\n *\r\n * @param {HTMLElement} element\r\n * @return {boolean}\r\n */\r\nexport function isElementFocusable(element) {\r\n  // The element cannot be focused if its `tabindex` attribute is set to `-1`.\r\n  if (element.matches('[tabindex=\"-1\"]')) {\r\n    return false;\r\n  }\r\n\r\n  // Elements that cannot be focused if they have a `disabled` attribute.\r\n  if (element.matches('input, select, textarea, button, object')) {\r\n    return element.matches(':not([disabled])');\r\n  }\r\n\r\n  // Elements that can be focused even if they have a `disabled` attribute.\r\n  return element.matches('a[href], area[href], iframe, [tabindex], [contentEditable]');\r\n}\r\n\r\n/**\r\n * Returns true if the element is focused, false otherwise.\r\n *\r\n * @param {HTMLElement} element\r\n * @return {boolean}\r\n */\r\nexport function isElementFocused(element) {\r\n  return element.getRootNode().activeElement === element;\r\n}\r\n\r\n/**\r\n * Returns the normalized element tabindex. If not focusable, returns -1.\r\n * It checks for the attribute \"tabindex\" instead of the element property\r\n * `tabIndex` since browsers assign different values to it.\r\n * e.g. in Firefox `<div contenteditable>` has `tabIndex = -1`\r\n *\r\n * @param {HTMLElement} element\r\n * @return {number}\r\n */\r\nfunction normalizeTabIndex(element) {\r\n  if (!isElementFocusable(element)) {\r\n    return -1;\r\n  }\r\n\r\n  const tabIndex = element.getAttribute('tabindex') || 0;\r\n  return Number(tabIndex);\r\n}\r\n\r\n/**\r\n * Searches for nodes that are tabbable and adds them to the `result` array.\r\n * Returns if the `result` array needs to be sorted by tabindex.\r\n *\r\n * @param {Node} node The starting point for the search; added to `result` if tabbable.\r\n * @param {HTMLElement[]} result\r\n * @return {boolean}\r\n * @private\r\n */\r\nfunction collectFocusableNodes(node, result) {\r\n  if (node.nodeType !== Node.ELEMENT_NODE || isElementHiddenDirectly(node)) {\r\n    // Don't traverse children if the node is not an HTML element or not visible.\r\n    return false;\r\n  }\r\n\r\n  const element = /** @type {HTMLElement} */ (node);\r\n  const tabIndex = normalizeTabIndex(element);\r\n  let needsSort = tabIndex > 0;\r\n  if (tabIndex >= 0) {\r\n    result.push(element);\r\n  }\r\n\r\n  let children = [];\r\n  if (element.localName === 'slot') {\r\n    children = element.assignedNodes({ flatten: true });\r\n  } else {\r\n    // Use shadow root if possible, will check for distributed nodes.\r\n    children = (element.shadowRoot || element).children;\r\n  }\r\n  [...children].forEach((child) => {\r\n    // Ensure method is always invoked to collect focusable children.\r\n    needsSort = collectFocusableNodes(child, result) || needsSort;\r\n  });\r\n  return needsSort;\r\n}\r\n\r\n/**\r\n * Returns a tab-ordered array of focusable elements for a root element.\r\n * The resulting array will include the root element if it is focusable.\r\n *\r\n * The method traverses nodes in shadow DOM trees too if any.\r\n *\r\n * @param {HTMLElement} element\r\n * @return {HTMLElement[]}\r\n */\r\nexport function getFocusableElements(element) {\r\n  const focusableElements = [];\r\n  const needsSortByTabIndex = collectFocusableNodes(element, focusableElements);\r\n  // If there is at least one element with tabindex > 0,\r\n  // we need to sort the final array by tabindex.\r\n  if (needsSortByTabIndex) {\r\n    return sortElementsByTabIndex(focusableElements);\r\n  }\r\n  return focusableElements;\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\r\nimport { isKeyboardActive } from './focus-utils.js';\r\n\r\n/**\r\n * A mixin to handle `focused` and `focus-ring` attributes based on focus.\r\n *\r\n * @polymerMixin\r\n */\r\nexport const FocusMixin = dedupingMixin(\r\n  (superclass) =>\r\n    class FocusMixinClass extends superclass {\r\n      /**\r\n       * @protected\r\n       * @return {boolean}\r\n       */\r\n      get _keyboardActive() {\r\n        return isKeyboardActive();\r\n      }\r\n\r\n      /** @protected */\r\n      ready() {\r\n        this.addEventListener('focusin', (e) => {\r\n          if (this._shouldSetFocus(e)) {\r\n            this._setFocused(true);\r\n          }\r\n        });\r\n\r\n        this.addEventListener('focusout', (e) => {\r\n          if (this._shouldRemoveFocus(e)) {\r\n            this._setFocused(false);\r\n          }\r\n        });\r\n\r\n        // In super.ready() other 'focusin' and 'focusout' listeners might be\r\n        // added, so we call it after our own ones to ensure they execute first.\r\n        // Issue to watch out: when incorrect, <vaadin-combo-box> refocuses the\r\n        // input field on iOS after \"Done\" is pressed.\r\n        super.ready();\r\n      }\r\n\r\n      /** @protected */\r\n      disconnectedCallback() {\r\n        super.disconnectedCallback();\r\n\r\n        // In non-Chrome browsers, blur does not fire on the element when it is disconnected.\r\n        // reproducible in `<vaadin-date-picker>` when closing on `Cancel` or `Today` click.\r\n        if (this.hasAttribute('focused')) {\r\n          this._setFocused(false);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Override to change how focused and focus-ring attributes are set.\r\n       *\r\n       * @param {boolean} focused\r\n       * @protected\r\n       */\r\n      _setFocused(focused) {\r\n        this.toggleAttribute('focused', focused);\r\n\r\n        // Focus-ring is true when the element was focused from the keyboard.\r\n        // Focus Ring [A11ycasts]: https://youtu.be/ilj2P5-5CjI\r\n        this.toggleAttribute('focus-ring', focused && this._keyboardActive);\r\n      }\r\n\r\n      /**\r\n       * Override to define if the field receives focus based on the event.\r\n       *\r\n       * @param {FocusEvent} _event\r\n       * @return {boolean}\r\n       * @protected\r\n       */\r\n      _shouldSetFocus(_event) {\r\n        return true;\r\n      }\r\n\r\n      /**\r\n       * Override to define if the field loses focus based on the event.\r\n       *\r\n       * @param {FocusEvent} _event\r\n       * @return {boolean}\r\n       * @protected\r\n       */\r\n      _shouldRemoveFocus(_event) {\r\n        return true;\r\n      }\r\n    },\r\n);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { DisabledMixin } from './disabled-mixin.js';\r\n\r\n/**\r\n * A mixin to toggle the `tabindex` attribute.\r\n *\r\n * The attribute is set to -1 whenever the user disables the element\r\n * and restored with the last known value once the element is enabled.\r\n *\r\n * @polymerMixin\r\n * @mixes DisabledMixin\r\n */\r\nexport const TabindexMixin = (superclass) =>\r\n  class TabindexMixinClass extends DisabledMixin(superclass) {\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * Indicates whether the element can be focused and where it participates in sequential keyboard navigation.\r\n         *\r\n         * @protected\r\n         */\r\n        tabindex: {\r\n          type: Number,\r\n          reflectToAttribute: true,\r\n          observer: '_tabindexChanged',\r\n        },\r\n\r\n        /**\r\n         * Stores the last known tabindex since the element has been disabled.\r\n         *\r\n         * @protected\r\n         */\r\n        _lastTabIndex: {\r\n          type: Number,\r\n        },\r\n      };\r\n    }\r\n\r\n    /**\r\n     * When the element gets disabled, the observer saves the last known tabindex\r\n     * and makes the element not focusable by setting tabindex to -1.\r\n     * As soon as the element gets enabled, the observer restores the last known tabindex\r\n     * so that the element can be focusable again.\r\n     *\r\n     * @protected\r\n     * @override\r\n     */\r\n    _disabledChanged(disabled, oldDisabled) {\r\n      super._disabledChanged(disabled, oldDisabled);\r\n\r\n      if (this.__shouldAllowFocusWhenDisabled()) {\r\n        return;\r\n      }\r\n\r\n      if (disabled) {\r\n        if (this.tabindex !== undefined) {\r\n          this._lastTabIndex = this.tabindex;\r\n        }\r\n        this.tabindex = -1;\r\n      } else if (oldDisabled) {\r\n        this.tabindex = this._lastTabIndex;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * When the user has changed tabindex while the element is disabled,\r\n     * the observer reverts tabindex to -1 and rather saves the new tabindex value to apply it later.\r\n     * The new value will be applied as soon as the element becomes enabled.\r\n     *\r\n     * @protected\r\n     */\r\n    _tabindexChanged(tabindex) {\r\n      if (this.__shouldAllowFocusWhenDisabled()) {\r\n        return;\r\n      }\r\n\r\n      if (this.disabled && tabindex !== -1) {\r\n        this._lastTabIndex = tabindex;\r\n        this.tabindex = -1;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Overrides the native `focus` method in order to prevent\r\n     * focusing the element when it is disabled. Note, setting\r\n     * `tabindex` to -1 does not prevent the element from being\r\n     * programmatically focusable.\r\n     *\r\n     * @protected\r\n     * @override\r\n     */\r\n    focus() {\r\n      if (!this.disabled || this.__shouldAllowFocusWhenDisabled()) {\r\n        super.focus();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Returns whether the component should be focusable when disabled.\r\n     * Returns false by default.\r\n     *\r\n     * @private\r\n     * @return {boolean}\r\n     */\r\n    __shouldAllowFocusWhenDisabled() {\r\n      return false;\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { ActiveMixin } from '@vaadin/a11y-base/src/active-mixin.js';\r\nimport { FocusMixin } from '@vaadin/a11y-base/src/focus-mixin.js';\r\nimport { TabindexMixin } from '@vaadin/a11y-base/src/tabindex-mixin.js';\r\n\r\nconst INTERACTION_EVENTS = ['mousedown', 'mouseup', 'click', 'dblclick', 'keypress', 'keydown', 'keyup'];\r\n\r\n/**\r\n * A mixin providing common button functionality.\r\n *\r\n * @polymerMixin\r\n * @mixes ActiveMixin\r\n * @mixes FocusMixin\r\n * @mixes TabindexMixin\r\n */\r\nexport const ButtonMixin = (superClass) =>\r\n  class ButtonMixinClass extends ActiveMixin(TabindexMixin(FocusMixin(superClass))) {\r\n    constructor() {\r\n      super();\r\n\r\n      this.__onInteractionEvent = this.__onInteractionEvent.bind(this);\r\n\r\n      INTERACTION_EVENTS.forEach((eventType) => {\r\n        this.addEventListener(eventType, this.__onInteractionEvent, true);\r\n      });\r\n\r\n      // Set tabindex to 0 by default\r\n      this.tabindex = 0;\r\n    }\r\n\r\n    /**\r\n     * By default, `Space` is the only possible activation key for a focusable HTML element.\r\n     * Nonetheless, the button is an exception as it can be also activated by pressing `Enter`.\r\n     * See the \"Keyboard Support\" section in https://www.w3.org/TR/wai-aria-practices/examples/button/button.html.\r\n     *\r\n     * @protected\r\n     * @override\r\n     */\r\n    get _activeKeys() {\r\n      return ['Enter', ' '];\r\n    }\r\n\r\n    /** @protected */\r\n    ready() {\r\n      super.ready();\r\n\r\n      // By default, if the user hasn't provided a custom role,\r\n      // the role attribute is set to \"button\".\r\n      if (!this.hasAttribute('role')) {\r\n        this.setAttribute('role', 'button');\r\n      }\r\n\r\n      if (this.__shouldAllowFocusWhenDisabled()) {\r\n        this.style.setProperty('--_vaadin-button-disabled-pointer-events', 'auto');\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Since the button component is designed on the base of the `[role=button]` attribute,\r\n     * and doesn't have a native <button> inside, in order to be fully accessible from the keyboard,\r\n     * it should manually fire the `click` event once an activation key is pressed,\r\n     * as it follows from the WAI-ARIA specifications:\r\n     * https://www.w3.org/TR/wai-aria-practices-1.1/#button\r\n     *\r\n     * According to the UI Events specifications,\r\n     * the `click` event should be fired exactly on `keydown`:\r\n     * https://www.w3.org/TR/uievents/#event-type-keydown\r\n     *\r\n     * @param {KeyboardEvent} event\r\n     * @protected\r\n     * @override\r\n     */\r\n    _onKeyDown(event) {\r\n      super._onKeyDown(event);\r\n\r\n      if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\r\n        return;\r\n      }\r\n\r\n      if (this._activeKeys.includes(event.key)) {\r\n        event.preventDefault();\r\n\r\n        // `DisabledMixin` overrides the standard `click()` method\r\n        // so that it doesn't fire the `click` event when the element is disabled.\r\n        this.click();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __onInteractionEvent(event) {\r\n      if (this.__shouldSuppressInteractionEvent(event)) {\r\n        event.stopImmediatePropagation();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Returns whether to suppress interaction events like `click`, `keydown`, etc.\r\n     * By default suppresses all interaction events when the button is disabled.\r\n     *\r\n     * @private\r\n     */\r\n    __shouldSuppressInteractionEvent(_event) {\r\n      return this.disabled;\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\n\r\nwindow.Vaadin ||= {};\r\nwindow.Vaadin.featureFlags ||= {};\r\n\r\nfunction dashToCamelCase(dash) {\r\n  return dash.replace(/-[a-z]/gu, (m) => m[1].toUpperCase());\r\n}\r\n\r\nconst experimentalMap = {};\r\n\r\nexport function defineCustomElement(CustomElement, version = '24.7.5') {\r\n  Object.defineProperty(CustomElement, 'version', {\r\n    get() {\r\n      return version;\r\n    },\r\n  });\r\n\r\n  if (CustomElement.experimental) {\r\n    const featureFlagKey =\r\n      typeof CustomElement.experimental === 'string'\r\n        ? CustomElement.experimental\r\n        : `${dashToCamelCase(CustomElement.is.split('-').slice(1).join('-'))}Component`;\r\n\r\n    if (!window.Vaadin.featureFlags[featureFlagKey] && !experimentalMap[featureFlagKey]) {\r\n      // Add setter to define experimental component when it's set to true\r\n      experimentalMap[featureFlagKey] = new Set();\r\n      experimentalMap[featureFlagKey].add(CustomElement);\r\n\r\n      Object.defineProperty(window.Vaadin.featureFlags, featureFlagKey, {\r\n        get() {\r\n          return experimentalMap[featureFlagKey].size === 0;\r\n        },\r\n        set(value) {\r\n          if (!!value && experimentalMap[featureFlagKey].size > 0) {\r\n            experimentalMap[featureFlagKey].forEach((elementClass) => {\r\n              customElements.define(elementClass.is, elementClass);\r\n            });\r\n            experimentalMap[featureFlagKey].clear();\r\n          }\r\n        },\r\n      });\r\n\r\n      return;\r\n    } else if (experimentalMap[featureFlagKey]) {\r\n      // Allow to register multiple components with single flag\r\n      experimentalMap[featureFlagKey].add(CustomElement);\r\n      return;\r\n    }\r\n  }\r\n\r\n  const defined = customElements.get(CustomElement.is);\r\n  if (!defined) {\r\n    customElements.define(CustomElement.is, CustomElement);\r\n  } else {\r\n    const definedVersion = defined.version;\r\n    if (definedVersion && CustomElement.version && definedVersion === CustomElement.version) {\r\n      // Just loading the same thing again\r\n      console.warn(`The component ${CustomElement.is} has been loaded twice`);\r\n    } else {\r\n      console.error(\r\n        `Tried to define ${CustomElement.is} version ${CustomElement.version} when version ${defined.version} is already in use. Something will probably break.`,\r\n      );\r\n    }\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\n\r\n/**\r\n * Array of Vaadin custom element classes that have been subscribed to the dir changes.\r\n */\r\nconst directionSubscribers = [];\r\n\r\nfunction alignDirs(element, documentDir, elementDir = element.getAttribute('dir')) {\r\n  if (documentDir) {\r\n    element.setAttribute('dir', documentDir);\r\n  } else if (elementDir != null) {\r\n    element.removeAttribute('dir');\r\n  }\r\n}\r\n\r\nfunction getDocumentDir() {\r\n  return document.documentElement.getAttribute('dir');\r\n}\r\n\r\nfunction directionUpdater() {\r\n  const documentDir = getDocumentDir();\r\n  directionSubscribers.forEach((element) => {\r\n    alignDirs(element, documentDir);\r\n  });\r\n}\r\n\r\nconst directionObserver = new MutationObserver(directionUpdater);\r\ndirectionObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['dir'] });\r\n\r\n/**\r\n * A mixin to handle `dir` attribute based on the one set on the `<html>` element.\r\n *\r\n * @polymerMixin\r\n */\r\nexport const DirMixin = (superClass) =>\r\n  class VaadinDirMixin extends superClass {\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * @protected\r\n         */\r\n        dir: {\r\n          type: String,\r\n          value: '',\r\n          reflectToAttribute: true,\r\n          converter: {\r\n            fromAttribute: (attr) => {\r\n              return !attr ? '' : attr;\r\n            },\r\n            toAttribute: (prop) => {\r\n              return prop === '' ? null : prop;\r\n            },\r\n          },\r\n        },\r\n      };\r\n    }\r\n\r\n    /**\r\n     * @return {boolean}\r\n     * @protected\r\n     */\r\n    get __isRTL() {\r\n      return this.getAttribute('dir') === 'rtl';\r\n    }\r\n\r\n    /** @protected */\r\n    connectedCallback() {\r\n      super.connectedCallback();\r\n\r\n      if (!this.hasAttribute('dir') || this.__restoreSubscription) {\r\n        this.__subscribe();\r\n        alignDirs(this, getDocumentDir(), null);\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    attributeChangedCallback(name, oldValue, newValue) {\r\n      super.attributeChangedCallback(name, oldValue, newValue);\r\n      if (name !== 'dir') {\r\n        return;\r\n      }\r\n\r\n      const documentDir = getDocumentDir();\r\n\r\n      // New value equals to the document direction and the element is not subscribed to the changes\r\n      const newValueEqlDocDir = newValue === documentDir && directionSubscribers.indexOf(this) === -1;\r\n      // Value was emptied and the element is not subscribed to the changes\r\n      const newValueEmptied = !newValue && oldValue && directionSubscribers.indexOf(this) === -1;\r\n      // New value is different and the old equals to document direction and the element is not subscribed to the changes\r\n      const newDiffValue = newValue !== documentDir && oldValue === documentDir;\r\n\r\n      if (newValueEqlDocDir || newValueEmptied) {\r\n        this.__subscribe();\r\n        alignDirs(this, documentDir, newValue);\r\n      } else if (newDiffValue) {\r\n        this.__unsubscribe();\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    disconnectedCallback() {\r\n      super.disconnectedCallback();\r\n      this.__restoreSubscription = directionSubscribers.includes(this);\r\n      this.__unsubscribe();\r\n    }\r\n\r\n    /** @protected */\r\n    _valueToNodeAttribute(node, value, attribute) {\r\n      // Override default Polymer attribute reflection to match native behavior of HTMLElement.dir property\r\n      // If the property contains an empty string then it should not create an empty attribute\r\n      if (attribute === 'dir' && value === '' && !node.hasAttribute('dir')) {\r\n        return;\r\n      }\r\n      super._valueToNodeAttribute(node, value, attribute);\r\n    }\r\n\r\n    /** @protected */\r\n    _attributeToProperty(attribute, value, type) {\r\n      // Override default Polymer attribute reflection to match native behavior of HTMLElement.dir property\r\n      // If the attribute is removed, then the dir property should contain an empty string instead of null\r\n      if (attribute === 'dir' && !value) {\r\n        this.dir = '';\r\n      } else {\r\n        super._attributeToProperty(attribute, value, type);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __subscribe() {\r\n      if (!directionSubscribers.includes(this)) {\r\n        directionSubscribers.push(this);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __unsubscribe() {\r\n      if (directionSubscribers.includes(this)) {\r\n        directionSubscribers.splice(directionSubscribers.indexOf(this), 1);\r\n      }\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { ButtonMixin } from '@vaadin/button/src/vaadin-button-mixin.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\n/**\r\n * The details summary element.\r\n *\r\n * ### Styling\r\n *\r\n * The following shadow DOM parts are exposed for styling:\r\n *\r\n * Part name  | Description\r\n * -----------|-------------------\r\n * `toggle`   | The icon element\r\n * `content`  | The content wrapper\r\n *\r\n * The following state attributes are available for styling:\r\n *\r\n * Attribute    | Description\r\n * -------------| -----------\r\n * `active`     | Set when the element is pressed down, either with mouse, touch or the keyboard.\r\n * `opened`     | Set when the element is expanded and related collapsible content is visible.\r\n * `disabled`   | Set when the element is disabled.\r\n * `focus-ring` | Set when the element is focused using the keyboard.\r\n * `focused`    | Set when the element is focused.\r\n *\r\n * See [Styling Components](https://vaadin.com/docs/latest/styling/styling-components) documentation.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes ButtonMixin\r\n * @mixes DirMixin\r\n * @mixes ThemableMixin\r\n */\r\nclass DetailsSummary extends ButtonMixin(DirMixin(ThemableMixin(PolymerElement))) {\r\n  static get is() {\r\n    return 'vaadin-details-summary';\r\n  }\r\n\r\n  static get template() {\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: block;\r\n          outline: none;\r\n          white-space: nowrap;\r\n          -webkit-user-select: none;\r\n          user-select: none;\r\n        }\r\n\r\n        :host([hidden]) {\r\n          display: none !important;\r\n        }\r\n\r\n        :host([disabled]) {\r\n          pointer-events: none;\r\n        }\r\n      </style>\r\n      <span part=\"toggle\" aria-hidden=\"true\"></span>\r\n      <div part=\"content\"><slot></slot></div>\r\n    `;\r\n  }\r\n\r\n  static get properties() {\r\n    return {\r\n      /**\r\n       * When true, the element is opened.\r\n       */\r\n      opened: {\r\n        type: Boolean,\r\n        reflectToAttribute: true,\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\ndefineCustomElement(DetailsSummary);\r\n\r\nexport { DetailsSummary };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\r\n\r\n/**\r\n * @typedef ReactiveController\r\n * @type {import('lit').ReactiveController}\r\n */\r\n\r\n/**\r\n * A mixin for connecting controllers to the element.\r\n *\r\n * @polymerMixin\r\n */\r\nexport const ControllerMixin = dedupingMixin((superClass) => {\r\n  // If the superclass extends from LitElement,\r\n  // use its own controllers implementation.\r\n  if (typeof superClass.prototype.addController === 'function') {\r\n    return superClass;\r\n  }\r\n\r\n  return class ControllerMixinClass extends superClass {\r\n    constructor() {\r\n      super();\r\n\r\n      /**\r\n       * @type {Set<ReactiveController>}\r\n       */\r\n      this.__controllers = new Set();\r\n    }\r\n\r\n    /** @protected */\r\n    connectedCallback() {\r\n      super.connectedCallback();\r\n\r\n      this.__controllers.forEach((c) => {\r\n        if (c.hostConnected) {\r\n          c.hostConnected();\r\n        }\r\n      });\r\n    }\r\n\r\n    /** @protected */\r\n    disconnectedCallback() {\r\n      super.disconnectedCallback();\r\n\r\n      this.__controllers.forEach((c) => {\r\n        if (c.hostDisconnected) {\r\n          c.hostDisconnected();\r\n        }\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Registers a controller to participate in the element update cycle.\r\n     *\r\n     * @param {ReactiveController} controller\r\n     * @protected\r\n     */\r\n    addController(controller) {\r\n      this.__controllers.add(controller);\r\n      // Call hostConnected if a controller is added after the element is attached.\r\n      if (this.$ !== undefined && this.isConnected && controller.hostConnected) {\r\n        controller.hostConnected();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Removes a controller from the element.\r\n     *\r\n     * @param {ReactiveController} controller\r\n     * @protected\r\n     */\r\n    removeController(controller) {\r\n      this.__controllers.delete(controller);\r\n    }\r\n  };\r\n});\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { setCancelSyntheticClickEvents } from '@polymer/polymer/lib/utils/settings.js';\r\nimport { usageStatistics } from '@vaadin/vaadin-usage-statistics/vaadin-usage-statistics.js';\r\nimport { idlePeriod } from './async.js';\r\nimport { Debouncer, enqueueDebouncer } from './debounce.js';\r\nimport { DirMixin } from './dir-mixin.js';\r\n\r\n// This setting affects the legacy Polymer gestures which get activated\r\n// once you import any iron component e.g iron-icon.\r\n// It has to be explicitly disabled to prevent click issues in iOS + VoiceOver\r\n// for buttons that are based on `[role=button]` e.g vaadin-button.\r\nsetCancelSyntheticClickEvents(false);\r\n\r\nif (!window.Vaadin) {\r\n  window.Vaadin = {};\r\n}\r\n\r\n/**\r\n * Array of Vaadin custom element classes that have been finalized.\r\n */\r\nif (!window.Vaadin.registrations) {\r\n  window.Vaadin.registrations = [];\r\n}\r\n\r\nif (!window.Vaadin.developmentModeCallback) {\r\n  window.Vaadin.developmentModeCallback = {};\r\n}\r\n\r\nwindow.Vaadin.developmentModeCallback['vaadin-usage-statistics'] = function () {\r\n  usageStatistics();\r\n};\r\n\r\nlet statsJob;\r\n\r\nconst registered = new Set();\r\n\r\n/**\r\n * @polymerMixin\r\n * @mixes DirMixin\r\n */\r\nexport const ElementMixin = (superClass) =>\r\n  class VaadinElementMixin extends DirMixin(superClass) {\r\n    /** @protected */\r\n    static finalize() {\r\n      super.finalize();\r\n\r\n      const { is } = this;\r\n\r\n      // Registers a class prototype for telemetry purposes.\r\n      if (is && !registered.has(is)) {\r\n        window.Vaadin.registrations.push(this);\r\n        registered.add(is);\r\n\r\n        if (window.Vaadin.developmentModeCallback) {\r\n          statsJob = Debouncer.debounce(statsJob, idlePeriod, () => {\r\n            window.Vaadin.developmentModeCallback['vaadin-usage-statistics']();\r\n          });\r\n          enqueueDebouncer(statsJob);\r\n        }\r\n      }\r\n    }\r\n\r\n    constructor() {\r\n      super();\r\n\r\n      if (document.doctype === null) {\r\n        console.warn(\r\n          'Vaadin components require the \"standards mode\" declaration. Please add <!DOCTYPE html> to the HTML document.',\r\n        );\r\n      }\r\n    }\r\n  };\r\n", "/**\r\n@license\r\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\r\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\nCode distributed by Google as part of the polymer project is also\r\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n*/\r\n\r\nconst debouncerQueue = new Set();\r\n\r\n/**\r\n * @summary Collapse multiple callbacks into one invocation after a timer.\r\n */\r\nexport class Debouncer {\r\n  /**\r\n   * Creates a debouncer if no debouncer is passed as a parameter\r\n   * or it cancels an active debouncer otherwise. The following\r\n   * example shows how a debouncer can be called multiple times within a\r\n   * microtask and \"debounced\" such that the provided callback function is\r\n   * called once. Add this method to a custom element:\r\n   *\r\n   * ```js\r\n   * import {microTask} from '@vaadin/component-base/src/async.js';\r\n   * import {Debouncer} from '@vaadin/component-base/src/debounce.js';\r\n   * // ...\r\n   *\r\n   * _debounceWork() {\r\n   *   this._debounceJob = Debouncer.debounce(this._debounceJob,\r\n   *       microTask, () => this._doWork());\r\n   * }\r\n   * ```\r\n   *\r\n   * If the `_debounceWork` method is called multiple times within the same\r\n   * microtask, the `_doWork` function will be called only once at the next\r\n   * microtask checkpoint.\r\n   *\r\n   * Note: In testing it is often convenient to avoid asynchrony. To accomplish\r\n   * this with a debouncer, you can use `enqueueDebouncer` and\r\n   * `flush`. For example, extend the above example by adding\r\n   * `enqueueDebouncer(this._debounceJob)` at the end of the\r\n   * `_debounceWork` method. Then in a test, call `flush` to ensure\r\n   * the debouncer has completed.\r\n   *\r\n   * @param {Debouncer?} debouncer Debouncer object.\r\n   * @param {!AsyncInterface} asyncModule Object with Async interface\r\n   * @param {function()} callback Callback to run.\r\n   * @return {!Debouncer} Returns a debouncer object.\r\n   */\r\n  static debounce(debouncer, asyncModule, callback) {\r\n    if (debouncer instanceof Debouncer) {\r\n      // Cancel the async callback, but leave in debouncerQueue if it was\r\n      // enqueued, to maintain 1.x flush order\r\n      debouncer._cancelAsync();\r\n    } else {\r\n      debouncer = new Debouncer();\r\n    }\r\n    debouncer.setConfig(asyncModule, callback);\r\n    return debouncer;\r\n  }\r\n\r\n  constructor() {\r\n    this._asyncModule = null;\r\n    this._callback = null;\r\n    this._timer = null;\r\n  }\r\n\r\n  /**\r\n   * Sets the scheduler; that is, a module with the Async interface,\r\n   * a callback and optional arguments to be passed to the run function\r\n   * from the async module.\r\n   *\r\n   * @param {!AsyncInterface} asyncModule Object with Async interface.\r\n   * @param {function()} callback Callback to run.\r\n   * @return {void}\r\n   */\r\n  setConfig(asyncModule, callback) {\r\n    this._asyncModule = asyncModule;\r\n    this._callback = callback;\r\n    this._timer = this._asyncModule.run(() => {\r\n      this._timer = null;\r\n      debouncerQueue.delete(this);\r\n      this._callback();\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Cancels an active debouncer and returns a reference to itself.\r\n   *\r\n   * @return {void}\r\n   */\r\n  cancel() {\r\n    if (this.isActive()) {\r\n      this._cancelAsync();\r\n      // Canceling a debouncer removes its spot from the flush queue,\r\n      // so if a debouncer is manually canceled and re-debounced, it\r\n      // will reset its flush order (this is a very minor difference from 1.x)\r\n      // Re-debouncing via the `debounce` API retains the 1.x FIFO flush order\r\n      debouncerQueue.delete(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cancels a debouncer's async callback.\r\n   *\r\n   * @return {void}\r\n   */\r\n  _cancelAsync() {\r\n    if (this.isActive()) {\r\n      this._asyncModule.cancel(/** @type {number} */ (this._timer));\r\n      this._timer = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Flushes an active debouncer and returns a reference to itself.\r\n   *\r\n   * @return {void}\r\n   */\r\n  flush() {\r\n    if (this.isActive()) {\r\n      this.cancel();\r\n      this._callback();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns true if the debouncer is active.\r\n   *\r\n   * @return {boolean} True if active.\r\n   */\r\n  isActive() {\r\n    return this._timer != null;\r\n  }\r\n}\r\n\r\n/**\r\n * Adds a `Debouncer` to a list of globally flushable tasks.\r\n *\r\n * @param {!Debouncer} debouncer Debouncer to enqueue\r\n * @return {void}\r\n */\r\nexport function enqueueDebouncer(debouncer) {\r\n  debouncerQueue.add(debouncer);\r\n}\r\n\r\n/**\r\n * Flushes any enqueued debouncers\r\n *\r\n * @return {boolean} Returns whether any debouncers were flushed\r\n */\r\nexport function flushDebouncers() {\r\n  const didFlush = Boolean(debouncerQueue.size);\r\n  // If new debouncers are added while flushing, Set.forEach will ensure\r\n  // newly added ones are also flushed\r\n  debouncerQueue.forEach((debouncer) => {\r\n    try {\r\n      debouncer.flush();\r\n    } catch (e) {\r\n      setTimeout(() => {\r\n        throw e;\r\n      });\r\n    }\r\n  });\r\n  return didFlush;\r\n}\r\n\r\nexport const flush = () => {\r\n  let debouncers;\r\n  do {\r\n    debouncers = flushDebouncers();\r\n  } while (debouncers);\r\n};\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\r\nimport { FocusMixin } from './focus-mixin.js';\r\nimport { TabindexMixin } from './tabindex-mixin.js';\r\n\r\n/**\r\n * A mixin to forward focus to an element in the light DOM.\r\n *\r\n * @polymerMixin\r\n * @mixes FocusMixin\r\n * @mixes TabindexMixin\r\n */\r\nexport const DelegateFocusMixin = dedupingMixin(\r\n  (superclass) =>\r\n    class DelegateFocusMixinClass extends FocusMixin(TabindexMixin(superclass)) {\r\n      static get properties() {\r\n        return {\r\n          /**\r\n           * Specify that this control should have input focus when the page loads.\r\n           */\r\n          autofocus: {\r\n            type: Boolean,\r\n          },\r\n\r\n          /**\r\n           * A reference to the focusable element controlled by the mixin.\r\n           * It can be an input, textarea, button or any element with tabindex > -1.\r\n           *\r\n           * Any component implementing this mixin is expected to provide it\r\n           * by using `this._setFocusElement(input)` Polymer API.\r\n           *\r\n           * Toggling `tabindex` attribute on the host element propagates its value to `focusElement`.\r\n           *\r\n           * @protected\r\n           * @type {!HTMLElement}\r\n           */\r\n          focusElement: {\r\n            type: Object,\r\n            readOnly: true,\r\n            observer: '_focusElementChanged',\r\n          },\r\n\r\n          /**\r\n           * Override the property from `TabIndexMixin`\r\n           * to ensure the `tabindex` attribute of the focus element\r\n           * will be restored to `0` after re-enabling the element.\r\n           *\r\n           * @protected\r\n           * @override\r\n           */\r\n          _lastTabIndex: {\r\n            value: 0,\r\n          },\r\n        };\r\n      }\r\n\r\n      constructor() {\r\n        super();\r\n\r\n        this._boundOnBlur = this._onBlur.bind(this);\r\n        this._boundOnFocus = this._onFocus.bind(this);\r\n      }\r\n\r\n      /** @protected */\r\n      ready() {\r\n        super.ready();\r\n\r\n        if (this.autofocus && !this.disabled) {\r\n          requestAnimationFrame(() => {\r\n            this.focus();\r\n            this.setAttribute('focus-ring', '');\r\n          });\r\n        }\r\n      }\r\n\r\n      /**\r\n       * @protected\r\n       * @override\r\n       */\r\n      focus() {\r\n        if (this.focusElement && !this.disabled) {\r\n          this.focusElement.focus();\r\n        }\r\n      }\r\n\r\n      /**\r\n       * @protected\r\n       * @override\r\n       */\r\n      blur() {\r\n        if (this.focusElement) {\r\n          this.focusElement.blur();\r\n        }\r\n      }\r\n\r\n      /**\r\n       * @protected\r\n       * @override\r\n       */\r\n      click() {\r\n        if (this.focusElement && !this.disabled) {\r\n          this.focusElement.click();\r\n        }\r\n      }\r\n\r\n      /** @protected */\r\n      _focusElementChanged(element, oldElement) {\r\n        if (element) {\r\n          element.disabled = this.disabled;\r\n          this._addFocusListeners(element);\r\n          this.__forwardTabIndex(this.tabindex);\r\n        } else if (oldElement) {\r\n          this._removeFocusListeners(oldElement);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * @param {HTMLElement} element\r\n       * @protected\r\n       */\r\n      _addFocusListeners(element) {\r\n        element.addEventListener('blur', this._boundOnBlur);\r\n        element.addEventListener('focus', this._boundOnFocus);\r\n      }\r\n\r\n      /**\r\n       * @param {HTMLElement} element\r\n       * @protected\r\n       */\r\n      _removeFocusListeners(element) {\r\n        element.removeEventListener('blur', this._boundOnBlur);\r\n        element.removeEventListener('focus', this._boundOnFocus);\r\n      }\r\n\r\n      /**\r\n       * Focus event does not bubble, so we dispatch it manually\r\n       * on the host element to support adding focus listeners\r\n       * when the focusable element is placed in light DOM.\r\n       * @param {FocusEvent} event\r\n       * @protected\r\n       */\r\n      _onFocus(event) {\r\n        event.stopPropagation();\r\n        this.dispatchEvent(new Event('focus'));\r\n      }\r\n\r\n      /**\r\n       * Blur event does not bubble, so we dispatch it manually\r\n       * on the host element to support adding blur listeners\r\n       * when the focusable element is placed in light DOM.\r\n       * @param {FocusEvent} event\r\n       * @protected\r\n       */\r\n      _onBlur(event) {\r\n        event.stopPropagation();\r\n        this.dispatchEvent(new Event('blur'));\r\n      }\r\n\r\n      /**\r\n       * @param {FocusEvent} event\r\n       * @return {boolean}\r\n       * @protected\r\n       * @override\r\n       */\r\n      _shouldSetFocus(event) {\r\n        return event.target === this.focusElement;\r\n      }\r\n\r\n      /**\r\n       * @param {FocusEvent} event\r\n       * @return {boolean}\r\n       * @protected\r\n       * @override\r\n       */\r\n      _shouldRemoveFocus(event) {\r\n        return event.target === this.focusElement;\r\n      }\r\n\r\n      /**\r\n       * @param {boolean} disabled\r\n       * @param {boolean} oldDisabled\r\n       * @protected\r\n       * @override\r\n       */\r\n      _disabledChanged(disabled, oldDisabled) {\r\n        super._disabledChanged(disabled, oldDisabled);\r\n\r\n        if (this.focusElement) {\r\n          this.focusElement.disabled = disabled;\r\n        }\r\n\r\n        if (disabled) {\r\n          this.blur();\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Override an observer from `TabindexMixin`.\r\n       * Do not call super to remove tabindex attribute\r\n       * from the host after it has been forwarded.\r\n       * @param {string} tabindex\r\n       * @protected\r\n       * @override\r\n       */\r\n      _tabindexChanged(tabindex) {\r\n        this.__forwardTabIndex(tabindex);\r\n      }\r\n\r\n      /** @private */\r\n      __forwardTabIndex(tabindex) {\r\n        if (tabindex !== undefined && this.focusElement) {\r\n          this.focusElement.tabIndex = tabindex;\r\n\r\n          // Preserve tabindex=\"-1\" on the host element\r\n          if (tabindex !== -1) {\r\n            this.tabindex = undefined;\r\n          }\r\n        }\r\n\r\n        if (this.disabled && tabindex) {\r\n          // If tabindex attribute was changed while component was disabled\r\n          if (tabindex !== -1) {\r\n            this._lastTabIndex = tabindex;\r\n          }\r\n          this.tabindex = undefined;\r\n        }\r\n      }\r\n    },\r\n);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2021 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { dedupingMixin } from '@polymer/polymer/lib/utils/mixin.js';\r\n\r\n/**\r\n * A mixin to delegate properties and attributes to a target element.\r\n *\r\n * @polymerMixin\r\n */\r\nexport const DelegateStateMixin = dedupingMixin(\r\n  (superclass) =>\r\n    class DelegateStateMixinClass extends superclass {\r\n      static get properties() {\r\n        return {\r\n          /**\r\n           * A target element to which attributes and properties are delegated.\r\n           * @protected\r\n           */\r\n          stateTarget: {\r\n            type: Object,\r\n            observer: '_stateTargetChanged',\r\n          },\r\n        };\r\n      }\r\n\r\n      /**\r\n       * An array of the host attributes to delegate to the target element.\r\n       */\r\n      static get delegateAttrs() {\r\n        return [];\r\n      }\r\n\r\n      /**\r\n       * An array of the host properties to delegate to the target element.\r\n       */\r\n      static get delegateProps() {\r\n        return [];\r\n      }\r\n\r\n      /** @protected */\r\n      ready() {\r\n        super.ready();\r\n\r\n        this._createDelegateAttrsObserver();\r\n        this._createDelegatePropsObserver();\r\n      }\r\n\r\n      /** @protected */\r\n      _stateTargetChanged(target) {\r\n        if (target) {\r\n          this._ensureAttrsDelegated();\r\n          this._ensurePropsDelegated();\r\n        }\r\n      }\r\n\r\n      /** @protected */\r\n      _createDelegateAttrsObserver() {\r\n        this._createMethodObserver(`_delegateAttrsChanged(${this.constructor.delegateAttrs.join(', ')})`);\r\n      }\r\n\r\n      /** @protected */\r\n      _createDelegatePropsObserver() {\r\n        this._createMethodObserver(`_delegatePropsChanged(${this.constructor.delegateProps.join(', ')})`);\r\n      }\r\n\r\n      /** @protected */\r\n      _ensureAttrsDelegated() {\r\n        this.constructor.delegateAttrs.forEach((name) => {\r\n          this._delegateAttribute(name, this[name]);\r\n        });\r\n      }\r\n\r\n      /** @protected */\r\n      _ensurePropsDelegated() {\r\n        this.constructor.delegateProps.forEach((name) => {\r\n          this._delegateProperty(name, this[name]);\r\n        });\r\n      }\r\n\r\n      /** @protected */\r\n      _delegateAttrsChanged(...values) {\r\n        this.constructor.delegateAttrs.forEach((name, index) => {\r\n          this._delegateAttribute(name, values[index]);\r\n        });\r\n      }\r\n\r\n      /** @protected */\r\n      _delegatePropsChanged(...values) {\r\n        this.constructor.delegateProps.forEach((name, index) => {\r\n          this._delegateProperty(name, values[index]);\r\n        });\r\n      }\r\n\r\n      /** @protected */\r\n      _delegateAttribute(name, value) {\r\n        if (!this.stateTarget) {\r\n          return;\r\n        }\r\n\r\n        if (name === 'invalid') {\r\n          this._delegateAttribute('aria-invalid', value ? 'true' : false);\r\n        }\r\n\r\n        if (typeof value === 'boolean') {\r\n          this.stateTarget.toggleAttribute(name, value);\r\n        } else if (value) {\r\n          this.stateTarget.setAttribute(name, value);\r\n        } else {\r\n          this.stateTarget.removeAttribute(name);\r\n        }\r\n      }\r\n\r\n      /** @protected */\r\n      _delegateProperty(name, value) {\r\n        if (!this.stateTarget) {\r\n          return;\r\n        }\r\n\r\n        this.stateTarget[name] = value;\r\n      }\r\n    },\r\n);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2022 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { SlotController } from './slot-controller.js';\r\n\r\n/**\r\n * A controller that manages the slotted tooltip element.\r\n */\r\nexport class TooltipController extends SlotController {\r\n  constructor(host) {\r\n    // Do not provide slot factory to create tooltip lazily.\r\n    super(host, 'tooltip');\r\n\r\n    this.setTarget(host);\r\n  }\r\n\r\n  /**\r\n   * Override to initialize the newly added custom tooltip.\r\n   *\r\n   * @param {Node} tooltipNode\r\n   * @protected\r\n   * @override\r\n   */\r\n  initCustomNode(tooltipNode) {\r\n    tooltipNode.target = this.target;\r\n\r\n    if (this.ariaTarget !== undefined) {\r\n      tooltipNode.ariaTarget = this.ariaTarget;\r\n    }\r\n\r\n    if (this.context !== undefined) {\r\n      tooltipNode.context = this.context;\r\n    }\r\n\r\n    if (this.manual !== undefined) {\r\n      tooltipNode.manual = this.manual;\r\n    }\r\n\r\n    if (this.opened !== undefined) {\r\n      tooltipNode.opened = this.opened;\r\n    }\r\n\r\n    if (this.position !== undefined) {\r\n      tooltipNode._position = this.position;\r\n    }\r\n\r\n    if (this.shouldShow !== undefined) {\r\n      tooltipNode.shouldShow = this.shouldShow;\r\n    }\r\n\r\n    this.__notifyChange();\r\n  }\r\n\r\n  /**\r\n   * Override to notify the host when the tooltip is removed.\r\n   *\r\n   * @param {Node} tooltipNode\r\n   * @protected\r\n   * @override\r\n   */\r\n  teardownNode() {\r\n    this.__notifyChange();\r\n  }\r\n\r\n  /**\r\n   * Set an HTML element for linking with the tooltip overlay\r\n   * via `aria-describedby` attribute used by screen readers.\r\n   * @param {HTMLElement} ariaTarget\r\n   */\r\n  setAriaTarget(ariaTarget) {\r\n    this.ariaTarget = ariaTarget;\r\n\r\n    const tooltipNode = this.node;\r\n    if (tooltipNode) {\r\n      tooltipNode.ariaTarget = ariaTarget;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set a context object to be used by generator.\r\n   * @param {object} context\r\n   */\r\n  setContext(context) {\r\n    this.context = context;\r\n\r\n    const tooltipNode = this.node;\r\n    if (tooltipNode) {\r\n      tooltipNode.context = context;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle manual state on the slotted tooltip.\r\n   * @param {boolean} manual\r\n   */\r\n  setManual(manual) {\r\n    this.manual = manual;\r\n\r\n    const tooltipNode = this.node;\r\n    if (tooltipNode) {\r\n      tooltipNode.manual = manual;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Toggle opened state on the slotted tooltip.\r\n   * @param {boolean} opened\r\n   */\r\n  setOpened(opened) {\r\n    this.opened = opened;\r\n\r\n    const tooltipNode = this.node;\r\n    if (tooltipNode) {\r\n      tooltipNode.opened = opened;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set default position for the slotted tooltip.\r\n   * This can be overridden by setting the position\r\n   * using corresponding property or attribute.\r\n   * @param {string} position\r\n   */\r\n  setPosition(position) {\r\n    this.position = position;\r\n\r\n    const tooltipNode = this.node;\r\n    if (tooltipNode) {\r\n      tooltipNode._position = position;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set function used to detect whether to show\r\n   * the tooltip based on a condition.\r\n   * @param {Function} shouldShow\r\n   */\r\n  setShouldShow(shouldShow) {\r\n    this.shouldShow = shouldShow;\r\n\r\n    const tooltipNode = this.node;\r\n    if (tooltipNode) {\r\n      tooltipNode.shouldShow = shouldShow;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set an HTML element to attach the tooltip to.\r\n   * @param {HTMLElement} target\r\n   */\r\n  setTarget(target) {\r\n    this.target = target;\r\n\r\n    const tooltipNode = this.node;\r\n    if (tooltipNode) {\r\n      tooltipNode.target = target;\r\n    }\r\n  }\r\n\r\n  /** @private */\r\n  __notifyChange() {\r\n    this.dispatchEvent(new CustomEvent('tooltip-changed', { detail: { node: this.node } }));\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2017 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { DelegateFocusMixin } from '@vaadin/a11y-base/src/delegate-focus-mixin.js';\r\nimport { DelegateStateMixin } from '@vaadin/component-base/src/delegate-state-mixin.js';\r\nimport { TooltipController } from '@vaadin/component-base/src/tooltip-controller.js';\r\nimport { CollapsibleMixin } from './collapsible-mixin.js';\r\nimport { SummaryController } from './summary-controller.js';\r\n\r\n/**\r\n * @polymerMixin\r\n * @mixes DelegateFocusMixin\r\n * @mixes DelegateStateMixin\r\n * @mixes CollapsibleMixin\r\n */\r\nexport const DetailsBaseMixin = (superClass) =>\r\n  class DetailsBaseMixin extends CollapsibleMixin(DelegateFocusMixin(DelegateStateMixin(superClass))) {\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * A text that is displayed in the summary, if no\r\n         * element is assigned to the `summary` slot.\r\n         */\r\n        summary: {\r\n          type: String,\r\n          observer: '_summaryChanged',\r\n        },\r\n      };\r\n    }\r\n\r\n    static get observers() {\r\n      return ['__updateAriaControls(focusElement, _contentElements)', '__updateAriaExpanded(focusElement, opened)'];\r\n    }\r\n\r\n    static get delegateProps() {\r\n      return ['disabled', 'opened', '_theme'];\r\n    }\r\n\r\n    constructor() {\r\n      super();\r\n\r\n      this._summaryController = new SummaryController(this, 'vaadin-details-summary');\r\n      this._summaryController.addEventListener('slot-content-changed', (event) => {\r\n        const { node } = event.target;\r\n\r\n        this._setFocusElement(node);\r\n        this.stateTarget = node;\r\n\r\n        this._tooltipController.setTarget(node);\r\n      });\r\n\r\n      this._tooltipController = new TooltipController(this);\r\n      this._tooltipController.setPosition('bottom-start');\r\n    }\r\n\r\n    /** @protected */\r\n    ready() {\r\n      super.ready();\r\n\r\n      this.addController(this._summaryController);\r\n      this.addController(this._tooltipController);\r\n    }\r\n\r\n    /**\r\n     * Override method from `DelegateStateMixin` to set delegate `theme`\r\n     * using attribute instead of property (needed for the Lit version).\r\n     * @protected\r\n     * @override\r\n     */\r\n    _delegateProperty(name, value) {\r\n      if (!this.stateTarget) {\r\n        return;\r\n      }\r\n\r\n      if (name === '_theme') {\r\n        this._delegateAttribute('theme', value);\r\n        return;\r\n      }\r\n\r\n      super._delegateProperty(name, value);\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `DisabledMixin`\r\n     * to not set `aria-disabled` on the host element.\r\n     *\r\n     * @protected\r\n     * @override\r\n     */\r\n    _setAriaDisabled() {\r\n      // The `aria-disabled` is set on the details summary.\r\n    }\r\n\r\n    /** @private */\r\n    _summaryChanged(summary) {\r\n      this._summaryController.setSummary(summary);\r\n    }\r\n\r\n    /** @private */\r\n    __updateAriaControls(summary, contentElements) {\r\n      if (summary && contentElements) {\r\n        const node = contentElements[0];\r\n\r\n        if (node && node.id) {\r\n          summary.setAttribute('aria-controls', node.id);\r\n        } else {\r\n          summary.removeAttribute('aria-controls');\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __updateAriaExpanded(focusElement, opened) {\r\n      if (focusElement) {\r\n        focusElement.setAttribute('aria-expanded', opened ? 'true' : 'false');\r\n      }\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2019 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport './vaadin-details-summary.js';\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { DetailsBaseMixin } from './vaadin-details-base-mixin.js';\r\n\r\n/**\r\n * `<vaadin-details>` is a Web Component which the creates an\r\n * expandable panel similar to `<details>` HTML element.\r\n *\r\n * ```\r\n * <vaadin-details>\r\n *   <vaadin-details-summary slot=\"summary\">Expandable Details</vaadin-details-summary>\r\n *   <div>\r\n *     Toggle using mouse, Enter and Space keys.\r\n *   </div>\r\n * </vaadin-details>\r\n * ```\r\n *\r\n * ### Styling\r\n *\r\n * The following shadow DOM parts are exposed for styling:\r\n *\r\n * Part name        | Description\r\n * -----------------|----------------\r\n * `content`        | The wrapper for the collapsible details content.\r\n *\r\n * The following attributes are exposed for styling:\r\n *\r\n * Attribute    | Description\r\n * -------------| -----------\r\n * `opened`     | Set when the collapsible content is expanded and visible.\r\n * `disabled`   | Set when the element is disabled.\r\n * `focus-ring` | Set when the element is focused using the keyboard.\r\n * `focused`    | Set when the element is focused.\r\n *\r\n * See [Styling Components](https://vaadin.com/docs/latest/styling/styling-components) documentation.\r\n *\r\n * @fires {CustomEvent} opened-changed - Fired when the `opened` property changes.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes ControllerMixin\r\n * @mixes DetailsBaseMixin\r\n * @mixes ElementMixin\r\n * @mixes ThemableMixin\r\n */\r\nclass Details extends DetailsBaseMixin(ElementMixin(ThemableMixin(ControllerMixin(PolymerElement)))) {\r\n  static get template() {\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: block;\r\n        }\r\n\r\n        :host([hidden]) {\r\n          display: none !important;\r\n        }\r\n\r\n        [part='content'] {\r\n          display: none;\r\n        }\r\n\r\n        :host([opened]) [part='content'] {\r\n          display: block;\r\n        }\r\n      </style>\r\n\r\n      <slot name=\"summary\"></slot>\r\n\r\n      <div part=\"content\">\r\n        <slot></slot>\r\n      </div>\r\n\r\n      <slot name=\"tooltip\"></slot>\r\n    `;\r\n  }\r\n\r\n  static get is() {\r\n    return 'vaadin-details';\r\n  }\r\n}\r\n\r\ndefineCustomElement(Details);\r\n\r\nexport { Details };\r\n"],
  "mappings": "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",
  "names": ["e"]
}
