{
  "version": 3,
  "sources": ["../../@vaadin/date-picker/theme/lumo/vaadin-date-picker-overlay-styles.js", "../../@vaadin/date-picker/theme/lumo/vaadin-date-picker-year-styles.js", "../../@vaadin/date-picker/theme/lumo/vaadin-date-picker-overlay-content-styles.js", "../../@vaadin/date-picker/theme/lumo/vaadin-month-calendar-styles.js", "../../@vaadin/date-picker/theme/lumo/vaadin-date-picker-styles.js", "../../@vaadin/date-picker/src/vaadin-date-picker-overlay-mixin.js", "../../@vaadin/date-picker/src/vaadin-date-picker-overlay-styles.js", "../../@vaadin/date-picker/src/vaadin-date-picker-overlay.js", "../../@vaadin/date-picker/src/vaadin-infinite-scroller.js", "../../@vaadin/date-picker/src/vaadin-date-picker-month-scroller.js", "../../@vaadin/date-picker/src/vaadin-date-picker-year-scroller.js", "../../@vaadin/date-picker/src/vaadin-date-picker-year-mixin.js", "../../@vaadin/date-picker/src/vaadin-date-picker-year.js", "../../@polymer/polymer/lib/elements/dom-repeat.js", "../../@vaadin/date-picker/src/vaadin-month-calendar-mixin.js", "../../@vaadin/date-picker/src/vaadin-month-calendar-styles.js", "../../@vaadin/date-picker/src/vaadin-month-calendar.js", "../../@vaadin/date-picker/src/vaadin-date-picker-overlay-content-mixin.js", "../../@vaadin/date-picker/src/vaadin-date-picker-overlay-content-styles.js", "../../@vaadin/date-picker/src/vaadin-date-picker-overlay-content.js", "../../@vaadin/date-picker/src/vaadin-date-picker-mixin.js", "../../@vaadin/date-picker/src/vaadin-date-picker-styles.js", "../../@vaadin/date-picker/src/vaadin-date-picker.js"],
  "sourcesContent": ["import '@vaadin/vaadin-lumo-styles/sizing.js';\r\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\r\nimport { menuOverlay } from '@vaadin/vaadin-lumo-styles/mixins/menu-overlay.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nconst datePickerOverlay = css`\r\n  [part='overlay'] {\r\n    /*\r\n  Width:\r\n      date cell widths\r\n    + month calendar side padding\r\n    + year scroller width\r\n  */\r\n    /* prettier-ignore */\r\n    width:\r\n    calc(\r\n        var(--lumo-size-m) * 7\r\n      + var(--lumo-space-xs) * 2\r\n      + 57px\r\n    );\r\n    height: 100%;\r\n    max-height: calc(var(--lumo-size-m) * 14);\r\n    overflow: hidden;\r\n    -webkit-tap-highlight-color: transparent;\r\n    flex-direction: column;\r\n  }\r\n\r\n  [part='content'] {\r\n    padding: 0;\r\n    height: 100%;\r\n    overflow: hidden;\r\n    -webkit-mask-image: none;\r\n    mask-image: none;\r\n  }\r\n\r\n  :host([top-aligned]) [part~='overlay'] {\r\n    margin-top: var(--lumo-space-xs);\r\n  }\r\n\r\n  :host([bottom-aligned]) [part~='overlay'] {\r\n    margin-bottom: var(--lumo-space-xs);\r\n  }\r\n\r\n  @media (max-width: 450px), (max-height: 450px) {\r\n    [part='overlay'] {\r\n      width: 100vw;\r\n      height: 70vh;\r\n      max-height: 70vh;\r\n    }\r\n  }\r\n`;\r\n\r\nregisterStyles('vaadin-date-picker-overlay', [menuOverlay, datePickerOverlay], {\r\n  moduleId: 'lumo-date-picker-overlay',\r\n});\r\n", "import '@vaadin/vaadin-lumo-styles/color.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles(\r\n  'vaadin-date-picker-year',\r\n  css`\r\n    :host([current]) [part='year-number'] {\r\n      color: var(--lumo-primary-text-color);\r\n    }\r\n\r\n    :host(:not([current])) [part='year-number'],\r\n    [part='year-separator'] {\r\n      opacity: var(--_lumo-date-picker-year-opacity, 0.7);\r\n      transition: 0.2s opacity;\r\n    }\r\n\r\n    [part='year-number'],\r\n    [part='year-separator'] {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 50%;\r\n      transform: translateY(-50%);\r\n    }\r\n\r\n    [part='year-separator']::after {\r\n      color: var(--lumo-disabled-text-color);\r\n      content: '\\\\2022';\r\n    }\r\n  `,\r\n  { moduleId: 'lumo-date-picker-year' },\r\n);\r\n", "import '@vaadin/vaadin-lumo-styles/color.js';\r\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\r\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\r\nimport '@vaadin/vaadin-lumo-styles/style.js';\r\nimport '@vaadin/vaadin-lumo-styles/typography.js';\r\nimport '@vaadin/button/theme/lumo/vaadin-button-styles.js';\r\nimport './vaadin-date-picker-year-styles.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles(\r\n  'vaadin-date-picker-overlay-content',\r\n  css`\r\n    :host {\r\n      position: relative;\r\n      /* Background for the year scroller, placed here as we are using a mask image on the actual years part */\r\n      background-image: linear-gradient(var(--lumo-shade-5pct), var(--lumo-shade-5pct));\r\n      background-size: 57px 100%;\r\n      background-position: top right;\r\n      background-repeat: no-repeat;\r\n      cursor: default;\r\n    }\r\n\r\n    ::slotted([slot='months']) {\r\n      /* Month calendar height:\r\n              header height + margin-bottom\r\n            + weekdays height + margin-bottom\r\n            + date cell heights\r\n            + small margin between month calendars\r\n        */\r\n      /* prettier-ignore */\r\n      --vaadin-infinite-scroller-item-height:\r\n          calc(\r\n              var(--lumo-font-size-l) + var(--lumo-space-m)\r\n            + var(--lumo-font-size-xs) + var(--lumo-space-s)\r\n            + var(--lumo-size-m) * 6\r\n            + var(--lumo-space-s)\r\n          );\r\n      --vaadin-infinite-scroller-buffer-offset: 10%;\r\n      -webkit-mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);\r\n      mask-image: linear-gradient(transparent, #000 10%, #000 85%, transparent);\r\n      position: relative;\r\n      margin-right: 57px;\r\n    }\r\n\r\n    ::slotted([slot='years']) {\r\n      /* TODO get rid of fixed magic number */\r\n      --vaadin-infinite-scroller-buffer-width: 97px;\r\n      width: 57px;\r\n      height: auto;\r\n      top: 0;\r\n      bottom: 0;\r\n      font-size: var(--lumo-font-size-s);\r\n      box-shadow: inset 2px 0 4px 0 var(--lumo-shade-5pct);\r\n      -webkit-mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);\r\n      mask-image: linear-gradient(transparent, #000 35%, #000 65%, transparent);\r\n      cursor: var(--lumo-clickable-cursor);\r\n    }\r\n\r\n    ::slotted([slot='years']:hover) {\r\n      --_lumo-date-picker-year-opacity: 1;\r\n    }\r\n\r\n    /* TODO unsupported selector */\r\n    #scrollers {\r\n      position: static;\r\n      display: block;\r\n    }\r\n\r\n    /* TODO fix this in vaadin-date-picker that it adapts to the width of the year scroller */\r\n    :host([desktop]) ::slotted([slot='months']) {\r\n      right: auto;\r\n    }\r\n\r\n    /* Year scroller position indicator */\r\n    ::slotted([slot='years'])::before {\r\n      border: none;\r\n      width: 1em;\r\n      height: 1em;\r\n      background-color: var(--lumo-base-color);\r\n      background-image: linear-gradient(var(--lumo-tint-5pct), var(--lumo-tint-5pct));\r\n      transform: translate(-75%, -50%) rotate(45deg);\r\n      border-top-right-radius: var(--lumo-border-radius-s);\r\n      box-shadow: 2px -2px 6px 0 var(--lumo-shade-5pct);\r\n      z-index: 1;\r\n    }\r\n\r\n    [part='toolbar'] {\r\n      padding: var(--lumo-space-s);\r\n      border-bottom-left-radius: var(--lumo-border-radius-l);\r\n      margin-right: 57px;\r\n    }\r\n\r\n    [part='toolbar'] ::slotted(vaadin-button) {\r\n      margin: 0;\r\n    }\r\n\r\n    /* Narrow viewport mode (fullscreen) */\r\n\r\n    :host([fullscreen]) [part='toolbar'] {\r\n      order: -1;\r\n      background-color: var(--lumo-base-color);\r\n    }\r\n\r\n    :host([fullscreen]) [part='overlay-header'] {\r\n      order: -2;\r\n      height: var(--lumo-size-m);\r\n      padding: var(--lumo-space-s);\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      justify-content: center;\r\n    }\r\n\r\n    :host([fullscreen]) [part='toggle-button'],\r\n    :host([fullscreen]) [part='clear-button'],\r\n    [part='overlay-header'] [part='label'] {\r\n      display: none;\r\n    }\r\n\r\n    /* Very narrow screen (year scroller initially hidden) */\r\n\r\n    [part='years-toggle-button'] {\r\n      display: flex;\r\n      align-items: center;\r\n      height: var(--lumo-size-s);\r\n      padding: 0 0.5em;\r\n      border-radius: var(--lumo-border-radius-m);\r\n      z-index: 3;\r\n      color: var(--lumo-primary-text-color);\r\n      font-weight: 500;\r\n      -webkit-font-smoothing: antialiased;\r\n      -moz-osx-font-smoothing: grayscale;\r\n    }\r\n\r\n    :host([years-visible]) [part='years-toggle-button'] {\r\n      background-color: var(--lumo-primary-color);\r\n      color: var(--lumo-primary-contrast-color);\r\n    }\r\n\r\n    /* TODO magic number (same as used for media-query in vaadin-date-picker-overlay-content) */\r\n    @media screen and (max-width: 374px) {\r\n      :host {\r\n        background-image: none;\r\n      }\r\n\r\n      [part='toolbar'],\r\n      ::slotted([slot='months']) {\r\n        margin-right: 0;\r\n      }\r\n\r\n      /* TODO make date-picker adapt to the width of the years part */\r\n      ::slotted([slot='years']) {\r\n        --vaadin-infinite-scroller-buffer-width: 90px;\r\n        width: 50px;\r\n        background-color: var(--lumo-shade-5pct);\r\n      }\r\n\r\n      :host([years-visible]) ::slotted([slot='months']) {\r\n        padding-left: 50px;\r\n      }\r\n    }\r\n  `,\r\n  { moduleId: 'lumo-date-picker-overlay-content' },\r\n);\r\n", "import '@vaadin/vaadin-lumo-styles/color.js';\r\nimport '@vaadin/vaadin-lumo-styles/sizing.js';\r\nimport '@vaadin/vaadin-lumo-styles/spacing.js';\r\nimport '@vaadin/vaadin-lumo-styles/style.js';\r\nimport '@vaadin/vaadin-lumo-styles/typography.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nregisterStyles(\r\n  'vaadin-month-calendar',\r\n  css`\r\n    :host {\r\n      -webkit-user-select: none;\r\n      -webkit-tap-highlight-color: transparent;\r\n      user-select: none;\r\n      font-size: var(--lumo-font-size-m);\r\n      color: var(--lumo-body-text-color);\r\n      text-align: center;\r\n      padding: 0 var(--lumo-space-xs);\r\n      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));\r\n      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);\r\n      --_selection-color: var(--vaadin-selection-color, var(--lumo-primary-color));\r\n      --_selection-color-text: var(--vaadin-selection-color-text, var(--lumo-primary-text-color));\r\n    }\r\n\r\n    /* Month header */\r\n\r\n    [part='month-header'] {\r\n      color: var(--lumo-header-text-color);\r\n      font-size: var(--lumo-font-size-l);\r\n      line-height: 1;\r\n      font-weight: 500;\r\n      margin-bottom: var(--lumo-space-m);\r\n    }\r\n\r\n    /* Week days and numbers */\r\n\r\n    [part='weekdays'],\r\n    [part='weekday'],\r\n    [part='week-number'] {\r\n      font-size: var(--lumo-font-size-xxs);\r\n      line-height: 1;\r\n      color: var(--lumo-secondary-text-color);\r\n    }\r\n\r\n    [part='weekdays'] {\r\n      margin-bottom: var(--lumo-space-s);\r\n    }\r\n\r\n    [part='weekday']:empty,\r\n    [part='week-number'] {\r\n      width: var(--lumo-size-xs);\r\n    }\r\n\r\n    /* Date and week number cells */\r\n\r\n    [part~='date'],\r\n    [part='week-number'] {\r\n      box-sizing: border-box;\r\n      display: inline-flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: var(--lumo-size-m);\r\n      position: relative;\r\n    }\r\n\r\n    [part~='date'] {\r\n      transition: color 0.1s;\r\n    }\r\n\r\n    [part~='date']:not(:empty) {\r\n      cursor: var(--lumo-clickable-cursor);\r\n    }\r\n\r\n    :host([week-numbers]) [part='weekday']:not(:empty),\r\n    :host([week-numbers]) [part~='date'] {\r\n      width: calc((100% - var(--lumo-size-xs)) / 7);\r\n    }\r\n\r\n    /* Today date */\r\n\r\n    [part~='date'][part~='today'] {\r\n      color: var(--_selection-color-text);\r\n    }\r\n\r\n    /* Focused date */\r\n\r\n    [part~='date']::before {\r\n      content: '';\r\n      position: absolute;\r\n      z-index: -1;\r\n      top: 50%;\r\n      left: 50%;\r\n      transform: translate(-50%, -50%);\r\n      min-width: 2em;\r\n      min-height: 2em;\r\n      width: 80%;\r\n      height: 80%;\r\n      max-height: 100%;\r\n      max-width: 100%;\r\n      border-radius: var(--lumo-border-radius-m);\r\n    }\r\n\r\n    [part~='date'][part~='focused']::before {\r\n      box-shadow:\r\n        0 0 0 1px var(--lumo-base-color),\r\n        0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color);\r\n    }\r\n\r\n    :host(:not([focused])) [part~='date'][part~='focused']::before {\r\n      animation: vaadin-date-picker-month-calendar-focus-date 1.4s infinite;\r\n    }\r\n\r\n    @keyframes vaadin-date-picker-month-calendar-focus-date {\r\n      50% {\r\n        box-shadow:\r\n          0 0 0 1px var(--lumo-base-color),\r\n          0 0 0 calc(var(--_focus-ring-width) + 1px) transparent;\r\n      }\r\n    }\r\n\r\n    [part~='date']:not(:empty):not([part~='disabled']):not([part~='selected']):hover::before {\r\n      background-color: var(--lumo-primary-color-10pct);\r\n    }\r\n\r\n    [part~='date'][part~='selected'] {\r\n      color: var(--lumo-primary-contrast-color);\r\n    }\r\n\r\n    [part~='date'][part~='selected']::before {\r\n      background-color: var(--_selection-color);\r\n    }\r\n\r\n    [part~='date'][part~='disabled'] {\r\n      color: var(--lumo-disabled-text-color);\r\n    }\r\n\r\n    @media (pointer: coarse) {\r\n      [part~='date']:hover:not([part~='selected'])::before,\r\n      :host(:not([focus-ring])) [part~='focused']:not([part~='selected'])::before {\r\n        display: none;\r\n      }\r\n\r\n      [part~='date']:not(:empty):not([part~='disabled']):active::before {\r\n        display: block;\r\n      }\r\n\r\n      :host(:not([focus-ring])) [part~='date'][part~='selected']::before {\r\n        box-shadow: none;\r\n      }\r\n    }\r\n    /* Disabled */\r\n\r\n    :host([disabled]) * {\r\n      color: var(--lumo-disabled-text-color) !important;\r\n    }\r\n  `,\r\n  { moduleId: 'lumo-month-calendar' },\r\n);\r\n", "import '@vaadin/input-container/theme/lumo/vaadin-input-container-styles.js';\r\nimport '@vaadin/vaadin-lumo-styles/font-icons.js';\r\nimport { inputFieldShared } from '@vaadin/vaadin-lumo-styles/mixins/input-field-shared.js';\r\nimport { css, registerStyles } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\n\r\nconst datePicker = css`\r\n  [part='toggle-button']::before {\r\n    content: var(--lumo-icons-calendar);\r\n  }\r\n\r\n  [part='clear-button']::before {\r\n    content: var(--lumo-icons-cross);\r\n  }\r\n\r\n  @media (max-width: 450px), (max-height: 450px) {\r\n    [part='overlay-content'] {\r\n      height: 70vh;\r\n    }\r\n  }\r\n\r\n  :host([dir='rtl']) [part='input-field'] ::slotted(input) {\r\n    --_lumo-text-field-overflow-mask-image: linear-gradient(to left, transparent, #000 1.25em);\r\n  }\r\n\r\n  :host([dir='rtl']) [part='input-field'] ::slotted(input:placeholder-shown) {\r\n    --_lumo-text-field-overflow-mask-image: none;\r\n  }\r\n`;\r\n\r\nregisterStyles('vaadin-date-picker', [inputFieldShared, datePicker], { moduleId: 'lumo-date-picker' });\r\n", "/**\r\n * @license\r\n * Copyright (c) 2015 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { isElementFocusable } from '@vaadin/a11y-base/src/focus-utils.js';\r\nimport { OverlayMixin } from '@vaadin/overlay/src/vaadin-overlay-mixin.js';\r\nimport { PositionMixin } from '@vaadin/overlay/src/vaadin-overlay-position-mixin.js';\r\n\r\n/**\r\n * @polymerMixin\r\n * @mixes OverlayMixin\r\n * @mixes PositionMixin\r\n */\r\nexport const DatePickerOverlayMixin = (superClass) =>\r\n  class DatePickerOverlayMixin extends PositionMixin(OverlayMixin(superClass)) {\r\n    /**\r\n     * Override method inherited from `OverlayMixin` to not close on input click.\r\n     * Needed to ignore date-picker's own input in the mousedown listener below.\r\n     *\r\n     * @param {Event} event\r\n     * @return {boolean}\r\n     * @protected\r\n     */\r\n    _shouldCloseOnOutsideClick(event) {\r\n      const eventPath = event.composedPath();\r\n      return !eventPath.includes(this.positionTarget);\r\n    }\r\n\r\n    /**\r\n     * @protected\r\n     * @override\r\n     */\r\n    _mouseDownListener(event) {\r\n      super._mouseDownListener(event);\r\n\r\n      // Prevent global mousedown event to avoid losing focus on outside click,\r\n      // unless the clicked element is also focusable (e.g. in date-time-picker).\r\n      if (this._shouldCloseOnOutsideClick(event) && !isElementFocusable(event.composedPath()[0])) {\r\n        event.preventDefault();\r\n      }\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { css } from 'lit';\r\n\r\nexport const datePickerOverlayStyles = css`\r\n  [part='overlay'] {\r\n    display: flex;\r\n    flex: auto;\r\n  }\r\n\r\n  [part~='content'] {\r\n    flex: auto;\r\n  }\r\n\r\n  @media (forced-colors: active) {\r\n    [part='overlay'] {\r\n      outline: 3px solid;\r\n    }\r\n  }\r\n`;\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { overlayStyles } from '@vaadin/overlay/src/vaadin-overlay-styles.js';\r\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { DatePickerOverlayMixin } from './vaadin-date-picker-overlay-mixin.js';\r\nimport { datePickerOverlayStyles } from './vaadin-date-picker-overlay-styles.js';\r\n\r\nregisterStyles('vaadin-date-picker-overlay', [overlayStyles, datePickerOverlayStyles], {\r\n  moduleId: 'vaadin-date-picker-overlay-styles',\r\n});\r\n\r\n/**\r\n * An element used internally by `<vaadin-date-picker>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes DatePickerOverlayMixin\r\n * @mixes DirMixin\r\n * @mixes ThemableMixin\r\n * @private\r\n */\r\nclass DatePickerOverlay extends DatePickerOverlayMixin(DirMixin(ThemableMixin(PolymerElement))) {\r\n  static get is() {\r\n    return 'vaadin-date-picker-overlay';\r\n  }\r\n\r\n  static get template() {\r\n    return html`\r\n      <div id=\"backdrop\" part=\"backdrop\" hidden$=\"[[!withBackdrop]]\"></div>\r\n      <div part=\"overlay\" id=\"overlay\">\r\n        <div part=\"content\" id=\"content\">\r\n          <slot></slot>\r\n        </div>\r\n      </div>\r\n    `;\r\n  }\r\n}\r\n\r\ndefineCustomElement(DatePickerOverlay);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { flush } from '@polymer/polymer/lib/utils/flush.js';\r\nimport { timeOut } from '@vaadin/component-base/src/async.js';\r\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\r\nimport { generateUniqueId } from '@vaadin/component-base/src/unique-id-utils.js';\r\n\r\nconst template = document.createElement('template');\r\ntemplate.innerHTML = `\r\n  <style>\r\n    :host {\r\n      display: block;\r\n      overflow: hidden;\r\n      height: 500px;\r\n    }\r\n\r\n    #scroller {\r\n      position: relative;\r\n      height: 100%;\r\n      overflow: auto;\r\n      outline: none;\r\n      margin-right: -40px;\r\n      -webkit-overflow-scrolling: touch;\r\n      overflow-x: hidden;\r\n    }\r\n\r\n    #scroller.notouchscroll {\r\n      -webkit-overflow-scrolling: auto;\r\n    }\r\n\r\n    #scroller::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n\r\n    .buffer {\r\n      position: absolute;\r\n      width: var(--vaadin-infinite-scroller-buffer-width, 100%);\r\n      box-sizing: border-box;\r\n      padding-right: 40px;\r\n      top: var(--vaadin-infinite-scroller-buffer-offset, 0);\r\n      animation: fadein 0.2s;\r\n    }\r\n\r\n    @keyframes fadein {\r\n      from {\r\n        opacity: 0;\r\n      }\r\n      to {\r\n        opacity: 1;\r\n      }\r\n    }\r\n  </style>\r\n\r\n  <div id=\"scroller\" tabindex=\"-1\">\r\n    <div class=\"buffer\"></div>\r\n    <div class=\"buffer\"></div>\r\n    <div id=\"fullHeight\"></div>\r\n  </div>\r\n`;\r\n\r\n/**\r\n * @extends HTMLElement\r\n * @private\r\n */\r\nexport class InfiniteScroller extends HTMLElement {\r\n  constructor() {\r\n    super();\r\n\r\n    const root = this.attachShadow({ mode: 'open' });\r\n    root.appendChild(template.content.cloneNode(true));\r\n\r\n    /**\r\n     * Count of individual items in each buffer.\r\n     * The scroller has 2 buffers altogether so bufferSize of 20\r\n     * will result in 40 buffered DOM items in total.\r\n     * Changing after initialization not supported.\r\n     * @type {number}\r\n     */\r\n    this.bufferSize = 20;\r\n\r\n    /**\r\n     * The amount of initial scroll top. Needed in order for the\r\n     * user to be able to scroll backwards.\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._initialScroll = 500000;\r\n\r\n    /**\r\n     * The index/position mapped at _initialScroll point.\r\n     * @type {number}\r\n     * @private\r\n     */\r\n    this._initialIndex = 0;\r\n\r\n    /**\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this._activated = false;\r\n  }\r\n\r\n  /**\r\n   * @return {boolean}\r\n   */\r\n  get active() {\r\n    return this._activated;\r\n  }\r\n\r\n  set active(active) {\r\n    if (active && !this._activated) {\r\n      this._createPool();\r\n      this._activated = true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get bufferOffset() {\r\n    return this._buffers[0].offsetTop;\r\n  }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get itemHeight() {\r\n    if (!this._itemHeightVal) {\r\n      const itemHeight = getComputedStyle(this).getPropertyValue('--vaadin-infinite-scroller-item-height');\r\n      // Use background-position temp inline style for unit conversion\r\n      const tmpStyleProp = 'background-position';\r\n      this.$.fullHeight.style.setProperty(tmpStyleProp, itemHeight);\r\n      const itemHeightPx = getComputedStyle(this.$.fullHeight).getPropertyValue(tmpStyleProp);\r\n      this.$.fullHeight.style.removeProperty(tmpStyleProp);\r\n      this._itemHeightVal = parseFloat(itemHeightPx);\r\n    }\r\n\r\n    return this._itemHeightVal;\r\n  }\r\n\r\n  /** @private */\r\n  get _bufferHeight() {\r\n    return this.itemHeight * this.bufferSize;\r\n  }\r\n\r\n  /**\r\n   * @return {number}\r\n   */\r\n  get position() {\r\n    return (this.$.scroller.scrollTop - this._buffers[0].translateY) / this.itemHeight + this._firstIndex;\r\n  }\r\n\r\n  /**\r\n   * Current scroller position as index. Can be a fractional number.\r\n   *\r\n   * @type {number}\r\n   */\r\n  set position(index) {\r\n    this._preventScrollEvent = true;\r\n    if (index > this._firstIndex && index < this._firstIndex + this.bufferSize * 2) {\r\n      this.$.scroller.scrollTop = this.itemHeight * (index - this._firstIndex) + this._buffers[0].translateY;\r\n    } else {\r\n      this._initialIndex = ~~index;\r\n      this._reset();\r\n      this._scrollDisabled = true;\r\n      this.$.scroller.scrollTop += (index % 1) * this.itemHeight;\r\n      this._scrollDisabled = false;\r\n    }\r\n\r\n    if (this._mayHaveMomentum) {\r\n      // Stop the possible iOS Safari momentum with -webkit-overflow-scrolling: auto;\r\n      this.$.scroller.classList.add('notouchscroll');\r\n      this._mayHaveMomentum = false;\r\n\r\n      setTimeout(() => {\r\n        // Restore -webkit-overflow-scrolling: touch; after a small delay.\r\n        this.$.scroller.classList.remove('notouchscroll');\r\n      }, 10);\r\n    }\r\n  }\r\n\r\n  /** @protected */\r\n  connectedCallback() {\r\n    if (!this._ready) {\r\n      this._ready = true;\r\n\r\n      this.$ = {};\r\n      this.shadowRoot.querySelectorAll('[id]').forEach((node) => {\r\n        this.$[node.id] = node;\r\n      });\r\n\r\n      this.$.scroller.addEventListener('scroll', () => this._scroll());\r\n\r\n      /** @private */\r\n      this._buffers = [...this.shadowRoot.querySelectorAll('.buffer')];\r\n\r\n      this.$.fullHeight.style.height = `${this._initialScroll * 2}px`;\r\n    }\r\n  }\r\n\r\n  /** @protected */\r\n  disconnectedCallback() {\r\n    if (this._debouncerScrollFinish) {\r\n      this._debouncerScrollFinish.cancel();\r\n    }\r\n\r\n    if (this._debouncerUpdateClones) {\r\n      this._debouncerUpdateClones.cancel();\r\n    }\r\n\r\n    if (this.__pendingFinishInit) {\r\n      cancelAnimationFrame(this.__pendingFinishInit);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Force the scroller to update clones after a reset, without\r\n   * waiting for the debouncer to resolve.\r\n   */\r\n  forceUpdate() {\r\n    if (this._debouncerScrollFinish) {\r\n      this._debouncerScrollFinish.flush();\r\n    }\r\n\r\n    if (this._debouncerUpdateClones) {\r\n      this._buffers[0].updated = this._buffers[1].updated = false;\r\n      this._updateClones();\r\n      this._debouncerUpdateClones.cancel();\r\n    }\r\n\r\n    flush();\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   * @override\r\n   */\r\n  _createElement() {\r\n    // To be implemented.\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} _element\r\n   * @param {number} _index\r\n   * @protected\r\n   * @override\r\n   */\r\n  _updateElement(_element, _index) {\r\n    // To be implemented.\r\n  }\r\n\r\n  /** @private */\r\n  _finishInit() {\r\n    if (!this._initDone) {\r\n      // Once the first set of items start fading in, stamp the rest\r\n      this._buffers.forEach((buffer) => {\r\n        [...buffer.children].forEach((slot) => {\r\n          this._ensureStampedInstance(slot._itemWrapper);\r\n        });\r\n      });\r\n\r\n      if (!this._buffers[0].translateY) {\r\n        this._reset();\r\n      }\r\n\r\n      this._initDone = true;\r\n      this.dispatchEvent(new CustomEvent('init-done'));\r\n    }\r\n  }\r\n\r\n  /** @private */\r\n  _translateBuffer(up) {\r\n    const index = up ? 1 : 0;\r\n    this._buffers[index].translateY = this._buffers[index ? 0 : 1].translateY + this._bufferHeight * (index ? -1 : 1);\r\n    this._buffers[index].style.transform = `translate3d(0, ${this._buffers[index].translateY}px, 0)`;\r\n    this._buffers[index].updated = false;\r\n    this._buffers.reverse();\r\n  }\r\n\r\n  /** @private */\r\n  _scroll() {\r\n    if (this._scrollDisabled) {\r\n      return;\r\n    }\r\n\r\n    const scrollTop = this.$.scroller.scrollTop;\r\n    if (scrollTop < this._bufferHeight || scrollTop > this._initialScroll * 2 - this._bufferHeight) {\r\n      // Scrolled near the end/beginning of the scrollable area -> reset.\r\n      this._initialIndex = ~~this.position;\r\n      this._reset();\r\n    }\r\n\r\n    // Check if we scrolled enough to translate the buffer positions.\r\n    const offset = this.itemHeight + this.bufferOffset;\r\n    const upperThresholdReached = scrollTop > this._buffers[1].translateY + offset;\r\n    const lowerThresholdReached = scrollTop < this._buffers[0].translateY + offset;\r\n\r\n    if (upperThresholdReached || lowerThresholdReached) {\r\n      this._translateBuffer(lowerThresholdReached);\r\n      this._updateClones();\r\n    }\r\n\r\n    if (!this._preventScrollEvent) {\r\n      this.dispatchEvent(new CustomEvent('custom-scroll', { bubbles: false, composed: true }));\r\n      this._mayHaveMomentum = true;\r\n    }\r\n    this._preventScrollEvent = false;\r\n\r\n    this._debouncerScrollFinish = Debouncer.debounce(this._debouncerScrollFinish, timeOut.after(200), () => {\r\n      const scrollerRect = this.$.scroller.getBoundingClientRect();\r\n      if (!this._isVisible(this._buffers[0], scrollerRect) && !this._isVisible(this._buffers[1], scrollerRect)) {\r\n        this.position = this.position; // eslint-disable-line no-self-assign\r\n      }\r\n    });\r\n  }\r\n\r\n  /** @private */\r\n  _reset() {\r\n    this._scrollDisabled = true;\r\n    this.$.scroller.scrollTop = this._initialScroll;\r\n    this._buffers[0].translateY = this._initialScroll - this._bufferHeight;\r\n    this._buffers[1].translateY = this._initialScroll;\r\n    this._buffers.forEach((buffer) => {\r\n      buffer.style.transform = `translate3d(0, ${buffer.translateY}px, 0)`;\r\n    });\r\n    this._buffers[0].updated = this._buffers[1].updated = false;\r\n    this._updateClones(true);\r\n\r\n    this._debouncerUpdateClones = Debouncer.debounce(this._debouncerUpdateClones, timeOut.after(200), () => {\r\n      this._buffers[0].updated = this._buffers[1].updated = false;\r\n      this._updateClones();\r\n    });\r\n\r\n    this._scrollDisabled = false;\r\n  }\r\n\r\n  /** @private */\r\n  _createPool() {\r\n    const container = this.getBoundingClientRect();\r\n    this._buffers.forEach((buffer) => {\r\n      for (let i = 0; i < this.bufferSize; i++) {\r\n        const itemWrapper = document.createElement('div');\r\n        itemWrapper.style.height = `${this.itemHeight}px`;\r\n        itemWrapper.instance = {};\r\n\r\n        const slotName = `vaadin-infinite-scroller-item-content-${generateUniqueId()}`;\r\n\r\n        const slot = document.createElement('slot');\r\n        slot.setAttribute('name', slotName);\r\n        slot._itemWrapper = itemWrapper;\r\n        buffer.appendChild(slot);\r\n\r\n        itemWrapper.setAttribute('slot', slotName);\r\n        this.appendChild(itemWrapper);\r\n\r\n        // Only stamp the visible instances first\r\n        if (this._isVisible(itemWrapper, container)) {\r\n          this._ensureStampedInstance(itemWrapper);\r\n        }\r\n      }\r\n    });\r\n\r\n    this.__pendingFinishInit = requestAnimationFrame(() => {\r\n      this._finishInit();\r\n      this.__pendingFinishInit = null;\r\n    });\r\n  }\r\n\r\n  /** @private */\r\n  _ensureStampedInstance(itemWrapper) {\r\n    if (itemWrapper.firstElementChild) {\r\n      return;\r\n    }\r\n\r\n    const tmpInstance = itemWrapper.instance;\r\n\r\n    itemWrapper.instance = this._createElement();\r\n    itemWrapper.appendChild(itemWrapper.instance);\r\n\r\n    Object.keys(tmpInstance).forEach((prop) => {\r\n      itemWrapper.instance[prop] = tmpInstance[prop];\r\n    });\r\n  }\r\n\r\n  /** @private */\r\n  _updateClones(viewPortOnly) {\r\n    this._firstIndex =\r\n      Math.round((this._buffers[0].translateY - this._initialScroll) / this.itemHeight) + this._initialIndex;\r\n\r\n    const scrollerRect = viewPortOnly ? this.$.scroller.getBoundingClientRect() : undefined;\r\n    this._buffers.forEach((buffer, bufferIndex) => {\r\n      if (!buffer.updated) {\r\n        const firstIndex = this._firstIndex + this.bufferSize * bufferIndex;\r\n\r\n        [...buffer.children].forEach((slot, index) => {\r\n          const itemWrapper = slot._itemWrapper;\r\n          if (!viewPortOnly || this._isVisible(itemWrapper, scrollerRect)) {\r\n            this._updateElement(itemWrapper.instance, firstIndex + index);\r\n          }\r\n        });\r\n        buffer.updated = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  /** @private */\r\n  _isVisible(element, container) {\r\n    const rect = element.getBoundingClientRect();\r\n    return rect.bottom > container.top && rect.top < container.bottom;\r\n  }\r\n}\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { dateAfterXMonths } from './vaadin-date-picker-helper.js';\r\nimport { InfiniteScroller } from './vaadin-infinite-scroller.js';\r\n\r\nconst stylesTemplate = document.createElement('template');\r\nstylesTemplate.innerHTML = `\r\n  <style>\r\n    :host {\r\n      --vaadin-infinite-scroller-item-height: 270px;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      right: 0;\r\n      bottom: 0;\r\n      height: 100%;\r\n    }\r\n  </style>\r\n`;\r\n\r\n/**\r\n * An element used internally by `<vaadin-date-picker>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends InfiniteScroller\r\n * @private\r\n */\r\nclass DatePickerMonthScroller extends InfiniteScroller {\r\n  static get is() {\r\n    return 'vaadin-date-picker-month-scroller';\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.bufferSize = 3;\r\n    this.shadowRoot.appendChild(stylesTemplate.content.cloneNode(true));\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   * @override\r\n   */\r\n  _createElement() {\r\n    return document.createElement('vaadin-month-calendar');\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} element\r\n   * @param {number} index\r\n   * @protected\r\n   * @override\r\n   */\r\n  _updateElement(element, index) {\r\n    element.month = dateAfterXMonths(index);\r\n  }\r\n}\r\n\r\ndefineCustomElement(DatePickerMonthScroller);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { InfiniteScroller } from './vaadin-infinite-scroller.js';\r\n\r\nconst stylesTemplate = document.createElement('template');\r\nstylesTemplate.innerHTML = `\r\n  <style>\r\n    :host {\r\n      --vaadin-infinite-scroller-item-height: 80px;\r\n      width: 50px;\r\n      display: block;\r\n      height: 100%;\r\n      position: absolute;\r\n      right: 0;\r\n      transform: translateX(100%);\r\n      -webkit-tap-highlight-color: transparent;\r\n      -webkit-user-select: none;\r\n      user-select: none;\r\n      /* Center the year scroller position. */\r\n      --vaadin-infinite-scroller-buffer-offset: 50%;\r\n    }\r\n\r\n    :host::before {\r\n      content: '';\r\n      display: block;\r\n      background: transparent;\r\n      width: 0;\r\n      height: 0;\r\n      position: absolute;\r\n      left: 0;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      border-width: 6px;\r\n      border-style: solid;\r\n      border-color: transparent;\r\n      border-left-color: #000;\r\n    }\r\n  </style>\r\n`;\r\n\r\n/**\r\n * An element used internally by `<vaadin-date-picker>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends InfiniteScroller\r\n * @private\r\n */\r\nclass DatePickerYearScroller extends InfiniteScroller {\r\n  static get is() {\r\n    return 'vaadin-date-picker-year-scroller';\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.bufferSize = 12;\r\n    this.shadowRoot.appendChild(stylesTemplate.content.cloneNode(true));\r\n  }\r\n\r\n  /**\r\n   * @protected\r\n   * @override\r\n   */\r\n  _createElement() {\r\n    return document.createElement('vaadin-date-picker-year');\r\n  }\r\n\r\n  /**\r\n   * @param {HTMLElement} element\r\n   * @param {number} index\r\n   * @protected\r\n   * @override\r\n   */\r\n  _updateElement(element, index) {\r\n    element.year = this._yearAfterXYears(index);\r\n  }\r\n\r\n  /** @private */\r\n  _yearAfterXYears(index) {\r\n    const today = new Date();\r\n    const result = new Date(today);\r\n    result.setFullYear(parseInt(index) + today.getFullYear());\r\n    return result.getFullYear();\r\n  }\r\n}\r\n\r\ndefineCustomElement(DatePickerYearScroller);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\n\r\n/**\r\n * @polymerMixin\r\n */\r\nexport const DatePickerYearMixin = (superClass) =>\r\n  class DatePickerYearMixin extends superClass {\r\n    static get properties() {\r\n      return {\r\n        year: {\r\n          type: String,\r\n          sync: true,\r\n        },\r\n\r\n        selectedDate: {\r\n          type: Object,\r\n          sync: true,\r\n        },\r\n      };\r\n    }\r\n\r\n    static get observers() {\r\n      return ['__updateSelected(year, selectedDate)'];\r\n    }\r\n\r\n    /** @private */\r\n    __updateSelected(year, selectedDate) {\r\n      this.toggleAttribute('selected', selectedDate && selectedDate.getFullYear() === year);\r\n      this.toggleAttribute('current', year === new Date().getFullYear());\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { DatePickerYearMixin } from './vaadin-date-picker-year-mixin.js';\r\n\r\n/**\r\n * An element used internally by `<vaadin-date-picker>`. Not intended to be used separately.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes ThemableMixin\r\n * @mixes DatePickerYearMixin\r\n * @private\r\n */\r\nexport class DatePickerYear extends ThemableMixin(DatePickerYearMixin(PolymerElement)) {\r\n  static get is() {\r\n    return 'vaadin-date-picker-year';\r\n  }\r\n\r\n  static get template() {\r\n    return html`\r\n      <style>\r\n        :host {\r\n          display: block;\r\n          height: 100%;\r\n        }\r\n      </style>\r\n      <div part=\"year-number\">[[year]]</div>\r\n      <div part=\"year-separator\" aria-hidden=\"true\"></div>\r\n    `;\r\n  }\r\n}\r\n\r\ndefineCustomElement(DatePickerYear);\r\n", "/**\r\n@license\r\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\r\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\nCode distributed by Google as part of the polymer project is also\r\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n*/\r\nimport { PolymerElement } from '../../polymer-element.js';\r\n\r\nimport { TemplateInstanceBase, templatize, modelForElement } from '../utils/templatize.js'; // eslint-disable-line no-unused-vars\r\nimport { Debouncer } from '../utils/debounce.js';\r\nimport { enqueueDebouncer, flush } from '../utils/flush.js';\r\nimport { OptionalMutableData } from '../mixins/mutable-data.js';\r\nimport { matches, translate } from '../utils/path.js';\r\nimport { timeOut, microTask } from '../utils/async.js';\r\nimport { wrap } from '../utils/wrap.js';\r\nimport { hideElementsGlobally } from '../utils/hide-template-controls.js';\r\nimport { suppressTemplateNotifications } from '../utils/settings.js';\r\n\r\n/**\r\n * @constructor\r\n * @implements {Polymer_OptionalMutableData}\r\n * @extends {PolymerElement}\r\n * @private\r\n */\r\nconst domRepeatBase = OptionalMutableData(PolymerElement);\r\n\r\n/**\r\n * The `<dom-repeat>` element will automatically stamp and binds one instance\r\n * of template content to each object in a user-provided array.\r\n * `dom-repeat` accepts an `items` property, and one instance of the template\r\n * is stamped for each item into the DOM at the location of the `dom-repeat`\r\n * element.  The `item` property will be set on each instance's binding\r\n * scope, thus templates should bind to sub-properties of `item`.\r\n *\r\n * Example:\r\n *\r\n * ```html\r\n * <dom-module id=\"employee-list\">\r\n *\r\n *   <template>\r\n *\r\n *     <div> Employee list: </div>\r\n *     <dom-repeat items=\"{{employees}}\">\r\n *       <template>\r\n *         <div>First name: <span>{{item.first}}</span></div>\r\n *         <div>Last name: <span>{{item.last}}</span></div>\r\n *       </template>\r\n *     </dom-repeat>\r\n *\r\n *   </template>\r\n *\r\n * </dom-module>\r\n * ```\r\n *\r\n * With the following custom element definition:\r\n *\r\n * ```js\r\n * class EmployeeList extends PolymerElement {\r\n *   static get is() { return 'employee-list'; }\r\n *   static get properties() {\r\n *     return {\r\n *       employees: {\r\n *         value() {\r\n *           return [\r\n *             {first: 'Bob', last: 'Smith'},\r\n *             {first: 'Sally', last: 'Johnson'},\r\n *             ...\r\n *           ];\r\n *         }\r\n *       }\r\n *     };\r\n *   }\r\n * }\r\n * ```\r\n *\r\n * Notifications for changes to items sub-properties will be forwarded to template\r\n * instances, which will update via the normal structured data notification system.\r\n *\r\n * Mutations to the `items` array itself should be made using the Array\r\n * mutation API's on the PropertyEffects mixin (`push`, `pop`, `splice`,\r\n * `shift`, `unshift`), and template instances will be kept in sync with the\r\n * data in the array.\r\n *\r\n * Events caught by event handlers within the `dom-repeat` template will be\r\n * decorated with a `model` property, which represents the binding scope for\r\n * each template instance.  The model should be used to manipulate data on the\r\n * instance, for example `event.model.set('item.checked', true);`.\r\n *\r\n * Alternatively, the model for a template instance for an element stamped by\r\n * a `dom-repeat` can be obtained using the `modelForElement` API on the\r\n * `dom-repeat` that stamped it, for example\r\n * `this.$.domRepeat.modelForElement(event.target).set('item.checked', true);`.\r\n * This may be useful for manipulating instance data of event targets obtained\r\n * by event handlers on parents of the `dom-repeat` (event delegation).\r\n *\r\n * A view-specific filter/sort may be applied to each `dom-repeat` by supplying a\r\n * `filter` and/or `sort` property.  This may be a string that names a function on\r\n * the host, or a function may be assigned to the property directly.  The functions\r\n * should implemented following the standard `Array` filter/sort API.\r\n *\r\n * In order to re-run the filter or sort functions based on changes to sub-fields\r\n * of `items`, the `observe` property may be set as a space-separated list of\r\n * `item` sub-fields that should cause a re-filter/sort when modified.  If\r\n * the filter or sort function depends on properties not contained in `items`,\r\n * the user should observe changes to those properties and call `render` to update\r\n * the view based on the dependency change.\r\n *\r\n * For example, for an `dom-repeat` with a filter of the following:\r\n *\r\n * ```js\r\n * isEngineer(item) {\r\n *   return item.type == 'engineer' || item.manager.type == 'engineer';\r\n * }\r\n * ```\r\n *\r\n * Then the `observe` property should be configured as follows:\r\n *\r\n * ```html\r\n * <dom-repeat items=\"{{employees}}\" filter=\"isEngineer\" observe=\"type manager.type\">\r\n * ```\r\n *\r\n * @customElement\r\n * @polymer\r\n * @extends {domRepeatBase}\r\n * @appliesMixin OptionalMutableData\r\n * @summary Custom element for stamping instance of a template bound to\r\n *   items in an array.\r\n */\r\nexport class DomRepeat extends domRepeatBase {\r\n\r\n  // Not needed to find template; can be removed once the analyzer\r\n  // can find the tag name from customElements.define call\r\n  static get is() { return 'dom-repeat'; }\r\n\r\n  static get template() { return null; }\r\n\r\n  static get properties() {\r\n\r\n    /**\r\n     * Fired whenever DOM is added or removed by this template (by\r\n     * default, rendering occurs lazily).  To force immediate rendering, call\r\n     * `render`.\r\n     *\r\n     * @event dom-change\r\n     */\r\n    return {\r\n\r\n      /**\r\n       * An array containing items determining how many instances of the template\r\n       * to stamp and that that each template instance should bind to.\r\n       */\r\n      items: {\r\n        type: Array\r\n      },\r\n\r\n      /**\r\n       * The name of the variable to add to the binding scope for the array\r\n       * element associated with a given template instance.\r\n       */\r\n      as: {\r\n        type: String,\r\n        value: 'item'\r\n      },\r\n\r\n      /**\r\n       * The name of the variable to add to the binding scope with the index\r\n       * of the instance in the sorted and filtered list of rendered items.\r\n       * Note, for the index in the `this.items` array, use the value of the\r\n       * `itemsIndexAs` property.\r\n       */\r\n      indexAs: {\r\n        type: String,\r\n        value: 'index'\r\n      },\r\n\r\n      /**\r\n       * The name of the variable to add to the binding scope with the index\r\n       * of the instance in the `this.items` array. Note, for the index of\r\n       * this instance in the sorted and filtered list of rendered items,\r\n       * use the value of the `indexAs` property.\r\n       */\r\n      itemsIndexAs: {\r\n        type: String,\r\n        value: 'itemsIndex'\r\n      },\r\n\r\n      /**\r\n       * A function that should determine the sort order of the items.  This\r\n       * property should either be provided as a string, indicating a method\r\n       * name on the element's host, or else be an actual function.  The\r\n       * function should match the sort function passed to `Array.sort`.\r\n       * Using a sort function has no effect on the underlying `items` array.\r\n       */\r\n      sort: {\r\n        type: Function,\r\n        observer: '__sortChanged'\r\n      },\r\n\r\n      /**\r\n       * A function that can be used to filter items out of the view.  This\r\n       * property should either be provided as a string, indicating a method\r\n       * name on the element's host, or else be an actual function.  The\r\n       * function should match the sort function passed to `Array.filter`.\r\n       * Using a filter function has no effect on the underlying `items` array.\r\n       */\r\n      filter: {\r\n        type: Function,\r\n        observer: '__filterChanged'\r\n      },\r\n\r\n      /**\r\n       * When using a `filter` or `sort` function, the `observe` property\r\n       * should be set to a space-separated list of the names of item\r\n       * sub-fields that should trigger a re-sort or re-filter when changed.\r\n       * These should generally be fields of `item` that the sort or filter\r\n       * function depends on.\r\n       */\r\n      observe: {\r\n        type: String,\r\n        observer: '__observeChanged'\r\n      },\r\n\r\n      /**\r\n       * When using a `filter` or `sort` function, the `delay` property\r\n       * determines a debounce time in ms after a change to observed item\r\n       * properties that must pass before the filter or sort is re-run.\r\n       * This is useful in rate-limiting shuffling of the view when\r\n       * item changes may be frequent.\r\n       */\r\n      delay: Number,\r\n\r\n      /**\r\n       * Count of currently rendered items after `filter` (if any) has been applied.\r\n       * If \"chunking mode\" is enabled, `renderedItemCount` is updated each time a\r\n       * set of template instances is rendered.\r\n       *\r\n       */\r\n      renderedItemCount: {\r\n        type: Number,\r\n        notify: !suppressTemplateNotifications,\r\n        readOnly: true\r\n      },\r\n\r\n      /**\r\n       * When greater than zero, defines an initial count of template instances\r\n       * to render after setting the `items` array, before the next paint, and\r\n       * puts the `dom-repeat` into \"chunking mode\".  The remaining items (and\r\n       * any future items as a result of pushing onto the array) will be created\r\n       * and rendered incrementally at each animation frame thereof until all\r\n       * instances have been rendered.\r\n       */\r\n      initialCount: {\r\n        type: Number\r\n      },\r\n\r\n      /**\r\n       * When `initialCount` is used, this property defines a frame rate (in\r\n       * fps) to target by throttling the number of instances rendered each\r\n       * frame to not exceed the budget for the target frame rate.  The\r\n       * framerate is effectively the number of `requestAnimationFrame`s that\r\n       * it tries to allow to actually fire in a given second. It does this\r\n       * by measuring the time between `rAF`s and continuously adjusting the\r\n       * number of items created each `rAF` to maintain the target framerate.\r\n       * Setting this to a higher number allows lower latency and higher\r\n       * throughput for event handlers and other tasks, but results in a\r\n       * longer time for the remaining items to complete rendering.\r\n       */\r\n      targetFramerate: {\r\n        type: Number,\r\n        value: 20\r\n      },\r\n\r\n      _targetFrameTime: {\r\n        type: Number,\r\n        computed: '__computeFrameTime(targetFramerate)'\r\n      },\r\n\r\n      /**\r\n       * When the global `suppressTemplateNotifications` setting is used, setting\r\n       * `notifyDomChange: true` will enable firing `dom-change` events on this\r\n       * element.\r\n       */\r\n      notifyDomChange: {\r\n        type: Boolean\r\n      },\r\n\r\n      /**\r\n       * When chunking is enabled via `initialCount` and the `items` array is\r\n       * set to a new array, this flag controls whether the previously rendered\r\n       * instances are reused or not.\r\n       *\r\n       * When `true`, any previously rendered template instances are updated in\r\n       * place to their new item values synchronously in one shot, and then any\r\n       * further items (if any) are chunked out.  When `false`, the list is\r\n       * returned back to its `initialCount` (any instances over the initial\r\n       * count are discarded) and the remainder of the list is chunked back in.\r\n       * Set this to `true` to avoid re-creating the list and losing scroll\r\n       * position, although note that when changing the list to completely\r\n       * different data the render thread will be blocked until all existing\r\n       * instances are updated to their new data.\r\n       */\r\n      reuseChunkedInstances: {\r\n        type: Boolean\r\n      }\r\n\r\n    };\r\n\r\n  }\r\n\r\n  static get observers() {\r\n    return [ '__itemsChanged(items.*)' ];\r\n  }\r\n\r\n  constructor() {\r\n    super();\r\n    this.__instances = [];\r\n    this.__renderDebouncer = null;\r\n    this.__itemsIdxToInstIdx = {};\r\n    this.__chunkCount = null;\r\n    this.__renderStartTime = null;\r\n    this.__itemsArrayChanged = false;\r\n    this.__shouldMeasureChunk = false;\r\n    this.__shouldContinueChunking = false;\r\n    this.__chunkingId = 0;\r\n    this.__sortFn = null;\r\n    this.__filterFn = null;\r\n    this.__observePaths = null;\r\n    /** @type {?function(new:TemplateInstanceBase, Object=)} */\r\n    this.__ctor = null;\r\n    this.__isDetached = true;\r\n    this.template = null;\r\n    /** @type {TemplateInfo} */\r\n    this._templateInfo;\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   * @return {void}\r\n   */\r\n  disconnectedCallback() {\r\n    super.disconnectedCallback();\r\n    this.__isDetached = true;\r\n    for (let i=0; i<this.__instances.length; i++) {\r\n      this.__detachInstance(i);\r\n    }\r\n    // Stop chunking if one was in progress\r\n    if (this.__chunkingId) {\r\n      cancelAnimationFrame(this.__chunkingId);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   * @return {void}\r\n   */\r\n  connectedCallback() {\r\n    super.connectedCallback();\r\n    if (!hideElementsGlobally()) {\r\n      this.style.display = 'none';\r\n    }\r\n    // only perform attachment if the element was previously detached.\r\n    if (this.__isDetached) {\r\n      this.__isDetached = false;\r\n      let wrappedParent = wrap(wrap(this).parentNode);\r\n      for (let i=0; i<this.__instances.length; i++) {\r\n        this.__attachInstance(i, wrappedParent);\r\n      }\r\n      // Restart chunking if one was in progress when disconnected\r\n      if (this.__chunkingId) {\r\n        this.__render();\r\n      }\r\n    }\r\n  }\r\n\r\n  __ensureTemplatized() {\r\n    // Templatizing (generating the instance constructor) needs to wait\r\n    // until ready, since won't have its template content handed back to\r\n    // it until then\r\n    if (!this.__ctor) {\r\n      // When `removeNestedTemplates` is true, the \"template\" is the element\r\n      // itself, which has been given a `_templateInfo` property\r\n      const thisAsTemplate = /** @type {!HTMLTemplateElement} */ (\r\n          /** @type {!HTMLElement} */ (this));\r\n      let template = this.template = thisAsTemplate._templateInfo ?\r\n          thisAsTemplate :\r\n          /** @type {!HTMLTemplateElement} */ (this.querySelector('template'));\r\n      if (!template) {\r\n        // Wait until childList changes and template should be there by then\r\n        let observer = new MutationObserver(() => {\r\n          if (this.querySelector('template')) {\r\n            observer.disconnect();\r\n            this.__render();\r\n          } else {\r\n            throw new Error('dom-repeat requires a <template> child');\r\n          }\r\n        });\r\n        observer.observe(this, {childList: true});\r\n        return false;\r\n      }\r\n      // Template instance props that should be excluded from forwarding\r\n      let instanceProps = {};\r\n      instanceProps[this.as] = true;\r\n      instanceProps[this.indexAs] = true;\r\n      instanceProps[this.itemsIndexAs] = true;\r\n      this.__ctor = templatize(template, this, {\r\n        mutableData: this.mutableData,\r\n        parentModel: true,\r\n        instanceProps: instanceProps,\r\n        /**\r\n         * @this {DomRepeat}\r\n         * @param {string} prop Property to set\r\n         * @param {*} value Value to set property to\r\n         */\r\n        forwardHostProp: function(prop, value) {\r\n          let i$ = this.__instances;\r\n          for (let i=0, inst; (i<i$.length) && (inst=i$[i]); i++) {\r\n            inst.forwardHostProp(prop, value);\r\n          }\r\n        },\r\n        /**\r\n         * @this {DomRepeat}\r\n         * @param {Object} inst Instance to notify\r\n         * @param {string} prop Property to notify\r\n         * @param {*} value Value to notify\r\n         */\r\n        notifyInstanceProp: function(inst, prop, value) {\r\n          if (matches(this.as, prop)) {\r\n            let idx = inst[this.itemsIndexAs];\r\n            if (prop == this.as) {\r\n              this.items[idx] = value;\r\n            }\r\n            let path = translate(this.as, `${JSCompiler_renameProperty('items', this)}.${idx}`, prop);\r\n            this.notifyPath(path, value);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    return true;\r\n  }\r\n\r\n  __getMethodHost() {\r\n    // Technically this should be the owner of the outermost template.\r\n    // In shadow dom, this is always getRootNode().host, but we can\r\n    // approximate this via cooperation with our dataHost always setting\r\n    // `_methodHost` as long as there were bindings (or id's) on this\r\n    // instance causing it to get a dataHost.\r\n    return this.__dataHost._methodHost || this.__dataHost;\r\n  }\r\n\r\n  __functionFromPropertyValue(functionOrMethodName) {\r\n    if (typeof functionOrMethodName === 'string') {\r\n      let methodName = functionOrMethodName;\r\n      let obj = this.__getMethodHost();\r\n      return function() { return obj[methodName].apply(obj, arguments); };\r\n    }\r\n\r\n    return functionOrMethodName;\r\n  }\r\n\r\n  __sortChanged(sort) {\r\n    this.__sortFn = this.__functionFromPropertyValue(sort);\r\n    if (this.items) { this.__debounceRender(this.__render); }\r\n  }\r\n\r\n  __filterChanged(filter) {\r\n    this.__filterFn = this.__functionFromPropertyValue(filter);\r\n    if (this.items) { this.__debounceRender(this.__render); }\r\n  }\r\n\r\n  __computeFrameTime(rate) {\r\n    return Math.ceil(1000/rate);\r\n  }\r\n\r\n  __observeChanged() {\r\n    this.__observePaths = this.observe &&\r\n      this.observe.replace('.*', '.').split(' ');\r\n  }\r\n\r\n  __handleObservedPaths(path) {\r\n    // Handle cases where path changes should cause a re-sort/filter\r\n    if (this.__sortFn || this.__filterFn) {\r\n      if (!path) {\r\n        // Always re-render if the item itself changed\r\n        this.__debounceRender(this.__render, this.delay);\r\n      } else if (this.__observePaths) {\r\n        // Otherwise, re-render if the path changed matches an observed path\r\n        let paths = this.__observePaths;\r\n        for (let i=0; i<paths.length; i++) {\r\n          if (path.indexOf(paths[i]) === 0) {\r\n            this.__debounceRender(this.__render, this.delay);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  __itemsChanged(change) {\r\n    if (this.items && !Array.isArray(this.items)) {\r\n      console.warn('dom-repeat expected array for `items`, found', this.items);\r\n    }\r\n    // If path was to an item (e.g. 'items.3' or 'items.3.foo'), forward the\r\n    // path to that instance synchronously (returns false for non-item paths)\r\n    if (!this.__handleItemPath(change.path, change.value)) {\r\n      // Otherwise, the array was reset ('items') or spliced ('items.splices'),\r\n      // so queue a render.  Restart chunking when the items changed (for\r\n      // backward compatibility), unless `reuseChunkedInstances` option is set\r\n      if (change.path === 'items') {\r\n        this.__itemsArrayChanged = true;\r\n      }\r\n      this.__debounceRender(this.__render);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {function(this:DomRepeat)} fn Function to debounce.\r\n   * @param {number=} delay Delay in ms to debounce by.\r\n   */\r\n  __debounceRender(fn, delay = 0) {\r\n    this.__renderDebouncer = Debouncer.debounce(\r\n          this.__renderDebouncer\r\n        , delay > 0 ? timeOut.after(delay) : microTask\r\n        , fn.bind(this));\r\n    enqueueDebouncer(this.__renderDebouncer);\r\n  }\r\n\r\n  /**\r\n   * Forces the element to render its content. Normally rendering is\r\n   * asynchronous to a provoking change. This is done for efficiency so\r\n   * that multiple changes trigger only a single render. The render method\r\n   * should be called if, for example, template rendering is required to\r\n   * validate application state.\r\n   * @return {void}\r\n   */\r\n  render() {\r\n    // Queue this repeater, then flush all in order\r\n    this.__debounceRender(this.__render);\r\n    flush();\r\n  }\r\n\r\n  __render() {\r\n    if (!this.__ensureTemplatized()) {\r\n      // No template found yet\r\n      return;\r\n    }\r\n    let items = this.items || [];\r\n    // Sort and filter the items into a mapping array from instance->item\r\n    const isntIdxToItemsIdx = this.__sortAndFilterItems(items);\r\n    // If we're chunking, increase the limit if there are new instances to\r\n    // create and schedule the next chunk\r\n    const limit = this.__calculateLimit(isntIdxToItemsIdx.length);\r\n    // Create, update, and/or remove instances\r\n    this.__updateInstances(items, limit, isntIdxToItemsIdx);\r\n    // If we're chunking, schedule a rAF task to measure/continue chunking.     \r\n    // Do this before any notifying events (renderedItemCount & dom-change)\r\n    // since those could modify items and enqueue a new full render which will\r\n    // pre-empt this measurement.\r\n    if (this.initialCount &&\r\n       (this.__shouldMeasureChunk || this.__shouldContinueChunking)) {\r\n      cancelAnimationFrame(this.__chunkingId);\r\n      this.__chunkingId = requestAnimationFrame(() => {\r\n        this.__chunkingId = null;\r\n        this.__continueChunking();\r\n      });\r\n    }\r\n    // Set rendered item count\r\n    this._setRenderedItemCount(this.__instances.length);\r\n    // Notify users\r\n    if (!suppressTemplateNotifications || this.notifyDomChange) {\r\n      this.dispatchEvent(new CustomEvent('dom-change', {\r\n        bubbles: true,\r\n        composed: true\r\n      }));\r\n    }\r\n  }\r\n\r\n  __sortAndFilterItems(items) {\r\n    // Generate array maping the instance index to the items array index\r\n    let isntIdxToItemsIdx = new Array(items.length);\r\n    for (let i=0; i<items.length; i++) {\r\n      isntIdxToItemsIdx[i] = i;\r\n    }\r\n    // Apply user filter\r\n    if (this.__filterFn) {\r\n      isntIdxToItemsIdx = isntIdxToItemsIdx.filter((i, idx, array) =>\r\n        this.__filterFn(items[i], idx, array));\r\n    }\r\n    // Apply user sort\r\n    if (this.__sortFn) {\r\n      isntIdxToItemsIdx.sort((a, b) => this.__sortFn(items[a], items[b]));\r\n    }\r\n    return isntIdxToItemsIdx;\r\n  }\r\n\r\n  __calculateLimit(filteredItemCount) {\r\n    let limit = filteredItemCount;\r\n    const currentCount = this.__instances.length;\r\n    // When chunking, we increase the limit from the currently rendered count\r\n    // by the chunk count that is re-calculated after each rAF (with special\r\n    // cases for resetting the limit to initialCount after changing items)\r\n    if (this.initialCount) {\r\n      let newCount;\r\n      if (!this.__chunkCount ||\r\n        (this.__itemsArrayChanged && !this.reuseChunkedInstances)) {\r\n        // Limit next render to the initial count\r\n        limit = Math.min(filteredItemCount, this.initialCount);\r\n        // Subtract off any existing instances to determine the number of\r\n        // instances that will be created\r\n        newCount = Math.max(limit - currentCount, 0);\r\n        // Initialize the chunk size with how many items we're creating\r\n        this.__chunkCount = newCount || 1;\r\n      } else {\r\n        // The number of new instances that will be created is based on the\r\n        // existing instances, the new list size, and the chunk size\r\n        newCount = Math.min(\r\n          Math.max(filteredItemCount - currentCount, 0), \r\n          this.__chunkCount);\r\n        // Update the limit based on how many new items we're making, limited\r\n        // buy the total size of the list\r\n        limit = Math.min(currentCount + newCount, filteredItemCount);\r\n      }\r\n      // Record some state about chunking for use in `__continueChunking`\r\n      this.__shouldMeasureChunk = newCount === this.__chunkCount;\r\n      this.__shouldContinueChunking = limit < filteredItemCount;\r\n      this.__renderStartTime = performance.now();\r\n    }\r\n    this.__itemsArrayChanged = false;\r\n    return limit;\r\n  }\r\n\r\n  __continueChunking() {\r\n    // Simple auto chunkSize throttling algorithm based on feedback loop:\r\n    // measure actual time between frames and scale chunk count by ratio of\r\n    // target/actual frame time.  Only modify chunk size if our measurement\r\n    // reflects the cost of a creating a full chunk's worth of instances; this\r\n    // avoids scaling up the chunk size if we e.g. quickly re-rendered instances\r\n    // in place\r\n    if (this.__shouldMeasureChunk) {\r\n      const renderTime = performance.now() - this.__renderStartTime;\r\n      const ratio = this._targetFrameTime / renderTime;\r\n      this.__chunkCount = Math.round(this.__chunkCount * ratio) || 1;\r\n    }\r\n    // Enqueue a new render if we haven't reached the full size of the list\r\n    if (this.__shouldContinueChunking) {\r\n      this.__debounceRender(this.__render);\r\n    }\r\n  }\r\n  \r\n  __updateInstances(items, limit, isntIdxToItemsIdx) {\r\n    // items->inst map kept for item path forwarding\r\n    const itemsIdxToInstIdx = this.__itemsIdxToInstIdx = {};\r\n    let instIdx;\r\n    // Generate instances and assign items\r\n    for (instIdx=0; instIdx<limit; instIdx++) {\r\n      let inst = this.__instances[instIdx];\r\n      let itemIdx = isntIdxToItemsIdx[instIdx];\r\n      let item = items[itemIdx];\r\n      itemsIdxToInstIdx[itemIdx] = instIdx;\r\n      if (inst) {\r\n        inst._setPendingProperty(this.as, item);\r\n        inst._setPendingProperty(this.indexAs, instIdx);\r\n        inst._setPendingProperty(this.itemsIndexAs, itemIdx);\r\n        inst._flushProperties();\r\n      } else {\r\n        this.__insertInstance(item, instIdx, itemIdx);\r\n      }\r\n    }\r\n    // Remove any extra instances from previous state\r\n    for (let i=this.__instances.length-1; i>=instIdx; i--) {\r\n      this.__detachAndRemoveInstance(i);\r\n    }\r\n  }\r\n\r\n  __detachInstance(idx) {\r\n    let inst = this.__instances[idx];\r\n    const wrappedRoot = wrap(inst.root);\r\n    for (let i=0; i<inst.children.length; i++) {\r\n      let el = inst.children[i];\r\n      wrappedRoot.appendChild(el);\r\n    }\r\n    return inst;\r\n  }\r\n\r\n  __attachInstance(idx, parent) {\r\n    let inst = this.__instances[idx];\r\n    // Note, this is pre-wrapped as an optimization\r\n    parent.insertBefore(inst.root, this);\r\n  }\r\n\r\n  __detachAndRemoveInstance(idx) {\r\n    this.__detachInstance(idx);\r\n    this.__instances.splice(idx, 1);\r\n  }\r\n\r\n  __stampInstance(item, instIdx, itemIdx) {\r\n    let model = {};\r\n    model[this.as] = item;\r\n    model[this.indexAs] = instIdx;\r\n    model[this.itemsIndexAs] = itemIdx;\r\n    return new this.__ctor(model);\r\n  }\r\n\r\n  __insertInstance(item, instIdx, itemIdx) {\r\n    const inst = this.__stampInstance(item, instIdx, itemIdx);\r\n    let beforeRow = this.__instances[instIdx + 1];\r\n    let beforeNode = beforeRow ? beforeRow.children[0] : this;\r\n    wrap(wrap(this).parentNode).insertBefore(inst.root, beforeNode);\r\n    this.__instances[instIdx] = inst;\r\n    return inst;\r\n  }\r\n\r\n  // Implements extension point from Templatize mixin\r\n  /**\r\n   * Shows or hides the template instance top level child elements. For\r\n   * text nodes, `textContent` is removed while \"hidden\" and replaced when\r\n   * \"shown.\"\r\n   * @param {boolean} hidden Set to true to hide the children;\r\n   * set to false to show them.\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  _showHideChildren(hidden) {\r\n    for (let i=0; i<this.__instances.length; i++) {\r\n      this.__instances[i]._showHideChildren(hidden);\r\n    }\r\n  }\r\n\r\n  // Called as a side effect of a host items.<key>.<path> path change,\r\n  // responsible for notifying item.<path> changes to inst for key\r\n  __handleItemPath(path, value) {\r\n    let itemsPath = path.slice(6); // 'items.'.length == 6\r\n    let dot = itemsPath.indexOf('.');\r\n    let itemsIdx = dot < 0 ? itemsPath : itemsPath.substring(0, dot);\r\n    // If path was index into array...\r\n    if (itemsIdx == parseInt(itemsIdx, 10)) {\r\n      let itemSubPath = dot < 0 ? '' : itemsPath.substring(dot+1);\r\n      // If the path is observed, it will trigger a full refresh\r\n      this.__handleObservedPaths(itemSubPath);\r\n      // Note, even if a rull refresh is triggered, always do the path\r\n      // notification because unless mutableData is used for dom-repeat\r\n      // and all elements in the instance subtree, a full refresh may\r\n      // not trigger the proper update.\r\n      let instIdx = this.__itemsIdxToInstIdx[itemsIdx];\r\n      let inst = this.__instances[instIdx];\r\n      if (inst) {\r\n        let itemPath = this.as + (itemSubPath ? '.' + itemSubPath : '');\r\n        // This is effectively `notifyPath`, but avoids some of the overhead\r\n        // of the public API\r\n        inst._setPendingPropertyOrPath(itemPath, value, false, true);\r\n        inst._flushProperties();\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Returns the item associated with a given element stamped by\r\n   * this `dom-repeat`.\r\n   *\r\n   * Note, to modify sub-properties of the item,\r\n   * `modelForElement(el).set('item.<sub-prop>', value)`\r\n   * should be used.\r\n   *\r\n   * @param {!HTMLElement} el Element for which to return the item.\r\n   * @return {*} Item associated with the element.\r\n   */\r\n  itemForElement(el) {\r\n    let instance = this.modelForElement(el);\r\n    return instance && instance[this.as];\r\n  }\r\n\r\n  /**\r\n   * Returns the inst index for a given element stamped by this `dom-repeat`.\r\n   * If `sort` is provided, the index will reflect the sorted order (rather\r\n   * than the original array order).\r\n   *\r\n   * @param {!HTMLElement} el Element for which to return the index.\r\n   * @return {?number} Row index associated with the element (note this may\r\n   *   not correspond to the array index if a user `sort` is applied).\r\n   */\r\n  indexForElement(el) {\r\n    let instance = this.modelForElement(el);\r\n    return instance && instance[this.indexAs];\r\n  }\r\n\r\n  /**\r\n   * Returns the template \"model\" associated with a given element, which\r\n   * serves as the binding scope for the template instance the element is\r\n   * contained in. A template model\r\n   * should be used to manipulate data associated with this template instance.\r\n   *\r\n   * Example:\r\n   *\r\n   *   let model = modelForElement(el);\r\n   *   if (model.index < 10) {\r\n   *     model.set('item.checked', true);\r\n   *   }\r\n   *\r\n   * @param {!HTMLElement} el Element for which to return a template model.\r\n   * @return {TemplateInstanceBase} Model representing the binding scope for\r\n   *   the element.\r\n   */\r\n  modelForElement(el) {\r\n    return modelForElement(this.template, el);\r\n  }\r\n\r\n}\r\n\r\ncustomElements.define(DomRepeat.is, DomRepeat);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { FocusMixin } from '@vaadin/a11y-base/src/focus-mixin.js';\r\nimport { addListener } from '@vaadin/component-base/src/gestures.js';\r\nimport { dateAllowed, dateEquals, getISOWeekNumber, normalizeDate } from './vaadin-date-picker-helper.js';\r\n\r\n/**\r\n * @polymerMixin\r\n * @mixes FocusMixin\r\n */\r\nexport const MonthCalendarMixin = (superClass) =>\r\n  class MonthCalendarMixinClass extends FocusMixin(superClass) {\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * A `Date` object defining the month to be displayed. Only year and\r\n         * month properties are actually used.\r\n         */\r\n        month: {\r\n          type: Object,\r\n          value: new Date(),\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * A `Date` object for the currently selected date.\r\n         */\r\n        selectedDate: {\r\n          type: Object,\r\n          notify: true,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * A `Date` object for the currently focused date.\r\n         */\r\n        focusedDate: {\r\n          type: Object,\r\n        },\r\n\r\n        /**\r\n         * Set true to display ISO-8601 week numbers in the calendar. Notice that\r\n         * displaying week numbers is only supported when `i18n.firstDayOfWeek`\r\n         * is 1 (Monday).\r\n         */\r\n        showWeekNumbers: {\r\n          type: Boolean,\r\n          value: false,\r\n        },\r\n\r\n        i18n: {\r\n          type: Object,\r\n        },\r\n\r\n        /**\r\n         * Flag stating whether taps on the component should be ignored.\r\n         */\r\n        ignoreTaps: {\r\n          type: Boolean,\r\n        },\r\n\r\n        /**\r\n         * The earliest date that can be selected. All earlier dates will be disabled.\r\n         */\r\n        minDate: {\r\n          type: Date,\r\n          value: null,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * The latest date that can be selected. All later dates will be disabled.\r\n         */\r\n        maxDate: {\r\n          type: Date,\r\n          value: null,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * A function to be used to determine whether the user can select a given date.\r\n         * Receives a `DatePickerDate` object of the date to be selected and should return a\r\n         * boolean.\r\n         * @type {Function | undefined}\r\n         */\r\n        isDateDisabled: {\r\n          type: Function,\r\n          value: () => false,\r\n        },\r\n\r\n        enteredDate: {\r\n          type: Date,\r\n        },\r\n\r\n        disabled: {\r\n          type: Boolean,\r\n          reflectToAttribute: true,\r\n          computed: '__computeDisabled(month, minDate, maxDate)',\r\n        },\r\n\r\n        /** @protected */\r\n        _days: {\r\n          type: Array,\r\n          computed: '__computeDays(month, i18n, minDate, maxDate, isDateDisabled)',\r\n        },\r\n\r\n        /** @protected */\r\n        _weeks: {\r\n          type: Array,\r\n          computed: '__computeWeeks(_days)',\r\n        },\r\n\r\n        /** @private */\r\n        _notTapping: {\r\n          type: Boolean,\r\n        },\r\n\r\n        /** @private */\r\n        __hasFocus: {\r\n          type: Boolean,\r\n        },\r\n      };\r\n    }\r\n\r\n    static get observers() {\r\n      return ['__focusedDateChanged(focusedDate, _days)', '_showWeekNumbersChanged(showWeekNumbers, i18n)'];\r\n    }\r\n\r\n    get focusableDateElement() {\r\n      return [...this.shadowRoot.querySelectorAll('[part~=date]')].find((datePart) => {\r\n        return dateEquals(datePart.date, this.focusedDate);\r\n      });\r\n    }\r\n\r\n    /** @protected */\r\n    ready() {\r\n      super.ready();\r\n      addListener(this.$.monthGrid, 'tap', this._handleTap.bind(this));\r\n    }\r\n\r\n    /** @override */\r\n    _setFocused(focused) {\r\n      super._setFocused(focused);\r\n      this.__hasFocus = focused;\r\n    }\r\n\r\n    /**\r\n     * Returns true if all the dates in the month are out of the allowed range\r\n     * @protected\r\n     */\r\n    __computeDisabled(month, minDate, maxDate) {\r\n      // First day of the month\r\n      const firstDate = new Date(0, 0);\r\n      firstDate.setFullYear(month.getFullYear());\r\n      firstDate.setMonth(month.getMonth());\r\n      firstDate.setDate(1);\r\n\r\n      // Last day of the month\r\n      const lastDate = new Date(0, 0);\r\n      lastDate.setFullYear(month.getFullYear());\r\n      lastDate.setMonth(month.getMonth() + 1);\r\n      lastDate.setDate(0);\r\n\r\n      if (\r\n        minDate &&\r\n        maxDate &&\r\n        minDate.getMonth() === maxDate.getMonth() &&\r\n        minDate.getMonth() === month.getMonth() &&\r\n        maxDate.getDate() - minDate.getDate() >= 0\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      return !dateAllowed(firstDate, minDate, maxDate) && !dateAllowed(lastDate, minDate, maxDate);\r\n    }\r\n\r\n    /** @protected */\r\n    _getTitle(month, i18n) {\r\n      if (month === undefined || i18n === undefined) {\r\n        return;\r\n      }\r\n      return i18n.formatTitle(i18n.monthNames[month.getMonth()], month.getFullYear());\r\n    }\r\n\r\n    /** @protected */\r\n    _onMonthGridTouchStart() {\r\n      this._notTapping = false;\r\n      setTimeout(() => {\r\n        this._notTapping = true;\r\n      }, 300);\r\n    }\r\n\r\n    /** @private */\r\n    _dateAdd(date, delta) {\r\n      date.setDate(date.getDate() + delta);\r\n    }\r\n\r\n    /** @private */\r\n    _applyFirstDayOfWeek(weekDayNames, firstDayOfWeek) {\r\n      if (weekDayNames === undefined || firstDayOfWeek === undefined) {\r\n        return;\r\n      }\r\n\r\n      return weekDayNames.slice(firstDayOfWeek).concat(weekDayNames.slice(0, firstDayOfWeek));\r\n    }\r\n\r\n    /** @protected */\r\n    __computeWeekDayNames(i18n, showWeekNumbers) {\r\n      if (i18n === undefined || showWeekNumbers === undefined) {\r\n        return [];\r\n      }\r\n      const { weekdays, weekdaysShort, firstDayOfWeek } = i18n;\r\n\r\n      const weekDayNamesShort = this._applyFirstDayOfWeek(weekdaysShort, firstDayOfWeek);\r\n      const weekDayNames = this._applyFirstDayOfWeek(weekdays, firstDayOfWeek);\r\n\r\n      return weekDayNames\r\n        .map((day, index) => {\r\n          return {\r\n            weekDay: day,\r\n            weekDayShort: weekDayNamesShort[index],\r\n          };\r\n        })\r\n        .slice(0, 7);\r\n    }\r\n\r\n    /** @private */\r\n    __focusedDateChanged(focusedDate, days) {\r\n      if (Array.isArray(days) && days.some((date) => dateEquals(date, focusedDate))) {\r\n        this.removeAttribute('aria-hidden');\r\n      } else {\r\n        this.setAttribute('aria-hidden', 'true');\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _getDate(date) {\r\n      return date ? date.getDate() : '';\r\n    }\r\n\r\n    /** @protected */\r\n    __computeShowWeekSeparator(showWeekNumbers, i18n) {\r\n      // Currently only supported for locales that start the week on Monday.\r\n      return showWeekNumbers && i18n && i18n.firstDayOfWeek === 1;\r\n    }\r\n\r\n    /** @protected */\r\n    _isToday(date) {\r\n      return dateEquals(new Date(), date);\r\n    }\r\n\r\n    /** @protected */\r\n    __computeDays(month, i18n) {\r\n      if (month === undefined || i18n === undefined) {\r\n        return [];\r\n      }\r\n      // First day of the month (at midnight).\r\n      const date = new Date(0, 0);\r\n      date.setFullYear(month.getFullYear());\r\n      date.setMonth(month.getMonth());\r\n      date.setDate(1);\r\n\r\n      // Rewind to first day of the week.\r\n      while (date.getDay() !== i18n.firstDayOfWeek) {\r\n        this._dateAdd(date, -1);\r\n      }\r\n\r\n      const days = [];\r\n      const startMonth = date.getMonth();\r\n      const targetMonth = month.getMonth();\r\n      while (date.getMonth() === targetMonth || date.getMonth() === startMonth) {\r\n        days.push(date.getMonth() === targetMonth ? new Date(date.getTime()) : null);\r\n\r\n        // Advance to next day.\r\n        this._dateAdd(date, 1);\r\n      }\r\n      return days;\r\n    }\r\n\r\n    /** @protected */\r\n    __computeWeeks(days) {\r\n      return days.reduce((acc, day, i) => {\r\n        if (i % 7 === 0) {\r\n          acc.push([]);\r\n        }\r\n        acc[acc.length - 1].push(day);\r\n        return acc;\r\n      }, []);\r\n    }\r\n\r\n    /** @protected */\r\n    _handleTap(e) {\r\n      if (!this.ignoreTaps && !this._notTapping && e.target.date && !e.target.hasAttribute('disabled')) {\r\n        this.selectedDate = e.target.date;\r\n        this.dispatchEvent(\r\n          new CustomEvent('date-tap', { detail: { date: e.target.date }, bubbles: true, composed: true }),\r\n        );\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _preventDefault(e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    /** @protected */\r\n    __computeWeekNumber(days) {\r\n      const date = days.reduce((acc, d) => {\r\n        return !acc && d ? d : acc;\r\n      });\r\n\r\n      return getISOWeekNumber(date);\r\n    }\r\n\r\n    /** @protected */\r\n    __computeDayAriaLabel(date) {\r\n      if (!date) {\r\n        return '';\r\n      }\r\n\r\n      let ariaLabel = `${this._getDate(date)} ${this.i18n.monthNames[date.getMonth()]} ${date.getFullYear()}, ${\r\n        this.i18n.weekdays[date.getDay()]\r\n      }`;\r\n\r\n      if (this._isToday(date)) {\r\n        ariaLabel += `, ${this.i18n.today}`;\r\n      }\r\n\r\n      return ariaLabel;\r\n    }\r\n\r\n    /** @private */\r\n    _showWeekNumbersChanged(showWeekNumbers, i18n) {\r\n      if (this.__computeShowWeekSeparator(showWeekNumbers, i18n)) {\r\n        this.setAttribute('week-numbers', '');\r\n      } else {\r\n        this.removeAttribute('week-numbers');\r\n      }\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/max-params\r\n    __computeDatePart(date, focusedDate, selectedDate, minDate, maxDate, isDateDisabled, enteredDate, hasFocus) {\r\n      const result = ['date'];\r\n\r\n      if (this.__isDayDisabled(date, minDate, maxDate, isDateDisabled)) {\r\n        result.push('disabled');\r\n      }\r\n\r\n      if (dateEquals(date, focusedDate) && (hasFocus || dateEquals(date, enteredDate))) {\r\n        result.push('focused');\r\n      }\r\n\r\n      if (this.__isDaySelected(date, selectedDate)) {\r\n        result.push('selected');\r\n      }\r\n\r\n      if (this._isToday(date)) {\r\n        result.push('today');\r\n      }\r\n\r\n      if (date < normalizeDate(new Date())) {\r\n        result.push('past');\r\n      }\r\n\r\n      if (date > normalizeDate(new Date())) {\r\n        result.push('future');\r\n      }\r\n\r\n      return result.join(' ');\r\n    }\r\n\r\n    /** @private */\r\n    __isDaySelected(date, selectedDate) {\r\n      return dateEquals(date, selectedDate);\r\n    }\r\n\r\n    /** @private */\r\n    __computeDayAriaSelected(date, selectedDate) {\r\n      return String(this.__isDaySelected(date, selectedDate));\r\n    }\r\n\r\n    /** @private */\r\n    __isDayDisabled(date, minDate, maxDate, isDateDisabled) {\r\n      return !dateAllowed(date, minDate, maxDate, isDateDisabled);\r\n    }\r\n\r\n    /** @private */\r\n    __computeDayAriaDisabled(date, min, max, isDateDisabled) {\r\n      if (date === undefined || (min === undefined && max === undefined && isDateDisabled === undefined)) {\r\n        return 'false';\r\n      }\r\n\r\n      return String(this.__isDayDisabled(date, min, max, isDateDisabled));\r\n    }\r\n\r\n    /** @private */\r\n    __computeDayTabIndex(date, focusedDate) {\r\n      return dateEquals(date, focusedDate) ? '0' : '-1';\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { css } from 'lit';\r\n\r\nexport const monthCalendarStyles = css`\r\n  :host {\r\n    display: block;\r\n  }\r\n\r\n  #monthGrid {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n  }\r\n\r\n  #days-container tr,\r\n  #weekdays-container tr {\r\n    display: flex;\r\n  }\r\n\r\n  [part~='date'] {\r\n    outline: none;\r\n  }\r\n\r\n  [part~='disabled'] {\r\n    pointer-events: none;\r\n  }\r\n\r\n  [part='week-number'][hidden],\r\n  [part='weekday'][hidden] {\r\n    display: none;\r\n  }\r\n\r\n  [part='weekday'],\r\n  [part~='date'] {\r\n    width: calc(100% / 7);\r\n    padding: 0;\r\n    font-weight: normal;\r\n  }\r\n\r\n  [part='weekday']:empty,\r\n  [part='week-number'] {\r\n    width: 12.5%;\r\n    flex-shrink: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  :host([week-numbers]) [part='weekday']:not(:empty),\r\n  :host([week-numbers]) [part~='date'] {\r\n    width: 12.5%;\r\n  }\r\n\r\n  @media (forced-colors: active) {\r\n    [part~='date'][part~='focused'] {\r\n      outline: 1px solid;\r\n    }\r\n\r\n    [part~='date'][part~='selected'] {\r\n      outline: 3px solid;\r\n    }\r\n  }\r\n`;\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport '@polymer/polymer/lib/elements/dom-repeat.js';\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { MonthCalendarMixin } from './vaadin-month-calendar-mixin.js';\r\nimport { monthCalendarStyles } from './vaadin-month-calendar-styles.js';\r\n\r\nregisterStyles('vaadin-month-calendar', monthCalendarStyles, {\r\n  moduleId: 'vaadin-month-calendar-styles',\r\n});\r\n\r\n/**\r\n * @customElement\r\n * @extends HTMLElement\r\n * @private\r\n */\r\nclass MonthCalendar extends MonthCalendarMixin(ThemableMixin(PolymerElement)) {\r\n  static get template() {\r\n    return html`\r\n      <div part=\"month-header\" id=\"month-header\" aria-hidden=\"true\">[[_getTitle(month, i18n)]]</div>\r\n      <table\r\n        id=\"monthGrid\"\r\n        role=\"grid\"\r\n        aria-labelledby=\"month-header\"\r\n        on-touchend=\"_preventDefault\"\r\n        on-touchstart=\"_onMonthGridTouchStart\"\r\n      >\r\n        <thead id=\"weekdays-container\">\r\n          <tr role=\"row\" part=\"weekdays\">\r\n            <th part=\"weekday\" aria-hidden=\"true\" hidden$=\"[[!__computeShowWeekSeparator(showWeekNumbers, i18n)]]\"></th>\r\n            <template is=\"dom-repeat\" items=\"[[__computeWeekDayNames(i18n, showWeekNumbers)]]\">\r\n              <th role=\"columnheader\" part=\"weekday\" scope=\"col\" abbr$=\"[[item.weekDay]]\" aria-hidden=\"true\">\r\n                [[item.weekDayShort]]\r\n              </th>\r\n            </template>\r\n          </tr>\r\n        </thead>\r\n        <tbody id=\"days-container\">\r\n          <template is=\"dom-repeat\" items=\"[[_weeks]]\" as=\"week\">\r\n            <tr role=\"row\">\r\n              <td\r\n                part=\"week-number\"\r\n                aria-hidden=\"true\"\r\n                hidden$=\"[[!__computeShowWeekSeparator(showWeekNumbers, i18n)]]\"\r\n              >\r\n                [[__computeWeekNumber(week)]]\r\n              </td>\r\n              <template is=\"dom-repeat\" items=\"[[week]]\">\r\n                <td\r\n                  role=\"gridcell\"\r\n                  part$=\"[[__computeDatePart(item, focusedDate, selectedDate, minDate, maxDate, isDateDisabled, enteredDate, __hasFocus)]]\"\r\n                  date=\"[[item]]\"\r\n                  tabindex$=\"[[__computeDayTabIndex(item, focusedDate)]]\"\r\n                  disabled$=\"[[__isDayDisabled(item, minDate, maxDate, isDateDisabled)]]\"\r\n                  aria-selected$=\"[[__computeDayAriaSelected(item, selectedDate)]]\"\r\n                  aria-disabled$=\"[[__computeDayAriaDisabled(item, minDate, maxDate, isDateDisabled)]]\"\r\n                  aria-label$=\"[[__computeDayAriaLabel(item)]]\"\r\n                  >[[_getDate(item)]]</td\r\n                >\r\n              </template>\r\n            </tr>\r\n          </template>\r\n        </tbody>\r\n      </table>\r\n    `;\r\n  }\r\n\r\n  static get is() {\r\n    return 'vaadin-month-calendar';\r\n  }\r\n}\r\n\r\ndefineCustomElement(MonthCalendar);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { flush } from '@polymer/polymer/lib/utils/flush.js';\r\nimport { afterNextRender } from '@polymer/polymer/lib/utils/render-status.js';\r\nimport { timeOut } from '@vaadin/component-base/src/async.js';\r\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\r\nimport { addListener, setTouchAction } from '@vaadin/component-base/src/gestures.js';\r\nimport { MediaQueryController } from '@vaadin/component-base/src/media-query-controller.js';\r\nimport { SlotController } from '@vaadin/component-base/src/slot-controller.js';\r\nimport {\r\n  dateAfterXMonths,\r\n  dateAllowed,\r\n  dateEquals,\r\n  extractDateParts,\r\n  getClosestDate,\r\n} from './vaadin-date-picker-helper.js';\r\n\r\n/**\r\n * @polymerMixin\r\n */\r\nexport const DatePickerOverlayContentMixin = (superClass) =>\r\n  class DatePickerOverlayContentMixin extends superClass {\r\n    static get properties() {\r\n      return {\r\n        scrollDuration: {\r\n          type: Number,\r\n          value: 300,\r\n        },\r\n\r\n        /**\r\n         * The value for this element.\r\n         */\r\n        selectedDate: {\r\n          type: Object,\r\n          value: null,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * Date value which is focused using keyboard.\r\n         */\r\n        focusedDate: {\r\n          type: Object,\r\n          notify: true,\r\n          observer: '_focusedDateChanged',\r\n          sync: true,\r\n        },\r\n\r\n        _focusedMonthDate: Number,\r\n\r\n        /**\r\n         * Date which should be visible when there is no value selected.\r\n         */\r\n        initialPosition: {\r\n          type: Object,\r\n          observer: '_initialPositionChanged',\r\n          sync: true,\r\n        },\r\n\r\n        _originDate: {\r\n          type: Object,\r\n          value: new Date(),\r\n        },\r\n\r\n        _visibleMonthIndex: Number,\r\n\r\n        _desktopMode: {\r\n          type: Boolean,\r\n          observer: '_desktopModeChanged',\r\n        },\r\n\r\n        _desktopMediaQuery: {\r\n          type: String,\r\n          value: '(min-width: 375px)',\r\n        },\r\n\r\n        _translateX: {\r\n          observer: '_translateXChanged',\r\n        },\r\n\r\n        _yearScrollerWidth: {\r\n          value: 50,\r\n        },\r\n\r\n        i18n: {\r\n          type: Object,\r\n        },\r\n\r\n        showWeekNumbers: {\r\n          type: Boolean,\r\n          value: false,\r\n        },\r\n\r\n        _ignoreTaps: Boolean,\r\n\r\n        _notTapping: Boolean,\r\n\r\n        /**\r\n         * The earliest date that can be selected. All earlier dates will be disabled.\r\n         */\r\n        minDate: {\r\n          type: Object,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * The latest date that can be selected. All later dates will be disabled.\r\n         */\r\n        maxDate: {\r\n          type: Object,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * A function to be used to determine whether the user can select a given date.\r\n         * Receives a `DatePickerDate` object of the date to be selected and should return a\r\n         * boolean.\r\n         *\r\n         * @type {function(DatePickerDate): boolean | undefined}\r\n         */\r\n        isDateDisabled: {\r\n          type: Function,\r\n        },\r\n\r\n        enteredDate: {\r\n          type: Date,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * Input label\r\n         */\r\n        label: String,\r\n\r\n        _cancelButton: {\r\n          type: Object,\r\n        },\r\n\r\n        _todayButton: {\r\n          type: Object,\r\n        },\r\n\r\n        calendars: {\r\n          type: Array,\r\n          value: () => [],\r\n        },\r\n\r\n        years: {\r\n          type: Array,\r\n          value: () => [],\r\n        },\r\n      };\r\n    }\r\n\r\n    static get observers() {\r\n      return [\r\n        '__updateCalendars(calendars, i18n, minDate, maxDate, selectedDate, focusedDate, showWeekNumbers, _ignoreTaps, _theme, isDateDisabled, enteredDate)',\r\n        '__updateCancelButton(_cancelButton, i18n)',\r\n        '__updateTodayButton(_todayButton, i18n, minDate, maxDate, isDateDisabled)',\r\n        '__updateYears(years, selectedDate, _theme)',\r\n      ];\r\n    }\r\n\r\n    /**\r\n     * Whether to scroll to a sub-month position when scrolling to a date.\r\n     * This is active if the month scroller is not large enough to fit a\r\n     * full month. In that case we want to scroll to a position between\r\n     * two months in order to have the focused date in the visible area.\r\n     * @returns {boolean} whether to use sub-month scrolling\r\n     * @private\r\n     */\r\n    get __useSubMonthScrolling() {\r\n      return this._monthScroller.clientHeight < this._monthScroller.itemHeight + this._monthScroller.bufferOffset;\r\n    }\r\n\r\n    get focusableDateElement() {\r\n      return this.calendars.map((calendar) => calendar.focusableDateElement).find(Boolean);\r\n    }\r\n\r\n    /** @protected */\r\n    _addListeners() {\r\n      setTouchAction(this.$.scrollers, 'pan-y');\r\n\r\n      addListener(this.$.scrollers, 'track', this._track.bind(this));\r\n      addListener(this.shadowRoot.querySelector('[part=\"clear-button\"]'), 'tap', this._clear.bind(this));\r\n      addListener(this.shadowRoot.querySelector('[part=\"toggle-button\"]'), 'tap', this._cancel.bind(this));\r\n      addListener(\r\n        this.shadowRoot.querySelector('[part=\"years-toggle-button\"]'),\r\n        'tap',\r\n        this._toggleYearScroller.bind(this),\r\n      );\r\n    }\r\n\r\n    /** @protected */\r\n    _initControllers() {\r\n      this.addController(\r\n        new MediaQueryController(this._desktopMediaQuery, (matches) => {\r\n          this._desktopMode = matches;\r\n        }),\r\n      );\r\n\r\n      this.addController(\r\n        new SlotController(this, 'today-button', 'vaadin-button', {\r\n          observe: false,\r\n          initializer: (btn) => {\r\n            btn.setAttribute('theme', 'tertiary');\r\n            btn.addEventListener('keydown', (e) => this.__onTodayButtonKeyDown(e));\r\n            addListener(btn, 'tap', this._onTodayTap.bind(this));\r\n            this._todayButton = btn;\r\n          },\r\n        }),\r\n      );\r\n\r\n      this.addController(\r\n        new SlotController(this, 'cancel-button', 'vaadin-button', {\r\n          observe: false,\r\n          initializer: (btn) => {\r\n            btn.setAttribute('theme', 'tertiary');\r\n            btn.addEventListener('keydown', (e) => this.__onCancelButtonKeyDown(e));\r\n            addListener(btn, 'tap', this._cancel.bind(this));\r\n            this._cancelButton = btn;\r\n          },\r\n        }),\r\n      );\r\n\r\n      this.__initMonthScroller();\r\n      this.__initYearScroller();\r\n    }\r\n\r\n    reset() {\r\n      this._closeYearScroller();\r\n      this._toggleAnimateClass(true);\r\n    }\r\n\r\n    /**\r\n     * Focuses the cancel button\r\n     */\r\n    focusCancel() {\r\n      this._cancelButton.focus();\r\n    }\r\n\r\n    /**\r\n     * Scrolls the list to the given Date.\r\n     */\r\n    scrollToDate(date, animate) {\r\n      const offset = this.__useSubMonthScrolling ? this._calculateWeekScrollOffset(date) : 0;\r\n      this._scrollToPosition(this._differenceInMonths(date, this._originDate) + offset, animate);\r\n      this._monthScroller.forceUpdate();\r\n    }\r\n\r\n    /** @private */\r\n    __initMonthScroller() {\r\n      this.addController(\r\n        new SlotController(this, 'months', 'vaadin-date-picker-month-scroller', {\r\n          observe: false,\r\n          initializer: (scroller) => {\r\n            scroller.addEventListener('custom-scroll', () => {\r\n              this._onMonthScroll();\r\n            });\r\n\r\n            scroller.addEventListener('touchstart', () => {\r\n              this._onMonthScrollTouchStart();\r\n            });\r\n\r\n            scroller.addEventListener('keydown', (e) => {\r\n              this.__onMonthCalendarKeyDown(e);\r\n            });\r\n\r\n            scroller.addEventListener('init-done', () => {\r\n              const calendars = [...this.querySelectorAll('vaadin-month-calendar')];\r\n\r\n              // Two-way binding for selectedDate property\r\n              calendars.forEach((calendar) => {\r\n                calendar.addEventListener('selected-date-changed', (e) => {\r\n                  this.selectedDate = e.detail.value;\r\n                });\r\n              });\r\n\r\n              this.calendars = calendars;\r\n            });\r\n\r\n            this._monthScroller = scroller;\r\n          },\r\n        }),\r\n      );\r\n    }\r\n\r\n    /** @private */\r\n    __initYearScroller() {\r\n      this.addController(\r\n        new SlotController(this, 'years', 'vaadin-date-picker-year-scroller', {\r\n          observe: false,\r\n          initializer: (scroller) => {\r\n            scroller.setAttribute('aria-hidden', 'true');\r\n\r\n            addListener(scroller, 'tap', (e) => {\r\n              this._onYearTap(e);\r\n            });\r\n\r\n            scroller.addEventListener('custom-scroll', () => {\r\n              this._onYearScroll();\r\n            });\r\n\r\n            scroller.addEventListener('touchstart', () => {\r\n              this._onYearScrollTouchStart();\r\n            });\r\n\r\n            scroller.addEventListener('init-done', () => {\r\n              this.years = [...this.querySelectorAll('vaadin-date-picker-year')];\r\n            });\r\n\r\n            this._yearScroller = scroller;\r\n          },\r\n        }),\r\n      );\r\n    }\r\n\r\n    /** @private */\r\n    __updateCancelButton(cancelButton, i18n) {\r\n      if (cancelButton) {\r\n        cancelButton.textContent = i18n && i18n.cancel;\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __updateTodayButton(todayButton, i18n, minDate, maxDate, isDateDisabled) {\r\n      if (todayButton) {\r\n        todayButton.textContent = i18n && i18n.today;\r\n        todayButton.disabled = !this._isTodayAllowed(minDate, maxDate, isDateDisabled);\r\n      }\r\n    }\r\n\r\n    // eslint-disable-next-line @typescript-eslint/max-params\r\n    __updateCalendars(\r\n      calendars,\r\n      i18n,\r\n      minDate,\r\n      maxDate,\r\n      selectedDate,\r\n      focusedDate,\r\n      showWeekNumbers,\r\n      ignoreTaps,\r\n      theme,\r\n      isDateDisabled,\r\n      enteredDate,\r\n    ) {\r\n      if (calendars && calendars.length) {\r\n        calendars.forEach((calendar) => {\r\n          calendar.i18n = i18n;\r\n          calendar.minDate = minDate;\r\n          calendar.maxDate = maxDate;\r\n          calendar.isDateDisabled = isDateDisabled;\r\n          calendar.focusedDate = focusedDate;\r\n          calendar.selectedDate = selectedDate;\r\n          calendar.showWeekNumbers = showWeekNumbers;\r\n          calendar.ignoreTaps = ignoreTaps;\r\n          calendar.enteredDate = enteredDate;\r\n\r\n          if (theme) {\r\n            calendar.setAttribute('theme', theme);\r\n          } else {\r\n            calendar.removeAttribute('theme');\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __updateYears(years, selectedDate, theme) {\r\n      if (years && years.length) {\r\n        years.forEach((year) => {\r\n          year.selectedDate = selectedDate;\r\n\r\n          if (theme) {\r\n            year.setAttribute('theme', theme);\r\n          } else {\r\n            year.removeAttribute('theme');\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Select a date and fire event indicating user interaction.\r\n     * @protected\r\n     */\r\n    _selectDate(dateToSelect) {\r\n      if (!this._dateAllowed(dateToSelect)) {\r\n        return false;\r\n      }\r\n      this.selectedDate = dateToSelect;\r\n      this.dispatchEvent(\r\n        new CustomEvent('date-selected', { detail: { date: dateToSelect }, bubbles: true, composed: true }),\r\n      );\r\n      return true;\r\n    }\r\n\r\n    /** @private */\r\n    _desktopModeChanged(desktopMode) {\r\n      this.toggleAttribute('desktop', desktopMode);\r\n    }\r\n\r\n    /** @private */\r\n    _focusedDateChanged(focusedDate) {\r\n      this.revealDate(focusedDate);\r\n    }\r\n\r\n    /**\r\n     * Scrolls the month and year scrollers enough to reveal the given date.\r\n     */\r\n    revealDate(date, animate = true) {\r\n      if (!date) {\r\n        return;\r\n      }\r\n      const diff = this._differenceInMonths(date, this._originDate);\r\n      // If scroll area does not fit the full month, then always scroll with an offset to\r\n      // approximately display the week of the date\r\n      if (this.__useSubMonthScrolling) {\r\n        const offset = this._calculateWeekScrollOffset(date);\r\n        this._scrollToPosition(diff + offset, animate);\r\n        return;\r\n      }\r\n\r\n      // Otherwise determine if we need to scroll to make the month of the date visible\r\n      const scrolledAboveViewport = this._monthScroller.position > diff;\r\n\r\n      const visibleArea = Math.max(\r\n        this._monthScroller.itemHeight,\r\n        this._monthScroller.clientHeight - this._monthScroller.bufferOffset * 2,\r\n      );\r\n      const visibleItems = visibleArea / this._monthScroller.itemHeight;\r\n      const scrolledBelowViewport = this._monthScroller.position + visibleItems - 1 < diff;\r\n\r\n      if (scrolledAboveViewport) {\r\n        this._scrollToPosition(diff, animate);\r\n      } else if (scrolledBelowViewport) {\r\n        this._scrollToPosition(diff - visibleItems + 1, animate);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Calculates an offset to be added to the month scroll position\r\n     * when using sub-month scrolling, in order ensure that the week\r\n     * that the date is in is visible even for small scroll areas.\r\n     * As the month scroller uses a month as minimal scroll unit\r\n     * (a value of `1` equals one month), we can not exactly identify\r\n     * the position of a specific week. This is a best effort\r\n     * implementation based on manual testing.\r\n     * @param date the date for which to calculate the offset\r\n     * @returns {number} the offset\r\n     * @private\r\n     */\r\n    _calculateWeekScrollOffset(date) {\r\n      // Get first day of month\r\n      const temp = new Date(0, 0);\r\n      temp.setFullYear(date.getFullYear());\r\n      temp.setMonth(date.getMonth());\r\n      temp.setDate(1);\r\n      // Determine week (=row index) of date within the month\r\n      let week = 0;\r\n      while (temp.getDate() < date.getDate()) {\r\n        temp.setDate(temp.getDate() + 1);\r\n        if (temp.getDay() === this.i18n.firstDayOfWeek) {\r\n          week += 1;\r\n        }\r\n      }\r\n      // Calculate magic number that approximately keeps the week visible\r\n      return week / 6;\r\n    }\r\n\r\n    /** @private */\r\n    _initialPositionChanged(initialPosition) {\r\n      if (this._monthScroller && this._yearScroller) {\r\n        this._monthScroller.active = true;\r\n        this._yearScroller.active = true;\r\n      }\r\n\r\n      this.scrollToDate(initialPosition);\r\n    }\r\n\r\n    /** @private */\r\n    _repositionYearScroller() {\r\n      const monthPosition = this._monthScroller.position;\r\n      this._visibleMonthIndex = Math.floor(monthPosition);\r\n      this._yearScroller.position = (monthPosition + this._originDate.getMonth()) / 12;\r\n    }\r\n\r\n    /** @private */\r\n    _repositionMonthScroller() {\r\n      this._monthScroller.position = this._yearScroller.position * 12 - this._originDate.getMonth();\r\n      this._visibleMonthIndex = Math.floor(this._monthScroller.position);\r\n    }\r\n\r\n    /** @private */\r\n    _onMonthScroll() {\r\n      this._repositionYearScroller();\r\n      this._doIgnoreTaps();\r\n    }\r\n\r\n    /** @private */\r\n    _onYearScroll() {\r\n      this._repositionMonthScroller();\r\n      this._doIgnoreTaps();\r\n    }\r\n\r\n    /** @private */\r\n    _onYearScrollTouchStart() {\r\n      this._notTapping = false;\r\n      setTimeout(() => {\r\n        this._notTapping = true;\r\n      }, 300);\r\n\r\n      this._repositionMonthScroller();\r\n    }\r\n\r\n    /** @private */\r\n    _onMonthScrollTouchStart() {\r\n      this._repositionYearScroller();\r\n    }\r\n\r\n    /** @private */\r\n    _doIgnoreTaps() {\r\n      this._ignoreTaps = true;\r\n      this._debouncer = Debouncer.debounce(this._debouncer, timeOut.after(300), () => {\r\n        this._ignoreTaps = false;\r\n      });\r\n    }\r\n\r\n    /** @protected */\r\n    _formatDisplayed(date, i18n, label) {\r\n      if (date && i18n && typeof i18n.formatDate === 'function') {\r\n        return i18n.formatDate(extractDateParts(date));\r\n      }\r\n      return label;\r\n    }\r\n\r\n    /** @private */\r\n    _onTodayTap() {\r\n      const today = this._getTodayMidnight();\r\n\r\n      if (Math.abs(this._monthScroller.position - this._differenceInMonths(today, this._originDate)) < 0.001) {\r\n        // Select today only if the month scroller is positioned approximately\r\n        // at the beginning of the current month\r\n        this._selectDate(today);\r\n        this._close();\r\n      } else {\r\n        this._scrollToCurrentMonth();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _scrollToCurrentMonth() {\r\n      if (this.focusedDate) {\r\n        this.focusedDate = new Date();\r\n      }\r\n\r\n      this.scrollToDate(new Date(), true);\r\n    }\r\n\r\n    /** @private */\r\n    _onYearTap(e) {\r\n      if (!this._ignoreTaps && !this._notTapping) {\r\n        const scrollDelta =\r\n          e.detail.y - (this._yearScroller.getBoundingClientRect().top + this._yearScroller.clientHeight / 2);\r\n        const yearDelta = scrollDelta / this._yearScroller.itemHeight;\r\n        this._scrollToPosition(this._monthScroller.position + yearDelta * 12, true);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _scrollToPosition(targetPosition, animate) {\r\n      if (this._targetPosition !== undefined) {\r\n        this._targetPosition = targetPosition;\r\n        return;\r\n      }\r\n\r\n      if (!animate) {\r\n        this._monthScroller.position = targetPosition;\r\n        this._monthScroller.forceUpdate();\r\n        this._targetPosition = undefined;\r\n        this._repositionYearScroller();\r\n        this.__tryFocusDate();\r\n        return;\r\n      }\r\n\r\n      this._targetPosition = targetPosition;\r\n\r\n      let revealResolve;\r\n      this._revealPromise = new Promise((resolve) => {\r\n        revealResolve = resolve;\r\n      });\r\n\r\n      // http://gizma.com/easing/\r\n      const easingFunction = (t, b, c, d) => {\r\n        t /= d / 2;\r\n        if (t < 1) {\r\n          return (c / 2) * t * t + b;\r\n        }\r\n        t -= 1;\r\n        return (-c / 2) * (t * (t - 2) - 1) + b;\r\n      };\r\n\r\n      let start = 0;\r\n      const initialPosition = this._monthScroller.position;\r\n\r\n      const smoothScroll = (timestamp) => {\r\n        if (!start) {\r\n          start = timestamp;\r\n        }\r\n\r\n        const currentTime = timestamp - start;\r\n\r\n        if (currentTime < this.scrollDuration) {\r\n          const currentPos = easingFunction(\r\n            currentTime,\r\n            initialPosition,\r\n            this._targetPosition - initialPosition,\r\n            this.scrollDuration,\r\n          );\r\n          this._monthScroller.position = currentPos;\r\n          window.requestAnimationFrame(smoothScroll);\r\n        } else {\r\n          this.dispatchEvent(\r\n            new CustomEvent('scroll-animation-finished', {\r\n              bubbles: true,\r\n              composed: true,\r\n              detail: {\r\n                position: this._targetPosition,\r\n                oldPosition: initialPosition,\r\n              },\r\n            }),\r\n          );\r\n\r\n          this._monthScroller.position = this._targetPosition;\r\n          this._monthScroller.forceUpdate();\r\n          this._targetPosition = undefined;\r\n\r\n          revealResolve();\r\n          this._revealPromise = undefined;\r\n        }\r\n\r\n        setTimeout(this._repositionYearScroller.bind(this), 1);\r\n      };\r\n\r\n      // Start the animation.\r\n      window.requestAnimationFrame(smoothScroll);\r\n    }\r\n\r\n    /** @private */\r\n    _limit(value, range) {\r\n      return Math.min(range.max, Math.max(range.min, value));\r\n    }\r\n\r\n    /** @private */\r\n    _handleTrack(e) {\r\n      // Check if horizontal movement threshold (dx) not exceeded or\r\n      // scrolling fast vertically (ddy).\r\n      if (Math.abs(e.detail.dx) < 10 || Math.abs(e.detail.ddy) > 10) {\r\n        return;\r\n      }\r\n\r\n      // If we're flinging quickly -> start animating already.\r\n      if (Math.abs(e.detail.ddx) > this._yearScrollerWidth / 3) {\r\n        this._toggleAnimateClass(true);\r\n      }\r\n\r\n      const newTranslateX = this._translateX + e.detail.ddx;\r\n      this._translateX = this._limit(newTranslateX, {\r\n        min: 0,\r\n        max: this._yearScrollerWidth,\r\n      });\r\n    }\r\n\r\n    /** @private */\r\n    _track(e) {\r\n      if (this._desktopMode) {\r\n        // No need to track for swipe gestures on desktop.\r\n        return;\r\n      }\r\n\r\n      switch (e.detail.state) {\r\n        case 'start':\r\n          this._toggleAnimateClass(false);\r\n          break;\r\n        case 'track':\r\n          this._handleTrack(e);\r\n          break;\r\n        case 'end':\r\n          this._toggleAnimateClass(true);\r\n          if (this._translateX >= this._yearScrollerWidth / 2) {\r\n            this._closeYearScroller();\r\n          } else {\r\n            this._openYearScroller();\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _toggleAnimateClass(enable) {\r\n      if (enable) {\r\n        this.classList.add('animate');\r\n      } else {\r\n        this.classList.remove('animate');\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _toggleYearScroller() {\r\n      if (this._isYearScrollerVisible()) {\r\n        this._closeYearScroller();\r\n      } else {\r\n        this._openYearScroller();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _openYearScroller() {\r\n      this._translateX = 0;\r\n      this.setAttribute('years-visible', '');\r\n    }\r\n\r\n    /** @private */\r\n    _closeYearScroller() {\r\n      this.removeAttribute('years-visible');\r\n      this._translateX = this._yearScrollerWidth;\r\n    }\r\n\r\n    /** @private */\r\n    _isYearScrollerVisible() {\r\n      return this._translateX < this._yearScrollerWidth / 2;\r\n    }\r\n\r\n    /** @private */\r\n    _translateXChanged(x) {\r\n      if (!this._desktopMode) {\r\n        this._monthScroller.style.transform = `translateX(${x - this._yearScrollerWidth}px)`;\r\n        this._yearScroller.style.transform = `translateX(${x}px)`;\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _yearAfterXMonths(months) {\r\n      return dateAfterXMonths(months).getFullYear();\r\n    }\r\n\r\n    /** @private */\r\n    _differenceInMonths(date1, date2) {\r\n      const months = (date1.getFullYear() - date2.getFullYear()) * 12;\r\n      return months - date2.getMonth() + date1.getMonth();\r\n    }\r\n\r\n    /** @private */\r\n    _clear() {\r\n      this._selectDate('');\r\n    }\r\n\r\n    /** @private */\r\n    _close() {\r\n      this.dispatchEvent(new CustomEvent('close', { bubbles: true, composed: true }));\r\n    }\r\n\r\n    /** @private */\r\n    _cancel() {\r\n      this.focusedDate = this.selectedDate;\r\n      this._close();\r\n    }\r\n\r\n    /** @protected */\r\n    _preventDefault(e) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    /** @private */\r\n    __toggleDate(date) {\r\n      if (dateEquals(date, this.selectedDate)) {\r\n        this._clear();\r\n        this.focusedDate = date;\r\n      } else {\r\n        this._selectDate(date);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __onMonthCalendarKeyDown(event) {\r\n      let handled = false;\r\n\r\n      switch (event.key) {\r\n        case 'ArrowDown':\r\n          this._moveFocusByDays(7);\r\n          handled = true;\r\n          break;\r\n        case 'ArrowUp':\r\n          this._moveFocusByDays(-7);\r\n          handled = true;\r\n          break;\r\n        case 'ArrowRight':\r\n          this._moveFocusByDays(this.__isRTL ? -1 : 1);\r\n          handled = true;\r\n          break;\r\n        case 'ArrowLeft':\r\n          this._moveFocusByDays(this.__isRTL ? 1 : -1);\r\n          handled = true;\r\n          break;\r\n        case 'Enter':\r\n          if (this._selectDate(this.focusedDate)) {\r\n            this._close();\r\n            handled = true;\r\n          }\r\n          break;\r\n        case ' ':\r\n          this.__toggleDate(this.focusedDate);\r\n          handled = true;\r\n          break;\r\n        case 'Home':\r\n          this._moveFocusInsideMonth(this.focusedDate, 'minDate');\r\n          handled = true;\r\n          break;\r\n        case 'End':\r\n          this._moveFocusInsideMonth(this.focusedDate, 'maxDate');\r\n          handled = true;\r\n          break;\r\n        case 'PageDown':\r\n          this._moveFocusByMonths(event.shiftKey ? 12 : 1);\r\n          handled = true;\r\n          break;\r\n        case 'PageUp':\r\n          this._moveFocusByMonths(event.shiftKey ? -12 : -1);\r\n          handled = true;\r\n          break;\r\n        case 'Tab':\r\n          this._onTabKeyDown(event, 'calendar');\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n      if (handled) {\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _onTabKeyDown(event, section) {\r\n      // Stop propagation to avoid focus-trap\r\n      // listener when used in a modal dialog.\r\n      event.stopPropagation();\r\n\r\n      switch (section) {\r\n        case 'calendar':\r\n          if (event.shiftKey) {\r\n            event.preventDefault();\r\n\r\n            if (this.hasAttribute('fullscreen')) {\r\n              // Trap focus in the overlay\r\n              this.focusCancel();\r\n            } else {\r\n              this.__focusInput();\r\n            }\r\n          }\r\n          break;\r\n        case 'today':\r\n          if (event.shiftKey) {\r\n            event.preventDefault();\r\n            this.focusDateElement();\r\n          }\r\n          break;\r\n        case 'cancel':\r\n          if (!event.shiftKey) {\r\n            event.preventDefault();\r\n\r\n            if (this.hasAttribute('fullscreen')) {\r\n              // Trap focus in the overlay\r\n              this.focusDateElement();\r\n            } else {\r\n              this.__focusInput();\r\n            }\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __onTodayButtonKeyDown(event) {\r\n      if (event.key === 'Tab') {\r\n        this._onTabKeyDown(event, 'today');\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __onCancelButtonKeyDown(event) {\r\n      if (event.key === 'Tab') {\r\n        this._onTabKeyDown(event, 'cancel');\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __focusInput() {\r\n      this.dispatchEvent(new CustomEvent('focus-input', { bubbles: true, composed: true }));\r\n    }\r\n\r\n    /** @private */\r\n    __tryFocusDate() {\r\n      const dateToFocus = this.__pendingDateFocus;\r\n      if (dateToFocus) {\r\n        // Check the date element with tabindex=\"0\"\r\n        const dateElement = this.focusableDateElement;\r\n\r\n        if (dateElement && dateEquals(dateElement.date, this.__pendingDateFocus)) {\r\n          delete this.__pendingDateFocus;\r\n          dateElement.focus();\r\n        }\r\n      }\r\n    }\r\n\r\n    async focusDate(date, keepMonth) {\r\n      const dateToFocus = date || this.selectedDate || this.initialPosition || new Date();\r\n      this.focusedDate = dateToFocus;\r\n      if (!keepMonth) {\r\n        this._focusedMonthDate = dateToFocus.getDate();\r\n      }\r\n      await this.focusDateElement(false);\r\n    }\r\n\r\n    async focusDateElement(reveal = true) {\r\n      this.__pendingDateFocus = this.focusedDate;\r\n\r\n      // Wait for `vaadin-month-calendar` elements to be rendered\r\n      if (!this.calendars.length) {\r\n        await new Promise((resolve) => {\r\n          afterNextRender(this, () => {\r\n            // Force dom-repeat elements to render\r\n            flush();\r\n            resolve();\r\n          });\r\n        });\r\n      }\r\n\r\n      // Reveal focused date unless it has been just set,\r\n      // which triggers `revealDate()` in the observer.\r\n      if (reveal) {\r\n        this.revealDate(this.focusedDate);\r\n      }\r\n\r\n      if (this._revealPromise) {\r\n        // Wait for focused date to be scrolled into view.\r\n        await this._revealPromise;\r\n      }\r\n\r\n      this.__tryFocusDate();\r\n    }\r\n\r\n    /** @private */\r\n    _focusClosestDate(focus) {\r\n      this.focusDate(getClosestDate(focus, [this.minDate, this.maxDate]));\r\n    }\r\n\r\n    /** @private */\r\n    _focusAllowedDate(dateToFocus, diff, keepMonth) {\r\n      // For this check we do consider the isDateDisabled function because disabled dates are allowed to be focused, just not outside min/max\r\n      if (this._dateAllowed(dateToFocus, undefined, undefined, () => false)) {\r\n        this.focusDate(dateToFocus, keepMonth);\r\n      } else if (this._dateAllowed(this.focusedDate)) {\r\n        // Move to min or max date\r\n        if (diff > 0) {\r\n          // Down, Right or Page Down key\r\n          this.focusDate(this.maxDate);\r\n        } else {\r\n          // Up, Left or Page Up key\r\n          this.focusDate(this.minDate);\r\n        }\r\n      } else {\r\n        // Move to closest allowed date\r\n        this._focusClosestDate(this.focusedDate);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _getDateDiff(months, days) {\r\n      const date = new Date(0, 0);\r\n      date.setFullYear(this.focusedDate.getFullYear());\r\n      date.setMonth(this.focusedDate.getMonth() + months);\r\n      if (days) {\r\n        date.setDate(this.focusedDate.getDate() + days);\r\n      }\r\n      return date;\r\n    }\r\n\r\n    /** @private */\r\n    _moveFocusByDays(days) {\r\n      const dateToFocus = this._getDateDiff(0, days);\r\n\r\n      this._focusAllowedDate(dateToFocus, days, false);\r\n    }\r\n\r\n    /** @private */\r\n    _moveFocusByMonths(months) {\r\n      const dateToFocus = this._getDateDiff(months);\r\n      const targetMonth = dateToFocus.getMonth();\r\n\r\n      if (!this._focusedMonthDate) {\r\n        this._focusedMonthDate = this.focusedDate.getDate();\r\n      }\r\n\r\n      dateToFocus.setDate(this._focusedMonthDate);\r\n\r\n      if (dateToFocus.getMonth() !== targetMonth) {\r\n        dateToFocus.setDate(0);\r\n      }\r\n\r\n      this._focusAllowedDate(dateToFocus, months, true);\r\n    }\r\n\r\n    /** @private */\r\n    _moveFocusInsideMonth(focusedDate, property) {\r\n      const dateToFocus = new Date(0, 0);\r\n      dateToFocus.setFullYear(focusedDate.getFullYear());\r\n\r\n      if (property === 'minDate') {\r\n        dateToFocus.setMonth(focusedDate.getMonth());\r\n        dateToFocus.setDate(1);\r\n      } else {\r\n        dateToFocus.setMonth(focusedDate.getMonth() + 1);\r\n        dateToFocus.setDate(0);\r\n      }\r\n\r\n      if (this._dateAllowed(dateToFocus)) {\r\n        this.focusDate(dateToFocus);\r\n      } else if (this._dateAllowed(focusedDate)) {\r\n        // Move to minDate or maxDate\r\n        this.focusDate(this[property]);\r\n      } else {\r\n        // Move to closest allowed date\r\n        this._focusClosestDate(focusedDate);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _dateAllowed(date, min = this.minDate, max = this.maxDate, isDateDisabled = this.isDateDisabled) {\r\n      return dateAllowed(date, min, max, isDateDisabled);\r\n    }\r\n\r\n    /** @private */\r\n    _isTodayAllowed(min, max, isDateDisabled) {\r\n      return this._dateAllowed(this._getTodayMidnight(), min, max, isDateDisabled);\r\n    }\r\n\r\n    /** @private */\r\n    _getTodayMidnight() {\r\n      const today = new Date();\r\n      const todayMidnight = new Date(0, 0);\r\n      todayMidnight.setFullYear(today.getFullYear());\r\n      todayMidnight.setMonth(today.getMonth());\r\n      todayMidnight.setDate(today.getDate());\r\n      return todayMidnight;\r\n    }\r\n\r\n    /**\r\n     * Fired when the scroller reaches the target scrolling position.\r\n     * @event scroll-animation-finished\r\n     * @param {Number} detail.position new position\r\n     * @param {Number} detail.oldPosition old position\r\n     */\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { css } from 'lit';\r\n\r\nexport const overlayContentStyles = css`\r\n  :host {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    width: 100%;\r\n    outline: none;\r\n  }\r\n\r\n  [part='overlay-header'] {\r\n    display: flex;\r\n    flex-shrink: 0;\r\n    flex-wrap: nowrap;\r\n    align-items: center;\r\n  }\r\n\r\n  :host(:not([fullscreen])) [part='overlay-header'] {\r\n    display: none;\r\n  }\r\n\r\n  [part='label'] {\r\n    flex-grow: 1;\r\n  }\r\n\r\n  [hidden] {\r\n    display: none !important;\r\n  }\r\n\r\n  [part='years-toggle-button'] {\r\n    display: flex;\r\n  }\r\n\r\n  #scrollers {\r\n    display: flex;\r\n    height: 100%;\r\n    width: 100%;\r\n    position: relative;\r\n    overflow: hidden;\r\n  }\r\n\r\n  :host([desktop]) ::slotted([slot='months']) {\r\n    right: 50px;\r\n    transform: none !important;\r\n  }\r\n\r\n  :host([desktop]) ::slotted([slot='years']) {\r\n    transform: none !important;\r\n  }\r\n\r\n  :host(.animate) ::slotted([slot='months']),\r\n  :host(.animate) ::slotted([slot='years']) {\r\n    transition: all 200ms;\r\n  }\r\n\r\n  [part='toolbar'] {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    z-index: 2;\r\n    flex-shrink: 0;\r\n  }\r\n`;\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport '@vaadin/button/src/vaadin-button.js';\r\nimport './vaadin-date-picker-month-scroller.js';\r\nimport './vaadin-date-picker-year-scroller.js';\r\nimport './vaadin-date-picker-year.js';\r\nimport './vaadin-month-calendar.js';\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { DirMixin } from '@vaadin/component-base/src/dir-mixin.js';\r\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { DatePickerOverlayContentMixin } from './vaadin-date-picker-overlay-content-mixin.js';\r\nimport { overlayContentStyles } from './vaadin-date-picker-overlay-content-styles.js';\r\n\r\nregisterStyles('vaadin-date-picker-overlay-content', overlayContentStyles, {\r\n  moduleId: 'vaadin-date-picker-overlay-content-styles',\r\n});\r\n\r\n/**\r\n * @customElement\r\n * @extends HTMLElement\r\n * @private\r\n */\r\nclass DatePickerOverlayContent extends DatePickerOverlayContentMixin(\r\n  ControllerMixin(ThemableMixin(DirMixin(PolymerElement))),\r\n) {\r\n  static get template() {\r\n    return html`\r\n      <div part=\"overlay-header\" on-touchend=\"_preventDefault\" aria-hidden=\"true\">\r\n        <div part=\"label\">[[_formatDisplayed(selectedDate, i18n, label)]]</div>\r\n        <div part=\"clear-button\" hidden$=\"[[!selectedDate]]\"></div>\r\n        <div part=\"toggle-button\"></div>\r\n\r\n        <div part=\"years-toggle-button\" hidden$=\"[[_desktopMode]]\" aria-hidden=\"true\">\r\n          [[_yearAfterXMonths(_visibleMonthIndex)]]\r\n        </div>\r\n      </div>\r\n\r\n      <div id=\"scrollers\">\r\n        <slot name=\"months\"></slot>\r\n        <slot name=\"years\"></slot>\r\n      </div>\r\n\r\n      <div on-touchend=\"_preventDefault\" role=\"toolbar\" part=\"toolbar\">\r\n        <slot name=\"today-button\"></slot>\r\n        <slot name=\"cancel-button\"></slot>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  static get is() {\r\n    return 'vaadin-date-picker-overlay-content';\r\n  }\r\n\r\n  /** @protected */\r\n  ready() {\r\n    super.ready();\r\n\r\n    this.setAttribute('role', 'dialog');\r\n\r\n    this._addListeners();\r\n    this._initControllers();\r\n  }\r\n}\r\n\r\ndefineCustomElement(DatePickerOverlayContent);\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { hideOthers } from '@vaadin/a11y-base/src/aria-hidden.js';\r\nimport { DelegateFocusMixin } from '@vaadin/a11y-base/src/delegate-focus-mixin.js';\r\nimport { isKeyboardActive } from '@vaadin/a11y-base/src/focus-utils.js';\r\nimport { KeyboardMixin } from '@vaadin/a11y-base/src/keyboard-mixin.js';\r\nimport { isIOS } from '@vaadin/component-base/src/browser-utils.js';\r\nimport { ControllerMixin } from '@vaadin/component-base/src/controller-mixin.js';\r\nimport { MediaQueryController } from '@vaadin/component-base/src/media-query-controller.js';\r\nimport { OverlayClassMixin } from '@vaadin/component-base/src/overlay-class-mixin.js';\r\nimport { InputConstraintsMixin } from '@vaadin/field-base/src/input-constraints-mixin.js';\r\nimport { VirtualKeyboardController } from '@vaadin/field-base/src/virtual-keyboard-controller.js';\r\nimport {\r\n  dateAllowed,\r\n  dateEquals,\r\n  extractDateParts,\r\n  formatISODate,\r\n  getAdjustedYear,\r\n  getClosestDate,\r\n  parseDate,\r\n} from './vaadin-date-picker-helper.js';\r\n\r\nexport const datePickerI18nDefaults = Object.freeze({\r\n  monthNames: [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December',\r\n  ],\r\n  weekdays: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\r\n  weekdaysShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\r\n  firstDayOfWeek: 0,\r\n  today: 'Today',\r\n  cancel: 'Cancel',\r\n  referenceDate: '',\r\n  formatDate(d) {\r\n    const yearStr = String(d.year).replace(/\\d+/u, (y) => '0000'.substr(y.length) + y);\r\n    return [d.month + 1, d.day, yearStr].join('/');\r\n  },\r\n  parseDate(text) {\r\n    const parts = text.split('/');\r\n    const today = new Date();\r\n    let date,\r\n      month = today.getMonth(),\r\n      year = today.getFullYear();\r\n\r\n    if (parts.length === 3) {\r\n      month = parseInt(parts[0]) - 1;\r\n      date = parseInt(parts[1]);\r\n      year = parseInt(parts[2]);\r\n      if (parts[2].length < 3 && year >= 0) {\r\n        const usedReferenceDate = this.referenceDate ? parseDate(this.referenceDate) : new Date();\r\n        year = getAdjustedYear(usedReferenceDate, year, month, date);\r\n      }\r\n    } else if (parts.length === 2) {\r\n      month = parseInt(parts[0]) - 1;\r\n      date = parseInt(parts[1]);\r\n    } else if (parts.length === 1) {\r\n      date = parseInt(parts[0]);\r\n    }\r\n\r\n    if (date !== undefined) {\r\n      return { day: date, month, year };\r\n    }\r\n  },\r\n  formatTitle: (monthName, fullYear) => {\r\n    return `${monthName} ${fullYear}`;\r\n  },\r\n});\r\n\r\n/**\r\n * @polymerMixin\r\n * @mixes ControllerMixin\r\n * @mixes DelegateFocusMixin\r\n * @mixes InputConstraintsMixin\r\n * @mixes KeyboardMixin\r\n * @mixes OverlayClassMixin\r\n * @param {function(new:HTMLElement)} subclass\r\n */\r\nexport const DatePickerMixin = (subclass) =>\r\n  class DatePickerMixinClass extends OverlayClassMixin(\r\n    ControllerMixin(DelegateFocusMixin(InputConstraintsMixin(KeyboardMixin(subclass)))),\r\n  ) {\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * The current selected date.\r\n         * @type {Date | undefined}\r\n         * @protected\r\n         */\r\n        _selectedDate: {\r\n          type: Object,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * @type {Date | undefined}\r\n         * @protected\r\n         */\r\n        _focusedDate: {\r\n          type: Object,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * Selected date.\r\n         *\r\n         * Supported date formats:\r\n         * - ISO 8601 `\"YYYY-MM-DD\"` (default)\r\n         * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\r\n         *\r\n         * @type {string}\r\n         */\r\n        value: {\r\n          type: String,\r\n          notify: true,\r\n          value: '',\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * Date which should be visible when there is no value selected.\r\n         *\r\n         * The same date formats as for the `value` property are supported.\r\n         * @attr {string} initial-position\r\n         */\r\n        initialPosition: String,\r\n\r\n        /**\r\n         * Set true to open the date selector overlay.\r\n         */\r\n        opened: {\r\n          type: Boolean,\r\n          reflectToAttribute: true,\r\n          notify: true,\r\n          observer: '_openedChanged',\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * Set true to prevent the overlay from opening automatically.\r\n         * @attr {boolean} auto-open-disabled\r\n         */\r\n        autoOpenDisabled: {\r\n          type: Boolean,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * Set true to display ISO-8601 week numbers in the calendar. Notice that\r\n         * displaying week numbers is only supported when `i18n.firstDayOfWeek`\r\n         * is 1 (Monday).\r\n         * @attr {boolean} show-week-numbers\r\n         */\r\n        showWeekNumbers: {\r\n          type: Boolean,\r\n          value: false,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * @type {boolean}\r\n         * @protected\r\n         */\r\n        _fullscreen: {\r\n          type: Boolean,\r\n          value: false,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * @type {string}\r\n         * @protected\r\n         */\r\n        _fullscreenMediaQuery: {\r\n          value: '(max-width: 450px), (max-height: 450px)',\r\n        },\r\n\r\n        /**\r\n         * The object used to localize this component.\r\n         * To change the default localization, replace the entire\r\n         * `i18n` object with a custom one.\r\n         *\r\n         * To update individual properties, extend the existing i18n object like so:\r\n         * ```\r\n         * datePicker.i18n = { ...datePicker.i18n, {\r\n         *   formatDate: date => { ... },\r\n         *   parseDate: value => { ... },\r\n         * }};\r\n         * ```\r\n         *\r\n         * The object has the following JSON structure and default values:\r\n         *\r\n         * ```\r\n         * {\r\n         *   // An array with the full names of months starting\r\n         *   // with January.\r\n         *   monthNames: [\r\n         *     'January', 'February', 'March', 'April', 'May',\r\n         *     'June', 'July', 'August', 'September',\r\n         *     'October', 'November', 'December'\r\n         *   ],\r\n         *\r\n         *   // An array of weekday names starting with Sunday. Used\r\n         *   // in screen reader announcements.\r\n         *   weekdays: [\r\n         *     'Sunday', 'Monday', 'Tuesday', 'Wednesday',\r\n         *     'Thursday', 'Friday', 'Saturday'\r\n         *   ],\r\n         *\r\n         *   // An array of short weekday names starting with Sunday.\r\n         *   // Displayed in the calendar.\r\n         *   weekdaysShort: [\r\n         *     'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'\r\n         *   ],\r\n         *\r\n         *   // An integer indicating the first day of the week\r\n         *   // (0 = Sunday, 1 = Monday, etc.).\r\n         *   firstDayOfWeek: 0,\r\n         *\r\n         *   // Translation of the Today shortcut button text.\r\n         *   today: 'Today',\r\n         *\r\n         *   // Translation of the Cancel button text.\r\n         *   cancel: 'Cancel',\r\n         *\r\n         *   // Used for adjusting the year value when parsing dates with short years.\r\n         *   // The year values between 0 and 99 are evaluated and adjusted.\r\n         *   // Example: for a referenceDate of 1970-10-30;\r\n         *   //   dateToBeParsed: 40-10-30, result: 1940-10-30\r\n         *   //   dateToBeParsed: 80-10-30, result: 1980-10-30\r\n         *   //   dateToBeParsed: 10-10-30, result: 2010-10-30\r\n         *   // Supported date format: ISO 8601 `\"YYYY-MM-DD\"` (default)\r\n         *   // The default value is the current date.\r\n         *   referenceDate: '',\r\n         *\r\n         *   // A function to format given `Object` as\r\n         *   // date string. Object is in the format `{ day: ..., month: ..., year: ... }`\r\n         *   // Note: The argument month is 0-based. This means that January = 0 and December = 11.\r\n         *   formatDate: d => {\r\n         *     // returns a string representation of the given\r\n         *     // object in 'MM/DD/YYYY' -format\r\n         *   },\r\n         *\r\n         *   // A function to parse the given text to an `Object` in the format `{ day: ..., month: ..., year: ... }`.\r\n         *   // Must properly parse (at least) text formatted by `formatDate`.\r\n         *   // Setting the property to null will disable keyboard input feature.\r\n         *   // Note: The argument month is 0-based. This means that January = 0 and December = 11.\r\n         *   parseDate: text => {\r\n         *     // Parses a string in 'MM/DD/YY', 'MM/DD' or 'DD' -format to\r\n         *     // an `Object` in the format `{ day: ..., month: ..., year: ... }`.\r\n         *   }\r\n         *\r\n         *   // A function to format given `monthName` and\r\n         *   // `fullYear` integer as calendar title string.\r\n         *   formatTitle: (monthName, fullYear) => {\r\n         *     return monthName + ' ' + fullYear;\r\n         *   }\r\n         * }\r\n         * ```\r\n         *\r\n         * @type {!DatePickerI18n}\r\n         * @default {English/US}\r\n         */\r\n        i18n: {\r\n          type: Object,\r\n          sync: true,\r\n          value: () => ({ ...datePickerI18nDefaults }),\r\n        },\r\n\r\n        /**\r\n         * The earliest date that can be selected. All earlier dates will be disabled.\r\n         *\r\n         * Supported date formats:\r\n         * - ISO 8601 `\"YYYY-MM-DD\"` (default)\r\n         * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\r\n         *\r\n         * @type {string | undefined}\r\n         */\r\n        min: {\r\n          type: String,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * The latest date that can be selected. All later dates will be disabled.\r\n         *\r\n         * Supported date formats:\r\n         * - ISO 8601 `\"YYYY-MM-DD\"` (default)\r\n         * - 6-digit extended ISO 8601 `\"+YYYYYY-MM-DD\"`, `\"-YYYYYY-MM-DD\"`\r\n         *\r\n         * @type {string | undefined}\r\n         */\r\n        max: {\r\n          type: String,\r\n          sync: true,\r\n        },\r\n\r\n        /**\r\n         * A function to be used to determine whether the user can select a given date.\r\n         * Receives a `DatePickerDate` object of the date to be selected and should return a\r\n         * boolean.\r\n         *\r\n         * @type {function(DatePickerDate): boolean | undefined}\r\n         */\r\n        isDateDisabled: {\r\n          type: Function,\r\n        },\r\n\r\n        /**\r\n         * The earliest date that can be selected. All earlier dates will be disabled.\r\n         * @type {Date | undefined}\r\n         * @protected\r\n         */\r\n        _minDate: {\r\n          type: Date,\r\n          computed: '__computeMinOrMaxDate(min)',\r\n        },\r\n\r\n        /**\r\n         * The latest date that can be selected. All later dates will be disabled.\r\n         * @type {Date | undefined}\r\n         * @protected\r\n         */\r\n        _maxDate: {\r\n          type: Date,\r\n          computed: '__computeMinOrMaxDate(max)',\r\n        },\r\n\r\n        /** @private */\r\n        _noInput: {\r\n          type: Boolean,\r\n          computed: '_isNoInput(inputElement, _fullscreen, _ios, i18n, opened, autoOpenDisabled)',\r\n        },\r\n\r\n        /** @private */\r\n        _ios: {\r\n          type: Boolean,\r\n          value: isIOS,\r\n        },\r\n\r\n        /** @private */\r\n        _focusOverlayOnOpen: Boolean,\r\n\r\n        /** @private */\r\n        _overlayContent: {\r\n          type: Object,\r\n          sync: true,\r\n        },\r\n\r\n        /** @private */\r\n        __enteredDate: {\r\n          type: Date,\r\n          sync: true,\r\n        },\r\n      };\r\n    }\r\n\r\n    static get observers() {\r\n      return [\r\n        '_selectedDateChanged(_selectedDate, i18n)',\r\n        '_focusedDateChanged(_focusedDate, i18n)',\r\n        '__updateOverlayContent(_overlayContent, i18n, label, _minDate, _maxDate, _focusedDate, _selectedDate, showWeekNumbers, isDateDisabled, __enteredDate)',\r\n        '__updateOverlayContentTheme(_overlayContent, _theme)',\r\n        '__updateOverlayContentFullScreen(_overlayContent, _fullscreen)',\r\n      ];\r\n    }\r\n\r\n    static get constraints() {\r\n      return [...super.constraints, 'min', 'max'];\r\n    }\r\n\r\n    constructor() {\r\n      super();\r\n\r\n      this._boundOnClick = this._onClick.bind(this);\r\n      this._boundOnScroll = this._onScroll.bind(this);\r\n      this._boundOverlayRenderer = this._overlayRenderer.bind(this);\r\n    }\r\n\r\n    /** @override */\r\n    get _inputElementValue() {\r\n      return super._inputElementValue;\r\n    }\r\n\r\n    /** @override */\r\n    set _inputElementValue(value) {\r\n      super._inputElementValue = value;\r\n\r\n      const parsedDate = this.__parseDate(value);\r\n      this.__setEnteredDate(parsedDate);\r\n    }\r\n\r\n    /**\r\n     * Override a getter from `InputControlMixin` to make it optional\r\n     * and to prevent warning when a clear button is missing,\r\n     * for example when using <vaadin-date-picker-light>.\r\n     * @protected\r\n     * @return {Element | null | undefined}\r\n     */\r\n    get clearElement() {\r\n      return null;\r\n    }\r\n\r\n    /** @private */\r\n    get _nativeInput() {\r\n      if (this.inputElement) {\r\n        // TODO: support focusElement for backwards compatibility\r\n        return this.inputElement.focusElement || this.inputElement;\r\n      }\r\n      return null;\r\n    }\r\n\r\n    /**\r\n     * The input element's value when it cannot be parsed as a date, and an empty string otherwise.\r\n     *\r\n     * @return {string}\r\n     * @private\r\n     */\r\n    get __unparsableValue() {\r\n      if (!this._inputElementValue || this.__parseDate(this._inputElementValue)) {\r\n        return '';\r\n      }\r\n\r\n      return this._inputElementValue;\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `DelegateFocusMixin`\r\n     * @protected\r\n     */\r\n    _onFocus(event) {\r\n      super._onFocus(event);\r\n\r\n      if (this._noInput && !isKeyboardActive()) {\r\n        event.target.blur();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `DelegateFocusMixin`\r\n     * @protected\r\n     */\r\n    _onBlur(event) {\r\n      super._onBlur(event);\r\n\r\n      if (!this.opened) {\r\n        this.__commitParsedOrFocusedDate();\r\n\r\n        // Do not validate when focusout is caused by document\r\n        // losing focus, which happens on browser tab switch.\r\n        if (document.hasFocus()) {\r\n          this._requestValidation();\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    ready() {\r\n      super.ready();\r\n\r\n      this.addEventListener('click', this._boundOnClick);\r\n\r\n      this.addController(\r\n        new MediaQueryController(this._fullscreenMediaQuery, (matches) => {\r\n          this._fullscreen = matches;\r\n        }),\r\n      );\r\n\r\n      this.addController(new VirtualKeyboardController(this));\r\n\r\n      const overlay = this.$.overlay;\r\n      this._overlayElement = overlay;\r\n\r\n      overlay.renderer = this._boundOverlayRenderer;\r\n\r\n      this.addEventListener('mousedown', () => this.__bringToFront());\r\n      this.addEventListener('touchstart', () => this.__bringToFront());\r\n    }\r\n\r\n    /** @protected */\r\n    disconnectedCallback() {\r\n      super.disconnectedCallback();\r\n\r\n      this.opened = false;\r\n    }\r\n\r\n    /**\r\n     * Opens the dropdown.\r\n     */\r\n    open() {\r\n      if (!this.disabled && !this.readonly) {\r\n        this.opened = true;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Closes the dropdown.\r\n     */\r\n    close() {\r\n      this.$.overlay.close();\r\n    }\r\n\r\n    /** @private */\r\n    _overlayRenderer(root) {\r\n      if (root.firstChild) {\r\n        return;\r\n      }\r\n\r\n      // Create and store document content element\r\n      const content = document.createElement('vaadin-date-picker-overlay-content');\r\n      root.appendChild(content);\r\n\r\n      this._overlayContent = content;\r\n\r\n      content.addEventListener('close', () => {\r\n        this._close();\r\n      });\r\n\r\n      content.addEventListener('focus-input', this._focusAndSelect.bind(this));\r\n\r\n      // User confirmed selected date by clicking the calendar.\r\n      content.addEventListener('date-tap', (e) => {\r\n        this.__commitDate(e.detail.date);\r\n\r\n        this._close();\r\n      });\r\n\r\n      // User confirmed selected date by pressing Enter, Space, or Today.\r\n      content.addEventListener('date-selected', (e) => {\r\n        this.__commitDate(e.detail.date);\r\n      });\r\n\r\n      // Set focus-ring attribute when moving focus to the overlay\r\n      // by pressing Tab or arrow key, after opening it on click.\r\n      content.addEventListener('focusin', () => {\r\n        if (this._keyboardActive) {\r\n          this._setFocused(true);\r\n        }\r\n      });\r\n\r\n      content.addEventListener('focusout', (event) => {\r\n        if (this._shouldRemoveFocus(event)) {\r\n          this._setFocused(false);\r\n        }\r\n      });\r\n\r\n      // Two-way data binding for `focusedDate` property\r\n      content.addEventListener('focused-date-changed', (e) => {\r\n        this._focusedDate = e.detail.value;\r\n      });\r\n\r\n      content.addEventListener('click', (e) => e.stopPropagation());\r\n    }\r\n\r\n    /**\r\n     * @param {string} dateString\r\n     * @private\r\n     */\r\n    __parseDate(dateString) {\r\n      if (!this.i18n.parseDate) {\r\n        return;\r\n      }\r\n\r\n      let dateObject = this.i18n.parseDate(dateString);\r\n      if (dateObject) {\r\n        dateObject = parseDate(`${dateObject.year}-${dateObject.month + 1}-${dateObject.day}`);\r\n      }\r\n      if (dateObject && !isNaN(dateObject.getTime())) {\r\n        return dateObject;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {Date} dateObject\r\n     * @private\r\n     */\r\n    __formatDate(dateObject) {\r\n      if (this.i18n.formatDate) {\r\n        return this.i18n.formatDate(extractDateParts(dateObject));\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Returns true if the current input value satisfies all constraints (if any)\r\n     *\r\n     * Override the `checkValidity` method for custom validations.\r\n     *\r\n     * @return {boolean} True if the value is valid\r\n     */\r\n    checkValidity() {\r\n      const inputValue = this._inputElementValue;\r\n      const inputValid = !inputValue || (!!this._selectedDate && inputValue === this.__formatDate(this._selectedDate));\r\n      const isDateValid =\r\n        !this._selectedDate || dateAllowed(this._selectedDate, this._minDate, this._maxDate, this.isDateDisabled);\r\n\r\n      let inputValidity = true;\r\n      if (this.inputElement && this.inputElement.checkValidity) {\r\n        inputValidity = this.inputElement.checkValidity();\r\n      }\r\n\r\n      return inputValid && isDateValid && inputValidity;\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `FocusMixin`\r\n     * to not call `_setFocused(true)` when focus\r\n     * is restored after closing overlay on click,\r\n     * and to avoid removing `focus-ring` attribute.\r\n     *\r\n     * @param {!FocusEvent} _event\r\n     * @return {boolean}\r\n     * @protected\r\n     * @override\r\n     */\r\n    _shouldSetFocus(_event) {\r\n      return !this._shouldKeepFocusRing;\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `FocusMixin`\r\n     * to prevent removing the `focused` attribute:\r\n     * - when moving focus to the overlay content,\r\n     * - when closing on date click / outside click.\r\n     *\r\n     * @param {FocusEvent} event\r\n     * @return {boolean}\r\n     * @protected\r\n     * @override\r\n     */\r\n    _shouldRemoveFocus(event) {\r\n      // Remove the focused state when clicking outside on a focusable element that is deliberately\r\n      // made targetable with pointer-events: auto, such as the time-picker in the date-time-picker.\r\n      // In this scenario, focus will move straight to that element and the closing overlay won't\r\n      // attempt to restore focus to the input.\r\n      const { relatedTarget } = event;\r\n      if (\r\n        this.opened &&\r\n        relatedTarget !== null &&\r\n        relatedTarget !== document.body &&\r\n        !this.contains(relatedTarget) &&\r\n        !this._overlayContent.contains(relatedTarget)\r\n      ) {\r\n        return true;\r\n      }\r\n\r\n      return !this.opened;\r\n    }\r\n\r\n    /**\r\n     * Override method inherited from `FocusMixin`\r\n     * to store the `focus-ring` state to restore\r\n     * it later when closing on outside click.\r\n     *\r\n     * @param {boolean} focused\r\n     * @protected\r\n     * @override\r\n     */\r\n    _setFocused(focused) {\r\n      super._setFocused(focused);\r\n\r\n      this._shouldKeepFocusRing = focused && this._keyboardActive;\r\n    }\r\n\r\n    /**\r\n     * Depending on the nature of the value change that has occurred since\r\n     * the last commit attempt, triggers validation and fires an event:\r\n     *\r\n     * Value change             | Event\r\n     * :------------------------|:------------------\r\n     * empty => parsable        | change\r\n     * empty => unparsable      | unparsable-change\r\n     * parsable => empty        | change\r\n     * parsable => parsable     | change\r\n     * parsable => unparsable   | change\r\n     * unparsable => empty      | unparsable-change\r\n     * unparsable => parsable   | change\r\n     * unparsable => unparsable | unparsable-change\r\n     *\r\n     * @private\r\n     */\r\n    __commitValueChange() {\r\n      const unparsableValue = this.__unparsableValue;\r\n\r\n      if (this.__committedValue !== this.value) {\r\n        this._requestValidation();\r\n        this.dispatchEvent(new CustomEvent('change', { bubbles: true }));\r\n      } else if (this.__committedUnparsableValue !== unparsableValue) {\r\n        this._requestValidation();\r\n        this.dispatchEvent(new CustomEvent('unparsable-change'));\r\n      }\r\n\r\n      this.__committedValue = this.value;\r\n      this.__committedUnparsableValue = unparsableValue;\r\n    }\r\n\r\n    /**\r\n     * Sets the given date as the value and commits it.\r\n     *\r\n     * @param {Date} date\r\n     * @private\r\n     */\r\n    __commitDate(date) {\r\n      // Prevent the value observer from treating the following value change\r\n      // as initiated programmatically by the developer, and therefore\r\n      // from automatically committing it without a change event.\r\n      this.__keepCommittedValue = true;\r\n      this._selectedDate = date;\r\n      this.__keepCommittedValue = false;\r\n      this.__commitValueChange();\r\n    }\r\n\r\n    /** @private */\r\n    _close() {\r\n      this._focus();\r\n      this.close();\r\n    }\r\n\r\n    /** @private */\r\n    __bringToFront() {\r\n      requestAnimationFrame(() => {\r\n        this.$.overlay.bringToFront();\r\n      });\r\n    }\r\n\r\n    /** @private */\r\n    // eslint-disable-next-line @typescript-eslint/max-params\r\n    _isNoInput(inputElement, fullscreen, ios, i18n, opened, autoOpenDisabled) {\r\n      // On fullscreen mode, text input is disabled if auto-open isn't disabled or\r\n      // whenever the dropdown is opened\r\n      const noInputOnFullscreenMode = fullscreen && (!autoOpenDisabled || opened);\r\n      // On iOS, text input is disabled whenever the dropdown is opened, because\r\n      // the virtual keyboard doesn't affect the viewport metrics and thus the\r\n      // dropdown could get covered by the keyboard.\r\n      const noInputOnIos = ios && opened;\r\n\r\n      return !inputElement || noInputOnFullscreenMode || noInputOnIos || !i18n.parseDate;\r\n    }\r\n\r\n    /** @private */\r\n    _formatISO(date) {\r\n      return formatISODate(date);\r\n    }\r\n\r\n    /** @protected */\r\n    _inputElementChanged(input) {\r\n      super._inputElementChanged(input);\r\n      if (input) {\r\n        input.autocomplete = 'off';\r\n        input.setAttribute('role', 'combobox');\r\n        input.setAttribute('aria-haspopup', 'dialog');\r\n        input.setAttribute('aria-expanded', !!this.opened);\r\n        this._applyInputValue(this._selectedDate);\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _openedChanged(opened) {\r\n      if (this.inputElement) {\r\n        this.inputElement.setAttribute('aria-expanded', opened);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _selectedDateChanged(selectedDate, i18n) {\r\n      if (selectedDate === undefined || i18n === undefined) {\r\n        return;\r\n      }\r\n\r\n      if (!this.__keepInputValue) {\r\n        this._applyInputValue(selectedDate);\r\n      }\r\n\r\n      this.value = this._formatISO(selectedDate);\r\n      this._ignoreFocusedDateChange = true;\r\n      this._focusedDate = selectedDate;\r\n      this._ignoreFocusedDateChange = false;\r\n    }\r\n\r\n    /** @private */\r\n    _focusedDateChanged(focusedDate, i18n) {\r\n      if (focusedDate === undefined || i18n === undefined) {\r\n        return;\r\n      }\r\n      if (!this._ignoreFocusedDateChange && !this._noInput) {\r\n        this._applyInputValue(focusedDate);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override the value observer from `InputMixin` to implement custom\r\n     * handling of the `value` property. The date-picker doesn't forward\r\n     * the value directly to the input like the default implementation of `InputMixin`.\r\n     * Instead, it parses the value into a date, puts it in `_selectedDate` which\r\n     * is then displayed in the input with respect to the specified date format.\r\n     *\r\n     * @param {string | undefined} value\r\n     * @param {string | undefined} oldValue\r\n     * @protected\r\n     * @override\r\n     */\r\n    _valueChanged(value, oldValue) {\r\n      const newDate = parseDate(value);\r\n\r\n      if (value && !newDate) {\r\n        // The new value cannot be parsed, revert the old value.\r\n        this.value = oldValue;\r\n        return;\r\n      }\r\n\r\n      if (value) {\r\n        if (!dateEquals(this._selectedDate, newDate)) {\r\n          // Update the date instance only if the date has actually changed.\r\n          this._selectedDate = newDate;\r\n\r\n          if (oldValue !== undefined) {\r\n            // Validate only if `value` changes after initialization.\r\n            this._requestValidation();\r\n          }\r\n        }\r\n      } else {\r\n        this._selectedDate = null;\r\n      }\r\n\r\n      if (!this.__keepCommittedValue) {\r\n        this.__committedValue = this.value;\r\n        this.__committedUnparsableValue = '';\r\n      }\r\n\r\n      this._toggleHasValue(this._hasValue);\r\n    }\r\n\r\n    /** @private */\r\n    // eslint-disable-next-line @typescript-eslint/max-params\r\n    __updateOverlayContent(\r\n      overlayContent,\r\n      i18n,\r\n      label,\r\n      minDate,\r\n      maxDate,\r\n      focusedDate,\r\n      selectedDate,\r\n      showWeekNumbers,\r\n      isDateDisabled,\r\n      enteredDate,\r\n    ) {\r\n      if (overlayContent) {\r\n        overlayContent.i18n = i18n;\r\n        overlayContent.label = label;\r\n        overlayContent.minDate = minDate;\r\n        overlayContent.maxDate = maxDate;\r\n        overlayContent.focusedDate = focusedDate;\r\n        overlayContent.selectedDate = selectedDate;\r\n        overlayContent.showWeekNumbers = showWeekNumbers;\r\n        overlayContent.isDateDisabled = isDateDisabled;\r\n        overlayContent.enteredDate = enteredDate;\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __updateOverlayContentTheme(overlayContent, theme) {\r\n      if (overlayContent) {\r\n        if (theme) {\r\n          overlayContent.setAttribute('theme', theme);\r\n        } else {\r\n          overlayContent.removeAttribute('theme');\r\n        }\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __updateOverlayContentFullScreen(overlayContent, fullscreen) {\r\n      if (overlayContent) {\r\n        overlayContent.toggleAttribute('fullscreen', fullscreen);\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _onOverlayEscapePress() {\r\n      this._focusedDate = this._selectedDate;\r\n      this._closedByEscape = true;\r\n      this._close();\r\n      this._closedByEscape = false;\r\n    }\r\n\r\n    /** @protected */\r\n    _onOverlayOpened() {\r\n      const content = this._overlayContent;\r\n      content.reset();\r\n\r\n      // Detect which date to show\r\n      const initialPosition = this._getInitialPosition();\r\n      content.initialPosition = initialPosition;\r\n\r\n      // Scroll the date into view\r\n      const scrollFocusDate = content.focusedDate || initialPosition;\r\n      content.scrollToDate(scrollFocusDate);\r\n\r\n      // Ensure the date is focused\r\n      this._ignoreFocusedDateChange = true;\r\n      content.focusedDate = scrollFocusDate;\r\n      this._ignoreFocusedDateChange = false;\r\n\r\n      window.addEventListener('scroll', this._boundOnScroll, true);\r\n\r\n      if (this._focusOverlayOnOpen) {\r\n        content.focusDateElement();\r\n        this._focusOverlayOnOpen = false;\r\n      } else {\r\n        this._focus();\r\n      }\r\n\r\n      const input = this._nativeInput;\r\n      if (this._noInput && input) {\r\n        input.blur();\r\n        this._overlayContent.focusDateElement();\r\n      }\r\n\r\n      const focusables = this._noInput ? content : [input, content];\r\n      this.__showOthers = hideOthers(focusables);\r\n    }\r\n\r\n    /** @private */\r\n    _getInitialPosition() {\r\n      const parsedInitialPosition = parseDate(this.initialPosition);\r\n\r\n      const initialPosition =\r\n        this._selectedDate || this._overlayContent.initialPosition || parsedInitialPosition || new Date();\r\n\r\n      return parsedInitialPosition || dateAllowed(initialPosition, this._minDate, this._maxDate, this.isDateDisabled)\r\n        ? initialPosition\r\n        : this._minDate || this._maxDate\r\n          ? getClosestDate(initialPosition, [this._minDate, this._maxDate])\r\n          : new Date();\r\n    }\r\n\r\n    /**\r\n     * Tries to parse the input element's value as a date. If the input value\r\n     * is parsable, commits the resulting date as the value. Otherwise, commits\r\n     * an empty string as the value. If no i18n parser is provided, commits\r\n     * the focused date as the value.\r\n     *\r\n     * @private\r\n     */\r\n    __commitParsedOrFocusedDate() {\r\n      // Select the parsed input or focused date\r\n      this._ignoreFocusedDateChange = true;\r\n      if (this.i18n.parseDate) {\r\n        const inputValue = this._inputElementValue || '';\r\n        const parsedDate = this.__parseDate(inputValue);\r\n\r\n        if (parsedDate) {\r\n          this.__commitDate(parsedDate);\r\n        } else {\r\n          this.__keepInputValue = true;\r\n          this.__commitDate(null);\r\n          this.__keepInputValue = false;\r\n        }\r\n      } else if (this._focusedDate) {\r\n        this.__commitDate(this._focusedDate);\r\n      }\r\n      this._ignoreFocusedDateChange = false;\r\n    }\r\n\r\n    /** @protected */\r\n    _onOverlayClosed() {\r\n      // Reset `aria-hidden` state.\r\n      if (this.__showOthers) {\r\n        this.__showOthers();\r\n        this.__showOthers = null;\r\n      }\r\n      window.removeEventListener('scroll', this._boundOnScroll, true);\r\n\r\n      if (this._closedByEscape) {\r\n        this._applyInputValue(this._selectedDate);\r\n      }\r\n      this.__commitParsedOrFocusedDate();\r\n\r\n      if (this._nativeInput && this._nativeInput.selectionStart) {\r\n        this._nativeInput.selectionStart = this._nativeInput.selectionEnd;\r\n      }\r\n      // No need to revalidate the value after `_selectedDateChanged`\r\n      // Needed in case the value was not changed: open and close dropdown,\r\n      // especially on outside click. On Esc key press, do not validate.\r\n      if (!this.value && !this._keyboardActive) {\r\n        this._requestValidation();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _onScroll(e) {\r\n      if (e.target === window || !this._overlayContent.contains(e.target)) {\r\n        this._overlayContent._repositionYearScroller();\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _focus() {\r\n      if (!this._noInput) {\r\n        this.inputElement.focus();\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    _focusAndSelect() {\r\n      this._focus();\r\n      this._setSelectionRange(0, this._inputElementValue.length);\r\n    }\r\n\r\n    /** @private */\r\n    _applyInputValue(date) {\r\n      this._inputElementValue = date ? this.__formatDate(date) : '';\r\n    }\r\n\r\n    /** @private */\r\n    _setSelectionRange(a, b) {\r\n      if (this._nativeInput && this._nativeInput.setSelectionRange) {\r\n        this._nativeInput.setSelectionRange(a, b);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `InputConstraintsMixin`\r\n     * to have date-picker fully control when to fire a change event\r\n     * and trigger validation.\r\n     *\r\n     * @protected\r\n     */\r\n    _onChange(event) {\r\n      event.stopPropagation();\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onClick(event) {\r\n      // Clear button click is handled in separate listener\r\n      // but bubbles to the host, so we need to ignore it.\r\n      if (!this._isClearButton(event)) {\r\n        this._onHostClick(event);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @param {Event} event\r\n     * @private\r\n     */\r\n    _onHostClick(event) {\r\n      if (!this.autoOpenDisabled || this._noInput) {\r\n        event.preventDefault();\r\n        this.open();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `InputControlMixin`\r\n     * to validate and dispatch change on clear.\r\n     * @protected\r\n     */\r\n    _onClearButtonClick(event) {\r\n      event.preventDefault();\r\n      this.__commitDate(null);\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `KeyboardMixin`.\r\n     * @param {KeyboardEvent} e\r\n     * @protected\r\n     * @override\r\n     */\r\n    _onKeyDown(e) {\r\n      super._onKeyDown(e);\r\n\r\n      if (this._noInput) {\r\n        // The input element cannot be readonly as it would conflict with\r\n        // the required attribute. Both are not allowed on an input element.\r\n        // Therefore we prevent default on most keydown events.\r\n        const allowedKeys = [\r\n          9, // Tab\r\n        ];\r\n        if (allowedKeys.indexOf(e.keyCode) === -1) {\r\n          e.preventDefault();\r\n        }\r\n      }\r\n\r\n      switch (e.key) {\r\n        case 'ArrowDown':\r\n        case 'ArrowUp':\r\n          // Prevent scrolling the page with arrows\r\n          e.preventDefault();\r\n          if (this.opened) {\r\n            // The overlay can be opened with ctrl + option + shift in VoiceOver\r\n            // and without this logic, it won't be possible to focus the dialog opened this way.\r\n            this._overlayContent.focusDateElement();\r\n          } else {\r\n            this._focusOverlayOnOpen = true;\r\n            this.open();\r\n          }\r\n          break;\r\n        case 'Tab':\r\n          if (this.opened) {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            // Clear the selection range (remains visible on IE)\r\n            this._setSelectionRange(0, 0);\r\n            if (e.shiftKey) {\r\n              this._overlayContent.focusCancel();\r\n            } else {\r\n              this._overlayContent.focusDateElement();\r\n            }\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `KeyboardMixin`.\r\n     *\r\n     * @param {!KeyboardEvent} _event\r\n     * @protected\r\n     * @override\r\n     */\r\n    _onEnter(_event) {\r\n      if (this.opened) {\r\n        // Closing will implicitly select parsed or focused date\r\n        this.close();\r\n      } else {\r\n        this.__commitParsedOrFocusedDate();\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `KeyboardMixin`.\r\n     * Do not call `super` in order to override clear\r\n     * button logic defined in `InputControlMixin`.\r\n     *\r\n     * @param {!KeyboardEvent} event\r\n     * @protected\r\n     * @override\r\n     */\r\n    _onEscape(event) {\r\n      // Closing overlay is handled in vaadin-overlay-escape-press event listener.\r\n      if (this.opened) {\r\n        return;\r\n      }\r\n\r\n      if (this.clearButtonVisible && !!this.value && !this.readonly) {\r\n        // Stop event from propagating to the host element\r\n        // to avoid closing dialog when clearing on Esc\r\n        event.stopPropagation();\r\n        this._onClearButtonClick(event);\r\n        return;\r\n      }\r\n\r\n      if (this.inputElement.value === '') {\r\n        // Do not restore selected date if Esc was pressed after clearing input field\r\n        this.__commitDate(null);\r\n      } else {\r\n        this._applyInputValue(this._selectedDate);\r\n      }\r\n    }\r\n\r\n    /** @protected */\r\n    _isClearButton(event) {\r\n      return event.composedPath()[0] === this.clearElement;\r\n    }\r\n\r\n    /**\r\n     * Override an event listener from `InputMixin`\r\n     * @protected\r\n     */\r\n    _onInput() {\r\n      if (!this.opened && this._inputElementValue && !this.autoOpenDisabled) {\r\n        this.open();\r\n      }\r\n\r\n      const parsedDate = this.__parseDate(this._inputElementValue || '');\r\n      if (parsedDate) {\r\n        this._ignoreFocusedDateChange = true;\r\n        if (!dateEquals(parsedDate, this._focusedDate)) {\r\n          this._focusedDate = parsedDate;\r\n        }\r\n        this._ignoreFocusedDateChange = false;\r\n      }\r\n\r\n      this.__setEnteredDate(parsedDate);\r\n    }\r\n\r\n    /**\r\n     * @param {Date} date\r\n     * @private\r\n     */\r\n    __setEnteredDate(date) {\r\n      if (date) {\r\n        if (!dateEquals(this.__enteredDate, date)) {\r\n          this.__enteredDate = date;\r\n        }\r\n      } else {\r\n        this.__enteredDate = null;\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __computeMinOrMaxDate(dateString) {\r\n      return parseDate(dateString);\r\n    }\r\n\r\n    /**\r\n     * Fired when the user commits a value change.\r\n     *\r\n     * @event change\r\n     */\r\n\r\n    /**\r\n     * Fired when `value` property value changes.\r\n     *\r\n     * @event value-changed\r\n     */\r\n\r\n    /**\r\n     * Fired when `opened` property value changes.\r\n     *\r\n     * @event opened-changed\r\n     */\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { css } from 'lit';\r\n\r\nexport const datePickerStyles = css`\r\n  :host([opened]) {\r\n    pointer-events: auto;\r\n  }\r\n\r\n  :host([dir='rtl']) [part='input-field'] {\r\n    direction: ltr;\r\n  }\r\n\r\n  :host([dir='rtl']) [part='input-field'] ::slotted(input)::placeholder {\r\n    direction: rtl;\r\n    text-align: left;\r\n  }\r\n`;\r\n", "/**\r\n * @license\r\n * Copyright (c) 2016 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport '@vaadin/input-container/src/vaadin-input-container.js';\r\nimport './vaadin-date-picker-overlay.js';\r\nimport './vaadin-date-picker-overlay-content.js';\r\nimport { html, PolymerElement } from '@polymer/polymer/polymer-element.js';\r\nimport { defineCustomElement } from '@vaadin/component-base/src/define.js';\r\nimport { ElementMixin } from '@vaadin/component-base/src/element-mixin.js';\r\nimport { TooltipController } from '@vaadin/component-base/src/tooltip-controller.js';\r\nimport { InputControlMixin } from '@vaadin/field-base/src/input-control-mixin.js';\r\nimport { InputController } from '@vaadin/field-base/src/input-controller.js';\r\nimport { LabelledInputController } from '@vaadin/field-base/src/labelled-input-controller.js';\r\nimport { inputFieldShared } from '@vaadin/field-base/src/styles/input-field-shared-styles.js';\r\nimport { registerStyles, ThemableMixin } from '@vaadin/vaadin-themable-mixin/vaadin-themable-mixin.js';\r\nimport { DatePickerMixin } from './vaadin-date-picker-mixin.js';\r\nimport { datePickerStyles } from './vaadin-date-picker-styles.js';\r\n\r\nregisterStyles('vaadin-date-picker', [inputFieldShared, datePickerStyles], { moduleId: 'vaadin-date-picker-styles' });\r\n\r\n/**\r\n * `<vaadin-date-picker>` is an input field that allows to enter a date by typing or by selecting from a calendar overlay.\r\n *\r\n * ```html\r\n * <vaadin-date-picker label=\"Birthday\"></vaadin-date-picker>\r\n * ```\r\n *\r\n * ```js\r\n * datePicker.value = '2016-03-02';\r\n * ```\r\n *\r\n * When the selected `value` is changed, a `value-changed` event is triggered.\r\n *\r\n * ### Styling\r\n *\r\n * The following custom properties are available for styling:\r\n *\r\n * Custom property                | Description                | Default\r\n * -------------------------------|----------------------------|---------\r\n * `--vaadin-field-default-width` | Default width of the field | `12em`\r\n *\r\n * `<vaadin-date-picker>` provides the same set of shadow DOM parts and state attributes as `<vaadin-text-field>`.\r\n * See [`<vaadin-text-field>`](#/elements/vaadin-text-field) for the styling documentation.\r\n *\r\n * In addition to `<vaadin-text-field>` parts, the following parts are available for theming:\r\n *\r\n * Part name             | Description\r\n * ----------------------|--------------------\r\n * `toggle-button`       | Toggle button\r\n *\r\n * In addition to `<vaadin-text-field>` state attributes, the following state attributes are available for theming:\r\n *\r\n * Attribute  | Description                                      | Part name\r\n * -----------|--------------------------------------------------|-----------\r\n * `opened`   | Set when the date selector overlay is opened     | :host\r\n *\r\n * If you want to replace the default `<input>` and its container with a custom implementation to get full control\r\n * over the input field, consider using the [`<vaadin-date-picker-light>`](#/elements/vaadin-date-picker-light) element.\r\n *\r\n * ### Internal components\r\n *\r\n * In addition to `<vaadin-date-picker>` itself, the following internal\r\n * components are themable:\r\n *\r\n * - `<vaadin-date-picker-overlay>` - has the same API as [`<vaadin-overlay>`](#/elements/vaadin-overlay).\r\n * - `<vaadin-date-picker-overlay-content>`\r\n * - `<vaadin-date-picker-month-scroller>`\r\n * - `<vaadin-date-picker-year-scroller>`\r\n * - `<vaadin-date-picker-year>`\r\n * - `<vaadin-month-calendar>`\r\n * - [`<vaadin-input-container>`](#/elements/vaadin-input-container) - an internal element wrapping the input.\r\n *\r\n * In order to style the overlay content, use `<vaadin-date-picker-overlay-content>` shadow DOM parts:\r\n *\r\n * Part name             | Description\r\n * ----------------------|--------------------\r\n * `overlay-header`      | Fullscreen mode header\r\n * `label`               | Fullscreen mode value/label\r\n * `clear-button`        | Fullscreen mode clear button\r\n * `toggle-button`       | Fullscreen mode toggle button\r\n * `years-toggle-button` | Fullscreen mode years scroller toggle\r\n * `toolbar`             | Footer bar with slotted buttons\r\n *\r\n * The following state attributes are available on the `<vaadin-date-picker-overlay-content>` element:\r\n *\r\n * Attribute       | Description\r\n * ----------------|-------------------------------------------------\r\n * `desktop`       | Set when the overlay content is in desktop mode\r\n * `fullscreen`    | Set when the overlay content is in fullscreen mode\r\n * `years-visible` | Set when the year scroller is visible in fullscreen mode\r\n *\r\n * In order to style the month calendar, use `<vaadin-month-calendar>` shadow DOM parts:\r\n *\r\n * Part name             | Description\r\n * ----------------------|--------------------\r\n * `month-header`        | Month title\r\n * `weekdays`            | Weekday container\r\n * `weekday`             | Weekday element\r\n * `week-numbers`        | Week numbers container\r\n * `week-number`         | Week number element\r\n * `date`                | Date element\r\n * `disabled`            | Disabled date element\r\n * `focused`             | Focused date element\r\n * `selected`            | Selected date element\r\n * `today`               | Date element corresponding to the current day\r\n * `past`                | Date element corresponding to the date in the past\r\n * `future`              | Date element corresponding to the date in the future\r\n *\r\n * In order to style year scroller elements, use `<vaadin-date-picker-year>` shadow DOM parts:\r\n *\r\n * Part name             | Description\r\n * ----------------------|--------------------\r\n * `year-number`         | Year number\r\n * `year-separator`      | Year separator\r\n *\r\n * Note: the `theme` attribute value set on `<vaadin-date-picker>` is\r\n * propagated to the internal components listed above.\r\n *\r\n * See [Styling Components](https://vaadin.com/docs/latest/styling/styling-components) documentation.\r\n *\r\n * ### Change events\r\n *\r\n * Depending on the nature of the value change that the user attempts to commit e.g. by pressing Enter,\r\n * the component can fire either a `change` event or an `unparsable-change` event:\r\n *\r\n * Value change             | Event\r\n * :------------------------|:------------------\r\n * empty => parsable        | change\r\n * empty => unparsable      | unparsable-change\r\n * parsable => empty        | change\r\n * parsable => parsable     | change\r\n * parsable => unparsable   | change\r\n * unparsable => empty      | unparsable-change\r\n * unparsable => parsable   | change\r\n * unparsable => unparsable | unparsable-change\r\n *\r\n * @fires {Event} change - Fired when the user commits a value change.\r\n * @fires {Event} unparsable-change Fired when the user commits an unparsable value change and there is no change event.\r\n * @fires {CustomEvent} invalid-changed - Fired when the `invalid` property changes.\r\n * @fires {CustomEvent} opened-changed - Fired when the `opened` property changes.\r\n * @fires {CustomEvent} value-changed - Fired when the `value` property changes.\r\n * @fires {CustomEvent} validated - Fired whenever the field is validated.\r\n *\r\n * @customElement\r\n * @extends HTMLElement\r\n * @mixes ElementMixin\r\n * @mixes ThemableMixin\r\n * @mixes InputControlMixin\r\n * @mixes DatePickerMixin\r\n */\r\nclass DatePicker extends DatePickerMixin(InputControlMixin(ThemableMixin(ElementMixin(PolymerElement)))) {\r\n  static get is() {\r\n    return 'vaadin-date-picker';\r\n  }\r\n\r\n  static get template() {\r\n    return html`\r\n      <div class=\"vaadin-date-picker-container\">\r\n        <div part=\"label\">\r\n          <slot name=\"label\"></slot>\r\n          <span part=\"required-indicator\" aria-hidden=\"true\" on-click=\"focus\"></span>\r\n        </div>\r\n\r\n        <vaadin-input-container\r\n          part=\"input-field\"\r\n          readonly=\"[[readonly]]\"\r\n          disabled=\"[[disabled]]\"\r\n          invalid=\"[[invalid]]\"\r\n          theme$=\"[[_theme]]\"\r\n        >\r\n          <slot name=\"prefix\" slot=\"prefix\"></slot>\r\n          <slot name=\"input\"></slot>\r\n          <div id=\"clearButton\" part=\"clear-button\" slot=\"suffix\" aria-hidden=\"true\"></div>\r\n          <div part=\"toggle-button\" slot=\"suffix\" aria-hidden=\"true\" on-click=\"_toggle\"></div>\r\n        </vaadin-input-container>\r\n\r\n        <div part=\"helper-text\">\r\n          <slot name=\"helper\"></slot>\r\n        </div>\r\n\r\n        <div part=\"error-message\">\r\n          <slot name=\"error-message\"></slot>\r\n        </div>\r\n      </div>\r\n\r\n      <vaadin-date-picker-overlay\r\n        id=\"overlay\"\r\n        fullscreen$=\"[[_fullscreen]]\"\r\n        theme$=\"[[_theme]]\"\r\n        opened=\"{{opened}}\"\r\n        on-vaadin-overlay-escape-press=\"_onOverlayEscapePress\"\r\n        on-vaadin-overlay-open=\"_onOverlayOpened\"\r\n        on-vaadin-overlay-closing=\"_onOverlayClosed\"\r\n        restore-focus-on-close\r\n        restore-focus-node=\"[[inputElement]]\"\r\n      ></vaadin-date-picker-overlay>\r\n\r\n      <slot name=\"tooltip\"></slot>\r\n    `;\r\n  }\r\n\r\n  /**\r\n   * Used by `InputControlMixin` as a reference to the clear button element.\r\n   * @protected\r\n   * @return {!HTMLElement}\r\n   */\r\n  get clearElement() {\r\n    return this.$.clearButton;\r\n  }\r\n\r\n  /** @protected */\r\n  ready() {\r\n    super.ready();\r\n\r\n    this.addController(\r\n      new InputController(\r\n        this,\r\n        (input) => {\r\n          this._setInputElement(input);\r\n          this._setFocusElement(input);\r\n          this.stateTarget = input;\r\n          this.ariaTarget = input;\r\n        },\r\n        {\r\n          // The \"search\" word is a trick to prevent Safari from enabling AutoFill,\r\n          // which is causing click issues:\r\n          // https://github.com/vaadin/web-components/issues/6817#issuecomment-2268229567\r\n          uniqueIdPrefix: 'search-input',\r\n        },\r\n      ),\r\n    );\r\n    this.addController(new LabelledInputController(this.inputElement, this._labelController));\r\n\r\n    this._tooltipController = new TooltipController(this);\r\n    this.addController(this._tooltipController);\r\n    this._tooltipController.setPosition('top');\r\n    this._tooltipController.setAriaTarget(this.inputElement);\r\n    this._tooltipController.setShouldShow((target) => !target.opened);\r\n\r\n    const toggleButton = this.shadowRoot.querySelector('[part=\"toggle-button\"]');\r\n    toggleButton.addEventListener('mousedown', (e) => e.preventDefault());\r\n\r\n    this.$.overlay.addEventListener('vaadin-overlay-close', this._onVaadinOverlayClose.bind(this));\r\n  }\r\n\r\n  /** @private */\r\n  _onVaadinOverlayClose(e) {\r\n    // Prevent closing the overlay on label element click\r\n    if (e.detail.sourceEvent && e.detail.sourceEvent.composedPath().includes(this)) {\r\n      e.preventDefault();\r\n    }\r\n  }\r\n\r\n  /** @private */\r\n  _toggle(e) {\r\n    e.stopPropagation();\r\n    if (this.$.overlay.opened) {\r\n      this.close();\r\n    } else {\r\n      this.open();\r\n    }\r\n  }\r\n\r\n  // Workaround https://github.com/vaadin/web-components/issues/2855\r\n  /** @protected */\r\n  _openedChanged(opened) {\r\n    super._openedChanged(opened);\r\n\r\n    this.$.overlay.positionTarget = this.shadowRoot.querySelector('[part=\"input-field\"]');\r\n    this.$.overlay.noVerticalOverlap = true;\r\n  }\r\n}\r\n\r\ndefineCustomElement(DatePicker);\r\n\r\nexport { DatePicker };\r\n"],
  "mappings": "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",
  "names": ["Debouncer", "timeOut", "stylesTemplate", "template", "matches", "Debouncer", "timeOut", "matches", "inputFieldShared"]
}
