{
  "version": 3,
  "sources": ["../../@vaadin/popover/src/vaadin-popover-position-mixin.js", "../../@vaadin/popover/src/vaadin-popover-target-mixin.js", "../../@vaadin/popover/src/vaadin-popover-overlay-mixin.js"],
  "sourcesContent": ["/**\r\n * @license\r\n * Copyright (c) 2024 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\n\r\n/**\r\n * A mixin providing popover position functionality.\r\n *\r\n * @polymerMixin\r\n */\r\nexport const PopoverPositionMixin = (superClass) =>\r\n  class PopoverPositionMixinClass extends superClass {\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * Position of the overlay with respect to the target.\r\n         * Supported values: `top-start`, `top`, `top-end`,\r\n         * `bottom-start`, `bottom`, `bottom-end`, `start-top`,\r\n         * `start`, `start-bottom`, `end-top`, `end`, `end-bottom`.\r\n         */\r\n        position: {\r\n          type: String,\r\n        },\r\n\r\n        /**\r\n         * Default value used when `position` property is not set.\r\n         * @protected\r\n         */\r\n        _position: {\r\n          type: String,\r\n          value: 'bottom',\r\n        },\r\n\r\n        /** @private */\r\n        __effectivePosition: {\r\n          type: String,\r\n          computed: '__computePosition(position, _position)',\r\n        },\r\n      };\r\n    }\r\n\r\n    /** @protected */\r\n    __computeHorizontalAlign(position) {\r\n      return ['top-end', 'bottom-end', 'start-top', 'start', 'start-bottom'].includes(position) ? 'end' : 'start';\r\n    }\r\n\r\n    /** @protected */\r\n    __computeNoHorizontalOverlap(position) {\r\n      return ['start-top', 'start', 'start-bottom', 'end-top', 'end', 'end-bottom'].includes(position);\r\n    }\r\n\r\n    /** @protected */\r\n    __computeNoVerticalOverlap(position) {\r\n      return ['top-start', 'top-end', 'top', 'bottom-start', 'bottom', 'bottom-end'].includes(position);\r\n    }\r\n\r\n    /** @protected */\r\n    __computeVerticalAlign(position) {\r\n      return ['top-start', 'top-end', 'top', 'start-bottom', 'end-bottom'].includes(position) ? 'bottom' : 'top';\r\n    }\r\n\r\n    /** @private */\r\n    __computePosition(position, defaultPosition) {\r\n      return position || defaultPosition;\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2024 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { microTask } from '@vaadin/component-base/src/async.js';\r\nimport { Debouncer } from '@vaadin/component-base/src/debounce.js';\r\n\r\n/**\r\n * A mixin providing popover target functionality.\r\n *\r\n * @polymerMixin\r\n */\r\nexport const PopoverTargetMixin = (superClass) =>\r\n  class PopoverTargetMixinClass extends superClass {\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * The id of the element to be used as `target` value.\r\n         * The element should be in the DOM by the time when\r\n         * the attribute is set, otherwise a warning is shown.\r\n         */\r\n        for: {\r\n          type: String,\r\n          observer: '__forChanged',\r\n        },\r\n\r\n        /**\r\n         * Reference to the DOM element used both to trigger the overlay\r\n         * by user interaction and to visually position it on the screen.\r\n         *\r\n         * Defaults to an element referenced with `for` attribute, in\r\n         * which case it must be located in the same shadow scope.\r\n         */\r\n        target: {\r\n          type: Object,\r\n        },\r\n\r\n        /** @private */\r\n        __isConnected: {\r\n          type: Boolean,\r\n          sync: true,\r\n        },\r\n      };\r\n    }\r\n\r\n    static get observers() {\r\n      return ['__targetOrConnectedChanged(target, __isConnected)'];\r\n    }\r\n\r\n    /** @protected */\r\n    connectedCallback() {\r\n      super.connectedCallback();\r\n\r\n      this.__isConnected = true;\r\n    }\r\n\r\n    /** @protected */\r\n    disconnectedCallback() {\r\n      super.disconnectedCallback();\r\n\r\n      this.__isConnected = false;\r\n    }\r\n\r\n    /** @private */\r\n    __forChanged(forId) {\r\n      if (forId) {\r\n        this.__setTargetByIdDebouncer = Debouncer.debounce(this.__setTargetByIdDebouncer, microTask, () =>\r\n          this.__setTargetById(forId),\r\n        );\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __setTargetById(targetId) {\r\n      if (!this.isConnected) {\r\n        return;\r\n      }\r\n\r\n      const target = this.getRootNode().getElementById(targetId);\r\n\r\n      if (target) {\r\n        this.target = target;\r\n      } else {\r\n        console.warn(`No element with id=\"${targetId}\" set via \"for\" property found on the page.`);\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __targetOrConnectedChanged(target, isConnected) {\r\n      if (this.__previousTarget && (this.__previousTarget !== target || !isConnected)) {\r\n        this._removeTargetListeners(this.__previousTarget);\r\n      }\r\n\r\n      if (target && isConnected) {\r\n        this._addTargetListeners(target);\r\n      }\r\n\r\n      this.__previousTarget = target;\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} _target\r\n     * @protected\r\n     */\r\n    _addTargetListeners(_target) {\r\n      // To be implemented.\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} _target\r\n     * @protected\r\n     */\r\n    _removeTargetListeners(_target) {\r\n      // To be implemented.\r\n    }\r\n  };\r\n", "/**\r\n * @license\r\n * Copyright (c) 2022 - 2025 Vaadin Ltd.\r\n * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/\r\n */\r\nimport { OverlayMixin } from '@vaadin/overlay/src/vaadin-overlay-mixin.js';\r\nimport { PositionMixin } from '@vaadin/overlay/src/vaadin-overlay-position-mixin.js';\r\nimport { setNestedOverlay } from '@vaadin/overlay/src/vaadin-overlay-stack-mixin.js';\r\n\r\n/**\r\n * Returns the closest parent overlay for given node, if any.\r\n * @param {HTMLElement} node\r\n * @return {HTMLElement}\r\n */\r\nconst getClosestOverlay = (node) => {\r\n  let n = node;\r\n\r\n  while (n && n !== node.ownerDocument) {\r\n    n = n.parentNode || n.host;\r\n\r\n    if (n && n._hasOverlayStackMixin) {\r\n      return n;\r\n    }\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\n/**\r\n * A mixin providing common popover overlay functionality.\r\n *\r\n * @polymerMixin\r\n * @mixes PositionMixin\r\n * @mixes OverlayMixin\r\n */\r\nexport const PopoverOverlayMixin = (superClass) =>\r\n  class PopoverOverlayMixinClass extends PositionMixin(OverlayMixin(superClass)) {\r\n    static get properties() {\r\n      return {\r\n        position: {\r\n          type: String,\r\n          reflectToAttribute: true,\r\n        },\r\n      };\r\n    }\r\n\r\n    static get observers() {\r\n      return ['__openedOrTargetChanged(opened, positionTarget)'];\r\n    }\r\n\r\n    /**\r\n     * Tag name prefix used by custom properties.\r\n     * @protected\r\n     * @return {string}\r\n     */\r\n    get _tagNamePrefix() {\r\n      return 'vaadin-popover';\r\n    }\r\n\r\n    requestContentUpdate() {\r\n      super.requestContentUpdate();\r\n\r\n      // Copy custom properties from the owner\r\n      if (this.positionTarget && this.owner) {\r\n        const style = getComputedStyle(this.owner);\r\n        ['top', 'bottom', 'start', 'end'].forEach((prop) => {\r\n          this.style.setProperty(\r\n            `--${this._tagNamePrefix}-offset-${prop}`,\r\n            style.getPropertyValue(`--${this._tagNamePrefix}-offset-${prop}`),\r\n          );\r\n        });\r\n      }\r\n    }\r\n\r\n    /**\r\n     * @protected\r\n     * @override\r\n     */\r\n    _updatePosition() {\r\n      super._updatePosition();\r\n\r\n      if (!this.positionTarget || !this.opened) {\r\n        return;\r\n      }\r\n\r\n      this.removeAttribute('arrow-centered');\r\n\r\n      // Center the overlay horizontally\r\n      if (this.position === 'bottom' || this.position === 'top') {\r\n        const targetRect = this.positionTarget.getBoundingClientRect();\r\n        const overlayRect = this.$.overlay.getBoundingClientRect();\r\n\r\n        const offset = targetRect.width / 2 - overlayRect.width / 2;\r\n\r\n        if (this.style.left) {\r\n          const left = overlayRect.left + offset;\r\n          if (left > 0) {\r\n            this.style.left = `${left}px`;\r\n            // Center the pointer arrow horizontally\r\n            this.setAttribute('arrow-centered', '');\r\n          }\r\n        }\r\n\r\n        if (this.style.right) {\r\n          const right = parseFloat(this.style.right) + offset;\r\n          if (right > 0) {\r\n            this.style.right = `${right}px`;\r\n            // Center the pointer arrow horizontally\r\n            this.setAttribute('arrow-centered', '');\r\n          }\r\n        }\r\n      }\r\n\r\n      // Center the overlay vertically\r\n      if (this.position === 'start' || this.position === 'end') {\r\n        const targetRect = this.positionTarget.getBoundingClientRect();\r\n        const overlayRect = this.$.overlay.getBoundingClientRect();\r\n\r\n        const offset = targetRect.height / 2 - overlayRect.height / 2;\r\n        this.style.top = `${overlayRect.top + offset}px`;\r\n      }\r\n    }\r\n\r\n    /** @private */\r\n    __openedOrTargetChanged(opened, target) {\r\n      if (target) {\r\n        const parent = getClosestOverlay(target);\r\n        if (parent) {\r\n          setNestedOverlay(parent, opened ? this : null);\r\n        }\r\n      }\r\n    }\r\n  };\r\n"],
  "mappings": "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",
  "names": []
}
