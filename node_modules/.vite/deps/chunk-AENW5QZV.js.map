{
  "version": 3,
  "sources": ["../../@polymer/polymer/lib/utils/flush.js", "../../@polymer/polymer/lib/utils/hide-template-controls.js", "../../@polymer/polymer/lib/mixins/mutable-data.js", "../../@polymer/polymer/lib/utils/templatize.js"],
  "sourcesContent": ["/**\r\n@license\r\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\r\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\nCode distributed by Google as part of the polymer project is also\r\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n*/\r\nimport './boot.js';\r\nimport {enqueueDebouncer, flushDebouncers} from '../utils/debounce.js';\r\nexport {enqueueDebouncer};\r\n\r\n/**\r\n * Forces several classes of asynchronously queued tasks to flush:\r\n * - Debouncers added via `enqueueDebouncer`\r\n * - ShadyDOM distribution\r\n *\r\n * @return {void}\r\n */\r\nexport const flush = function() {\r\n  let shadyDOM, debouncers;\r\n  do {\r\n    shadyDOM = window.ShadyDOM && ShadyDOM.flush();\r\n    if (window.ShadyCSS && window.ShadyCSS.ScopingShim) {\r\n      window.ShadyCSS.ScopingShim.flush();\r\n    }\r\n    debouncers = flushDebouncers();\r\n  } while (shadyDOM || debouncers);\r\n};\r\n", "/**\r\n@license\r\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\r\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\nCode distributed by Google as part of the polymer project is also\r\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n*/\r\n\r\n/**\r\n * @fileoverview\r\n *\r\n * Module to hide `<dom-bind>`, `<dom-if>`, and `<dom-repeat>` elements\r\n * optimally in ShadyDOM\r\n */\r\n\r\nimport {legacyOptimizations, useShadow} from './settings.js';\r\n\r\nlet elementsHidden = false;\r\n\r\n/**\r\n * @return {boolean} True if elements will be hidden globally\r\n */\r\nexport function hideElementsGlobally() {\r\n  if (legacyOptimizations && !useShadow) {\r\n    if (!elementsHidden) {\r\n      elementsHidden = true;\r\n      const style = document.createElement('style');\r\n      style.textContent = 'dom-bind,dom-if,dom-repeat{display:none;}';\r\n      document.head.appendChild(style);\r\n    }\r\n    return true;\r\n  }\r\n  return false;\r\n}", "/**\r\n@license\r\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\r\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\nCode distributed by Google as part of the polymer project is also\r\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n*/\r\nimport { dedupingMixin } from '../utils/mixin.js';\r\n\r\n// Common implementation for mixin & behavior\r\nfunction mutablePropertyChange(inst, property, value, old, mutableData) {\r\n  let isObject;\r\n  if (mutableData) {\r\n    isObject = (typeof value === 'object' && value !== null);\r\n    // Pull `old` for Objects from temp cache, but treat `null` as a primitive\r\n    if (isObject) {\r\n      old = inst.__dataTemp[property];\r\n    }\r\n  }\r\n  // Strict equality check, but return false for NaN===NaN\r\n  let shouldChange = (old !== value && (old === old || value === value));\r\n  // Objects are stored in temporary cache (cleared at end of\r\n  // turn), which is used for dirty-checking\r\n  if (isObject && shouldChange) {\r\n    inst.__dataTemp[property] = value;\r\n  }\r\n  return shouldChange;\r\n}\r\n\r\n/**\r\n * Element class mixin to skip strict dirty-checking for objects and arrays\r\n * (always consider them to be \"dirty\"), for use on elements utilizing\r\n * `PropertyEffects`\r\n *\r\n * By default, `PropertyEffects` performs strict dirty checking on\r\n * objects, which means that any deep modifications to an object or array will\r\n * not be propagated unless \"immutable\" data patterns are used (i.e. all object\r\n * references from the root to the mutation were changed).\r\n *\r\n * Polymer also provides a proprietary data mutation and path notification API\r\n * (e.g. `notifyPath`, `set`, and array mutation API's) that allow efficient\r\n * mutation and notification of deep changes in an object graph to all elements\r\n * bound to the same object graph.\r\n *\r\n * In cases where neither immutable patterns nor the data mutation API can be\r\n * used, applying this mixin will cause Polymer to skip dirty checking for\r\n * objects and arrays (always consider them to be \"dirty\").  This allows a\r\n * user to make a deep modification to a bound object graph, and then either\r\n * simply re-set the object (e.g. `this.items = this.items`) or call `notifyPath`\r\n * (e.g. `this.notifyPath('items')`) to update the tree.  Note that all\r\n * elements that wish to be updated based on deep mutations must apply this\r\n * mixin or otherwise skip strict dirty checking for objects/arrays.\r\n * Specifically, any elements in the binding tree between the source of a\r\n * mutation and the consumption of it must apply this mixin or enable the\r\n * `OptionalMutableData` mixin.\r\n *\r\n * In order to make the dirty check strategy configurable, see\r\n * `OptionalMutableData`.\r\n *\r\n * Note, the performance characteristics of propagating large object graphs\r\n * will be worse as opposed to using strict dirty checking with immutable\r\n * patterns or Polymer's path notification API.\r\n *\r\n * @mixinFunction\r\n * @polymer\r\n * @summary Element class mixin to skip strict dirty-checking for objects\r\n *   and arrays\r\n * @template T\r\n * @param {function(new:T)} superClass Class to apply mixin to.\r\n * @return {function(new:T)} superClass with mixin applied.\r\n */\r\nexport const MutableData = dedupingMixin(superClass => {\r\n\r\n  /**\r\n   * @polymer\r\n   * @mixinClass\r\n   * @implements {Polymer_MutableData}\r\n   */\r\n  class MutableData extends superClass {\r\n    /**\r\n     * Overrides `PropertyEffects` to provide option for skipping\r\n     * strict equality checking for Objects and Arrays.\r\n     *\r\n     * This method pulls the value to dirty check against from the `__dataTemp`\r\n     * cache (rather than the normal `__data` cache) for Objects.  Since the temp\r\n     * cache is cleared at the end of a turn, this implementation allows\r\n     * side-effects of deep object changes to be processed by re-setting the\r\n     * same object (using the temp cache as an in-turn backstop to prevent\r\n     * cycles due to 2-way notification).\r\n     *\r\n     * @param {string} property Property name\r\n     * @param {*} value New property value\r\n     * @param {*} old Previous property value\r\n     * @return {boolean} Whether the property should be considered a change\r\n     * @protected\r\n     */\r\n    _shouldPropertyChange(property, value, old) {\r\n      return mutablePropertyChange(this, property, value, old, true);\r\n    }\r\n\r\n  }\r\n\r\n  return MutableData;\r\n\r\n});\r\n\r\n/**\r\n * Element class mixin to add the optional ability to skip strict\r\n * dirty-checking for objects and arrays (always consider them to be\r\n * \"dirty\") by setting a `mutable-data` attribute on an element instance.\r\n *\r\n * By default, `PropertyEffects` performs strict dirty checking on\r\n * objects, which means that any deep modifications to an object or array will\r\n * not be propagated unless \"immutable\" data patterns are used (i.e. all object\r\n * references from the root to the mutation were changed).\r\n *\r\n * Polymer also provides a proprietary data mutation and path notification API\r\n * (e.g. `notifyPath`, `set`, and array mutation API's) that allow efficient\r\n * mutation and notification of deep changes in an object graph to all elements\r\n * bound to the same object graph.\r\n *\r\n * In cases where neither immutable patterns nor the data mutation API can be\r\n * used, applying this mixin will allow Polymer to skip dirty checking for\r\n * objects and arrays (always consider them to be \"dirty\").  This allows a\r\n * user to make a deep modification to a bound object graph, and then either\r\n * simply re-set the object (e.g. `this.items = this.items`) or call `notifyPath`\r\n * (e.g. `this.notifyPath('items')`) to update the tree.  Note that all\r\n * elements that wish to be updated based on deep mutations must apply this\r\n * mixin or otherwise skip strict dirty checking for objects/arrays.\r\n * Specifically, any elements in the binding tree between the source of a\r\n * mutation and the consumption of it must enable this mixin or apply the\r\n * `MutableData` mixin.\r\n *\r\n * While this mixin adds the ability to forgo Object/Array dirty checking,\r\n * the `mutableData` flag defaults to false and must be set on the instance.\r\n *\r\n * Note, the performance characteristics of propagating large object graphs\r\n * will be worse by relying on `mutableData: true` as opposed to using\r\n * strict dirty checking with immutable patterns or Polymer's path notification\r\n * API.\r\n *\r\n * @mixinFunction\r\n * @polymer\r\n * @summary Element class mixin to optionally skip strict dirty-checking\r\n *   for objects and arrays\r\n */\r\nexport const OptionalMutableData = dedupingMixin(superClass => {\r\n\r\n  /**\r\n   * @mixinClass\r\n   * @polymer\r\n   * @implements {Polymer_OptionalMutableData}\r\n   */\r\n  class OptionalMutableData extends superClass {\r\n\r\n    /** @nocollapse */\r\n    static get properties() {\r\n      return {\r\n        /**\r\n         * Instance-level flag for configuring the dirty-checking strategy\r\n         * for this element.  When true, Objects and Arrays will skip dirty\r\n         * checking, otherwise strict equality checking will be used.\r\n         */\r\n        mutableData: Boolean\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Overrides `PropertyEffects` to provide option for skipping\r\n     * strict equality checking for Objects and Arrays.\r\n     *\r\n     * When `this.mutableData` is true on this instance, this method\r\n     * pulls the value to dirty check against from the `__dataTemp` cache\r\n     * (rather than the normal `__data` cache) for Objects.  Since the temp\r\n     * cache is cleared at the end of a turn, this implementation allows\r\n     * side-effects of deep object changes to be processed by re-setting the\r\n     * same object (using the temp cache as an in-turn backstop to prevent\r\n     * cycles due to 2-way notification).\r\n     *\r\n     * @param {string} property Property name\r\n     * @param {*} value New property value\r\n     * @param {*} old Previous property value\r\n     * @return {boolean} Whether the property should be considered a change\r\n     * @protected\r\n     */\r\n    _shouldPropertyChange(property, value, old) {\r\n      return mutablePropertyChange(this, property, value, old, this.mutableData);\r\n    }\r\n  }\r\n\r\n  return OptionalMutableData;\r\n\r\n});\r\n\r\n// Export for use by legacy behavior\r\nMutableData._mutablePropertyChange = mutablePropertyChange;\r\n", "/**\r\n@license\r\nCopyright (c) 2017 The Polymer Project Authors. All rights reserved.\r\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\r\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\r\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\r\nCode distributed by Google as part of the polymer project is also\r\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\r\n*/\r\n\r\n/**\r\n * Module for preparing and stamping instances of templates that utilize\r\n * Polymer's data-binding and declarative event listener features.\r\n *\r\n * Example:\r\n *\r\n *     // Get a template from somewhere, e.g. light DOM\r\n *     let template = this.querySelector('template');\r\n *     // Prepare the template\r\n *     let TemplateClass = Templatize.templatize(template);\r\n *     // Instance the template with an initial data model\r\n *     let instance = new TemplateClass({myProp: 'initial'});\r\n *     // Insert the instance's DOM somewhere, e.g. element's shadow DOM\r\n *     this.shadowRoot.appendChild(instance.root);\r\n *     // Changing a property on the instance will propagate to bindings\r\n *     // in the template\r\n *     instance.myProp = 'new value';\r\n *\r\n * The `options` dictionary passed to `templatize` allows for customizing\r\n * features of the generated template class, including how outer-scope host\r\n * properties should be forwarded into template instances, how any instance\r\n * properties added into the template's scope should be notified out to\r\n * the host, and whether the instance should be decorated as a \"parent model\"\r\n * of any event handlers.\r\n *\r\n *     // Customize property forwarding and event model decoration\r\n *     let TemplateClass = Templatize.templatize(template, this, {\r\n *       parentModel: true,\r\n *       forwardHostProp(property, value) {...},\r\n *       instanceProps: {...},\r\n *       notifyInstanceProp(instance, property, value) {...},\r\n *     });\r\n *\r\n * @summary Module for preparing and stamping instances of templates\r\n *   utilizing Polymer templating features.\r\n */\r\n\r\nimport './boot.js';\r\n\r\nimport { PropertyEffects } from '../mixins/property-effects.js';\r\nimport { MutableData } from '../mixins/mutable-data.js';\r\nimport { strictTemplatePolicy, legacyWarnings } from './settings.js';\r\nimport { wrap } from './wrap.js';\r\n\r\n// Base class for HTMLTemplateElement extension that has property effects\r\n// machinery for propagating host properties to children. This is an ES5\r\n// class only because Babel (incorrectly) requires super() in the class\r\n// constructor even though no `this` is used and it returns an instance.\r\nlet newInstance = null;\r\n\r\n/**\r\n * @constructor\r\n * @extends {HTMLTemplateElement}\r\n * @private\r\n */\r\nfunction HTMLTemplateElementExtension() { return newInstance; }\r\nHTMLTemplateElementExtension.prototype = Object.create(HTMLTemplateElement.prototype, {\r\n  constructor: {\r\n    value: HTMLTemplateElementExtension,\r\n    writable: true\r\n  }\r\n});\r\n\r\n/**\r\n * @constructor\r\n * @implements {Polymer_PropertyEffects}\r\n * @extends {HTMLTemplateElementExtension}\r\n * @private\r\n */\r\nconst DataTemplate = PropertyEffects(HTMLTemplateElementExtension);\r\n\r\n/**\r\n * @constructor\r\n * @implements {Polymer_MutableData}\r\n * @extends {DataTemplate}\r\n * @private\r\n */\r\nconst MutableDataTemplate = MutableData(DataTemplate);\r\n\r\n// Applies a DataTemplate subclass to a <template> instance\r\nfunction upgradeTemplate(template, constructor) {\r\n  newInstance = template;\r\n  Object.setPrototypeOf(template, constructor.prototype);\r\n  new constructor();\r\n  newInstance = null;\r\n}\r\n\r\n/**\r\n * Base class for TemplateInstance.\r\n * @constructor\r\n * @extends {HTMLElement}\r\n * @implements {Polymer_PropertyEffects}\r\n * @private\r\n */\r\nconst templateInstanceBase = PropertyEffects(class {});\r\n\r\nexport function showHideChildren(hide, children) {\r\n  for (let i=0; i<children.length; i++) {\r\n    let n = children[i];\r\n    // Ignore non-changes\r\n    if (Boolean(hide) != Boolean(n.__hideTemplateChildren__)) {\r\n      // clear and restore text\r\n      if (n.nodeType === Node.TEXT_NODE) {\r\n        if (hide) {\r\n          n.__polymerTextContent__ = n.textContent;\r\n          n.textContent = '';\r\n        } else {\r\n          n.textContent = n.__polymerTextContent__;\r\n        }\r\n      // remove and replace slot\r\n      } else if (n.localName === 'slot') {\r\n        if (hide) {\r\n          n.__polymerReplaced__ = document.createComment('hidden-slot');\r\n          wrap(wrap(n).parentNode).replaceChild(n.__polymerReplaced__, n);\r\n        } else {\r\n          const replace = n.__polymerReplaced__;\r\n          if (replace) {\r\n            wrap(wrap(replace).parentNode).replaceChild(n, replace);\r\n          }\r\n        }\r\n      }\r\n      // hide and show nodes\r\n      else if (n.style) {\r\n        if (hide) {\r\n          n.__polymerDisplay__ = n.style.display;\r\n          n.style.display = 'none';\r\n        } else {\r\n          n.style.display = n.__polymerDisplay__;\r\n        }\r\n      }\r\n    }\r\n    n.__hideTemplateChildren__ = hide;\r\n    if (n._showHideChildren) {\r\n      n._showHideChildren(hide);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @polymer\r\n * @customElement\r\n * @appliesMixin PropertyEffects\r\n * @unrestricted\r\n */\r\nclass TemplateInstanceBase extends templateInstanceBase {\r\n  constructor(props) {\r\n    super();\r\n    this._configureProperties(props);\r\n    /** @type {!StampedTemplate} */\r\n    this.root = this._stampTemplate(this.__dataHost);\r\n    // Save list of stamped children\r\n    let children = [];\r\n    /** @suppress {invalidCasts} */\r\n    this.children = /** @type {!NodeList} */ (children);\r\n    // Polymer 1.x did not use `Polymer.dom` here so not bothering.\r\n    for (let n = this.root.firstChild; n; n=n.nextSibling) {\r\n      children.push(n);\r\n      n.__templatizeInstance = this;\r\n    }\r\n    if (this.__templatizeOwner &&\r\n      this.__templatizeOwner.__hideTemplateChildren__) {\r\n      this._showHideChildren(true);\r\n    }\r\n    // Flush props only when props are passed if instance props exist\r\n    // or when there isn't instance props.\r\n    let options = this.__templatizeOptions;\r\n    if ((props && options.instanceProps) || !options.instanceProps) {\r\n      this._enableProperties();\r\n    }\r\n  }\r\n  /**\r\n   * Configure the given `props` by calling `_setPendingProperty`. Also\r\n   * sets any properties stored in `__hostProps`.\r\n   * @private\r\n   * @param {Object} props Object of property name-value pairs to set.\r\n   * @return {void}\r\n   */\r\n  _configureProperties(props) {\r\n    let options = this.__templatizeOptions;\r\n    if (options.forwardHostProp) {\r\n      for (let hprop in this.__hostProps) {\r\n        this._setPendingProperty(hprop, this.__dataHost['_host_' + hprop]);\r\n      }\r\n    }\r\n    // Any instance props passed in the constructor will overwrite host props;\r\n    // normally this would be a user error but we don't specifically filter them\r\n    for (let iprop in props) {\r\n      this._setPendingProperty(iprop, props[iprop]);\r\n    }\r\n  }\r\n  /**\r\n   * Forwards a host property to this instance.  This method should be\r\n   * called on instances from the `options.forwardHostProp` callback\r\n   * to propagate changes of host properties to each instance.\r\n   *\r\n   * Note this method enqueues the change, which are flushed as a batch.\r\n   *\r\n   * @param {string} prop Property or path name\r\n   * @param {*} value Value of the property to forward\r\n   * @return {void}\r\n   */\r\n  forwardHostProp(prop, value) {\r\n    if (this._setPendingPropertyOrPath(prop, value, false, true)) {\r\n      this.__dataHost._enqueueClient(this);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Override point for adding custom or simulated event handling.\r\n   *\r\n   * @override\r\n   * @param {!Node} node Node to add event listener to\r\n   * @param {string} eventName Name of event\r\n   * @param {function(!Event):void} handler Listener function to add\r\n   * @return {void}\r\n   */\r\n  _addEventListenerToNode(node, eventName, handler) {\r\n    if (this._methodHost && this.__templatizeOptions.parentModel) {\r\n      // If this instance should be considered a parent model, decorate\r\n      // events this template instance as `model`\r\n      this._methodHost._addEventListenerToNode(node, eventName, (e) => {\r\n        e.model = this;\r\n        handler(e);\r\n      });\r\n    } else {\r\n      // Otherwise delegate to the template's host (which could be)\r\n      // another template instance\r\n      let templateHost = this.__dataHost.__dataHost;\r\n      if (templateHost) {\r\n        templateHost._addEventListenerToNode(node, eventName, handler);\r\n      }\r\n    }\r\n  }\r\n  /**\r\n   * Shows or hides the template instance top level child elements. For\r\n   * text nodes, `textContent` is removed while \"hidden\" and replaced when\r\n   * \"shown.\"\r\n   * @param {boolean} hide Set to true to hide the children;\r\n   * set to false to show them.\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  _showHideChildren(hide) {\r\n    showHideChildren(hide, this.children);\r\n  }\r\n  /**\r\n   * Overrides default property-effects implementation to intercept\r\n   * textContent bindings while children are \"hidden\" and cache in\r\n   * private storage for later retrieval.\r\n   *\r\n   * @override\r\n   * @param {!Node} node The node to set a property on\r\n   * @param {string} prop The property to set\r\n   * @param {*} value The value to set\r\n   * @return {void}\r\n   * @protected\r\n   */\r\n  _setUnmanagedPropertyToNode(node, prop, value) {\r\n    if (node.__hideTemplateChildren__ &&\r\n        node.nodeType == Node.TEXT_NODE && prop == 'textContent') {\r\n      node.__polymerTextContent__ = value;\r\n    } else {\r\n      super._setUnmanagedPropertyToNode(node, prop, value);\r\n    }\r\n  }\r\n  /**\r\n   * Find the parent model of this template instance.  The parent model\r\n   * is either another templatize instance that had option `parentModel: true`,\r\n   * or else the host element.\r\n   *\r\n   * @return {!Polymer_PropertyEffects} The parent model of this instance\r\n   */\r\n  get parentModel() {\r\n    let model = this.__parentModel;\r\n    if (!model) {\r\n      let options;\r\n      model = this;\r\n      do {\r\n        // A template instance's `__dataHost` is a <template>\r\n        // `model.__dataHost.__dataHost` is the template's host\r\n        model = model.__dataHost.__dataHost;\r\n      } while ((options = model.__templatizeOptions) && !options.parentModel);\r\n      this.__parentModel = model;\r\n    }\r\n    return model;\r\n  }\r\n\r\n  /**\r\n   * Stub of HTMLElement's `dispatchEvent`, so that effects that may\r\n   * dispatch events safely no-op.\r\n   *\r\n   * @param {Event} event Event to dispatch\r\n   * @return {boolean} Always true.\r\n   * @override\r\n   */\r\n   dispatchEvent(event) { // eslint-disable-line no-unused-vars\r\n     return true;\r\n  }\r\n}\r\n\r\n/** @type {!DataTemplate} */\r\nTemplateInstanceBase.prototype.__dataHost;\r\n/** @type {!TemplatizeOptions} */\r\nTemplateInstanceBase.prototype.__templatizeOptions;\r\n/** @type {!Polymer_PropertyEffects} */\r\nTemplateInstanceBase.prototype._methodHost;\r\n/** @type {!Object} */\r\nTemplateInstanceBase.prototype.__templatizeOwner;\r\n/** @type {!Object} */\r\nTemplateInstanceBase.prototype.__hostProps;\r\n\r\n/**\r\n * @constructor\r\n * @extends {TemplateInstanceBase}\r\n * @implements {Polymer_MutableData}\r\n * @private\r\n */\r\nconst MutableTemplateInstanceBase = MutableData(\r\n    // This cast shouldn't be neccessary, but Closure doesn't understand that\r\n    // TemplateInstanceBase is a constructor function.\r\n    /** @type {function(new:TemplateInstanceBase)} */ (TemplateInstanceBase));\r\n\r\nfunction findMethodHost(template) {\r\n  // Technically this should be the owner of the outermost template.\r\n  // In shadow dom, this is always getRootNode().host, but we can\r\n  // approximate this via cooperation with our dataHost always setting\r\n  // `_methodHost` as long as there were bindings (or id's) on this\r\n  // instance causing it to get a dataHost.\r\n  let templateHost = template.__dataHost;\r\n  return templateHost && templateHost._methodHost || templateHost;\r\n}\r\n\r\n/* eslint-disable valid-jsdoc */\r\n/**\r\n * @suppress {missingProperties} class.prototype is not defined for some reason\r\n */\r\nfunction createTemplatizerClass(template, templateInfo, options) {\r\n  /**\r\n   * @constructor\r\n   * @extends {TemplateInstanceBase}\r\n   */\r\n  let templatizerBase = options.mutableData ?\r\n    MutableTemplateInstanceBase : TemplateInstanceBase;\r\n\r\n  // Affordance for global mixins onto TemplatizeInstance\r\n  if (templatize.mixin) {\r\n    templatizerBase = templatize.mixin(templatizerBase);\r\n  }\r\n\r\n  /**\r\n   * Anonymous class created by the templatize\r\n   * @constructor\r\n   * @private\r\n   */\r\n  let klass = class extends templatizerBase { };\r\n  /** @override */\r\n  klass.prototype.__templatizeOptions = options;\r\n  klass.prototype._bindTemplate(template);\r\n  addNotifyEffects(klass, template, templateInfo, options);\r\n  return klass;\r\n}\r\n\r\n/**\r\n * Adds propagate effects from the template to the template instance for\r\n * properties that the host binds to the template using the `_host_` prefix.\r\n *\r\n * @suppress {missingProperties} class.prototype is not defined for some reason\r\n */\r\nfunction addPropagateEffects(target, templateInfo, options, methodHost) {\r\n  let userForwardHostProp = options.forwardHostProp;\r\n  if (userForwardHostProp && templateInfo.hasHostProps) {\r\n    // Under the `removeNestedTemplates` optimization, a custom element like\r\n    // `dom-if` or `dom-repeat` can itself be treated as the \"template\"; this\r\n    // flag is used to switch between upgrading a `<template>` to be a property\r\n    // effects client vs. adding the effects directly to the custom element\r\n    const isTemplate = target.localName == 'template';\r\n    // Provide data API and property effects on memoized template class\r\n    let klass = templateInfo.templatizeTemplateClass;\r\n    if (!klass) {\r\n      if (isTemplate) {\r\n        /**\r\n         * @constructor\r\n         * @extends {DataTemplate}\r\n         */\r\n        let templatizedBase =\r\n            options.mutableData ? MutableDataTemplate : DataTemplate;\r\n\r\n        // NOTE: due to https://github.com/google/closure-compiler/issues/2928,\r\n        // combining the next two lines into one assignment causes a spurious\r\n        // type error.\r\n        /** @private */\r\n        class TemplatizedTemplate extends templatizedBase {}\r\n        klass = templateInfo.templatizeTemplateClass = TemplatizedTemplate;\r\n      } else {\r\n        /**\r\n         * @constructor\r\n         * @extends {PolymerElement}\r\n         */\r\n        const templatizedBase = target.constructor;\r\n\r\n        // Create a cached subclass of the base custom element class onto which\r\n        // to put the template-specific propagate effects\r\n        // NOTE: due to https://github.com/google/closure-compiler/issues/2928,\r\n        // combining the next two lines into one assignment causes a spurious\r\n        // type error.\r\n        /** @private */\r\n        class TemplatizedTemplateExtension extends templatizedBase {}\r\n        klass = templateInfo.templatizeTemplateClass =\r\n            TemplatizedTemplateExtension;\r\n      }\r\n      // Add template - >instances effects\r\n      // and host <- template effects\r\n      let hostProps = templateInfo.hostProps;\r\n      for (let prop in hostProps) {\r\n        klass.prototype._addPropertyEffect('_host_' + prop,\r\n          klass.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,\r\n          {fn: createForwardHostPropEffect(prop, userForwardHostProp)});\r\n        klass.prototype._createNotifyingProperty('_host_' + prop);\r\n      }\r\n      if (legacyWarnings && methodHost) {\r\n        warnOnUndeclaredProperties(templateInfo, options, methodHost);\r\n      }\r\n    }\r\n    // Mix any pre-bound data into __data; no need to flush this to\r\n    // instances since they pull from the template at instance-time\r\n    if (target.__dataProto) {\r\n      // Note, generally `__dataProto` could be chained, but it's guaranteed\r\n      // to not be since this is a vanilla template we just added effects to\r\n      Object.assign(target.__data, target.__dataProto);\r\n    }\r\n    if (isTemplate) {\r\n      upgradeTemplate(target, klass);\r\n      // Clear any pending data for performance\r\n      target.__dataTemp = {};\r\n      target.__dataPending = null;\r\n      target.__dataOld = null;\r\n      target._enableProperties();\r\n    } else {\r\n      // Swizzle the cached subclass prototype onto the custom element\r\n      Object.setPrototypeOf(target, klass.prototype);\r\n      // Check for any pre-bound instance host properties, and do the\r\n      // instance property delete/assign dance for those (directly into data;\r\n      // not need to go through accessor since they are pulled at instance time)\r\n      const hostProps = templateInfo.hostProps;\r\n      for (let prop in hostProps) {\r\n        prop = '_host_' + prop;\r\n        if (prop in target) {\r\n          const val = target[prop];\r\n          delete target[prop];\r\n          target.__data[prop] = val;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n/* eslint-enable valid-jsdoc */\r\n\r\nfunction createForwardHostPropEffect(hostProp, userForwardHostProp) {\r\n  return function forwardHostProp(template, prop, props) {\r\n    userForwardHostProp.call(template.__templatizeOwner,\r\n      prop.substring('_host_'.length), props[prop]);\r\n  };\r\n}\r\n\r\nfunction addNotifyEffects(klass, template, templateInfo, options) {\r\n  let hostProps = templateInfo.hostProps || {};\r\n  for (let iprop in options.instanceProps) {\r\n    delete hostProps[iprop];\r\n    let userNotifyInstanceProp = options.notifyInstanceProp;\r\n    if (userNotifyInstanceProp) {\r\n      klass.prototype._addPropertyEffect(iprop,\r\n        klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,\r\n        {fn: createNotifyInstancePropEffect(iprop, userNotifyInstanceProp)});\r\n    }\r\n  }\r\n  if (options.forwardHostProp && template.__dataHost) {\r\n    for (let hprop in hostProps) {\r\n      // As we're iterating hostProps in this function, note whether\r\n      // there were any, for an optimization in addPropagateEffects\r\n      if (!templateInfo.hasHostProps) {\r\n        templateInfo.hasHostProps = true;\r\n      }\r\n      klass.prototype._addPropertyEffect(hprop,\r\n        klass.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,\r\n        {fn: createNotifyHostPropEffect()});\r\n    }\r\n  }\r\n}\r\n\r\nfunction createNotifyInstancePropEffect(instProp, userNotifyInstanceProp) {\r\n  return function notifyInstanceProp(inst, prop, props) {\r\n    userNotifyInstanceProp.call(inst.__templatizeOwner,\r\n      inst, prop, props[prop]);\r\n  };\r\n}\r\n\r\nfunction createNotifyHostPropEffect() {\r\n  return function notifyHostProp(inst, prop, props) {\r\n    inst.__dataHost._setPendingPropertyOrPath('_host_' + prop, props[prop], true, true);\r\n  };\r\n}\r\n\r\n\r\n/**\r\n * Returns an anonymous `PropertyEffects` class bound to the\r\n * `<template>` provided.  Instancing the class will result in the\r\n * template being stamped into a document fragment stored as the instance's\r\n * `root` property, after which it can be appended to the DOM.\r\n *\r\n * Templates may utilize all Polymer data-binding features as well as\r\n * declarative event listeners.  Event listeners and inline computing\r\n * functions in the template will be called on the host of the template.\r\n *\r\n * The constructor returned takes a single argument dictionary of initial\r\n * property values to propagate into template bindings.  Additionally\r\n * host properties can be forwarded in, and instance properties can be\r\n * notified out by providing optional callbacks in the `options` dictionary.\r\n *\r\n * Valid configuration in `options` are as follows:\r\n *\r\n * - `forwardHostProp(property, value)`: Called when a property referenced\r\n *   in the template changed on the template's host. As this library does\r\n *   not retain references to templates instanced by the user, it is the\r\n *   templatize owner's responsibility to forward host property changes into\r\n *   user-stamped instances.  The `instance.forwardHostProp(property, value)`\r\n *    method on the generated class should be called to forward host\r\n *   properties into the template to prevent unnecessary property-changed\r\n *   notifications. Any properties referenced in the template that are not\r\n *   defined in `instanceProps` will be notified up to the template's host\r\n *   automatically.\r\n * - `instanceProps`: Dictionary of property names that will be added\r\n *   to the instance by the templatize owner.  These properties shadow any\r\n *   host properties, and changes within the template to these properties\r\n *   will result in `notifyInstanceProp` being called.\r\n * - `mutableData`: When `true`, the generated class will skip strict\r\n *   dirty-checking for objects and arrays (always consider them to be\r\n *   \"dirty\").\r\n * - `notifyInstanceProp(instance, property, value)`: Called when\r\n *   an instance property changes.  Users may choose to call `notifyPath`\r\n *   on e.g. the owner to notify the change.\r\n * - `parentModel`: When `true`, events handled by declarative event listeners\r\n *   (`on-event=\"handler\"`) will be decorated with a `model` property pointing\r\n *   to the template instance that stamped it.  It will also be returned\r\n *   from `instance.parentModel` in cases where template instance nesting\r\n *   causes an inner model to shadow an outer model.\r\n *\r\n * All callbacks are called bound to the `owner`. Any context\r\n * needed for the callbacks (such as references to `instances` stamped)\r\n * should be stored on the `owner` such that they can be retrieved via\r\n * `this`.\r\n *\r\n * When `options.forwardHostProp` is declared as an option, any properties\r\n * referenced in the template will be automatically forwarded from the host of\r\n * the `<template>` to instances, with the exception of any properties listed in\r\n * the `options.instanceProps` object.  `instanceProps` are assumed to be\r\n * managed by the owner of the instances, either passed into the constructor\r\n * or set after the fact.  Note, any properties passed into the constructor will\r\n * always be set to the instance (regardless of whether they would normally\r\n * be forwarded from the host).\r\n *\r\n * Note that `templatize()` can be run only once for a given `<template>`.\r\n * Further calls will result in an error. Also, there is a special\r\n * behavior if the template was duplicated through a mechanism such as\r\n * `<dom-repeat>` or `<test-fixture>`. In this case, all calls to\r\n * `templatize()` return the same class for all duplicates of a template.\r\n * The class returned from `templatize()` is generated only once using\r\n * the `options` from the first call. This means that any `options`\r\n * provided to subsequent calls will be ignored. Therefore, it is very\r\n * important not to close over any variables inside the callbacks. Also,\r\n * arrow functions must be avoided because they bind the outer `this`.\r\n * Inside the callbacks, any contextual information can be accessed\r\n * through `this`, which points to the `owner`.\r\n *\r\n * @param {!HTMLTemplateElement} template Template to templatize\r\n * @param {Polymer_PropertyEffects=} owner Owner of the template instances;\r\n *   any optional callbacks will be bound to this owner.\r\n * @param {Object=} options Options dictionary (see summary for details)\r\n * @return {function(new:TemplateInstanceBase, Object=)} Generated class bound\r\n *   to the template provided\r\n * @suppress {invalidCasts}\r\n */\r\nexport function templatize(template, owner, options) {\r\n  // Under strictTemplatePolicy, the templatized element must be owned\r\n  // by a (trusted) Polymer element, indicated by existence of _methodHost;\r\n  // e.g. for dom-if & dom-repeat in main document, _methodHost is null\r\n  if (strictTemplatePolicy && !findMethodHost(template)) {\r\n    throw new Error('strictTemplatePolicy: template owner not trusted');\r\n  }\r\n  options = /** @type {!TemplatizeOptions} */(options || {});\r\n  if (template.__templatizeOwner) {\r\n    throw new Error('A <template> can only be templatized once');\r\n  }\r\n  template.__templatizeOwner = owner;\r\n  const ctor = owner ? owner.constructor : TemplateInstanceBase;\r\n  let templateInfo = ctor._parseTemplate(template);\r\n  // Get memoized base class for the prototypical template, which\r\n  // includes property effects for binding template & forwarding\r\n  /**\r\n   * @constructor\r\n   * @extends {TemplateInstanceBase}\r\n   */\r\n  let baseClass = templateInfo.templatizeInstanceClass;\r\n  if (!baseClass) {\r\n    baseClass = createTemplatizerClass(template, templateInfo, options);\r\n    templateInfo.templatizeInstanceClass = baseClass;\r\n  }\r\n  const methodHost = findMethodHost(template);\r\n  // Host property forwarding must be installed onto template instance\r\n  addPropagateEffects(template, templateInfo, options, methodHost);\r\n  // Subclass base class and add reference for this specific template\r\n  /** @private */\r\n  let klass = class TemplateInstance extends baseClass {};\r\n  /** @override */\r\n  klass.prototype._methodHost = methodHost;\r\n  /** @override */\r\n  klass.prototype.__dataHost = /** @type {!DataTemplate} */ (template);\r\n  /** @override */\r\n  klass.prototype.__templatizeOwner = /** @type {!Object} */ (owner);\r\n  /** @override */\r\n  klass.prototype.__hostProps = templateInfo.hostProps;\r\n  klass = /** @type {function(new:TemplateInstanceBase)} */(klass); //eslint-disable-line no-self-assign\r\n  return klass;\r\n}\r\n\r\nfunction warnOnUndeclaredProperties(templateInfo, options, methodHost) {\r\n  const declaredProps = methodHost.constructor._properties;\r\n  const {propertyEffects} = templateInfo;\r\n  const {instanceProps} = options;\r\n  for (let prop in propertyEffects) {\r\n    // Ensure properties with template effects are declared on the outermost\r\n    // host (`methodHost`), unless they are instance props or static functions\r\n    if (!declaredProps[prop] && !(instanceProps && instanceProps[prop])) {\r\n      const effects = propertyEffects[prop];\r\n      for (let i=0; i<effects.length; i++) {\r\n        const {part} = effects[i].info;\r\n        if (!(part.signature && part.signature.static)) {\r\n          console.warn(`Property '${prop}' used in template but not ` +\r\n            `declared in 'properties'; attribute will not be observed.`);\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Returns the template \"model\" associated with a given element, which\r\n * serves as the binding scope for the template instance the element is\r\n * contained in. A template model is an instance of\r\n * `TemplateInstanceBase`, and should be used to manipulate data\r\n * associated with this template instance.\r\n *\r\n * Example:\r\n *\r\n *   let model = modelForElement(el);\r\n *   if (model.index < 10) {\r\n *     model.set('item.checked', true);\r\n *   }\r\n *\r\n * @param {HTMLElement} template The model will be returned for\r\n *   elements stamped from this template (accepts either an HTMLTemplateElement)\r\n *   or a `<dom-if>`/`<dom-repeat>` element when using `removeNestedTemplates`\r\n *   optimization.\r\n * @param {Node=} node Node for which to return a template model.\r\n * @return {TemplateInstanceBase} Template instance representing the\r\n *   binding scope for the element\r\n */\r\nexport function modelForElement(template, node) {\r\n  let model;\r\n  while (node) {\r\n    // An element with a __templatizeInstance marks the top boundary\r\n    // of a scope; walk up until we find one, and then ensure that\r\n    // its __dataHost matches `this`, meaning this dom-repeat stamped it\r\n    if ((model = node.__dataHost ? node : node.__templatizeInstance)) {\r\n      // Found an element stamped by another template; keep walking up\r\n      // from its __dataHost\r\n      if (model.__dataHost != template) {\r\n        node = model.__dataHost;\r\n      } else {\r\n        return model;\r\n      }\r\n    } else {\r\n      // Still in a template scope, keep going up until\r\n      // a __templatizeInstance is found\r\n      node = wrap(node).parentNode;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport { TemplateInstanceBase };\r\n"],
  "mappings": "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",
  "names": ["MutableData", "OptionalMutableData"]
}
